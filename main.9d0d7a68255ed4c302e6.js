(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("uXP2"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return o});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),o=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.2","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("EY2u"),i=n("LRne"),o=n("HDdC");let s=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(r.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return an}),n.d(e,"b",function(){return Qc}),n.d(e,"c",function(){return $c}),n.d(e,"d",function(){return Gc}),n.d(e,"e",function(){return Kc}),n.d(e,"f",function(){return Gl}),n.d(e,"g",function(){return Fl}),n.d(e,"h",function(){return La}),n.d(e,"i",function(){return ll}),n.d(e,"j",function(){return la}),n.d(e,"k",function(){return nl}),n.d(e,"l",function(){return pa}),n.d(e,"m",function(){return Cr}),n.d(e,"n",function(){return _c}),n.d(e,"o",function(){return Eo}),n.d(e,"p",function(){return mn}),n.d(e,"q",function(){return un}),n.d(e,"r",function(){return Uo}),n.d(e,"s",function(){return ja}),n.d(e,"t",function(){return ka}),n.d(e,"u",function(){return el}),n.d(e,"v",function(){return $a}),n.d(e,"w",function(){return Vl}),n.d(e,"x",function(){return Ka}),n.d(e,"y",function(){return jl}),n.d(e,"z",function(){return dl}),n.d(e,"A",function(){return yn}),n.d(e,"B",function(){return Xc}),n.d(e,"C",function(){return Yc}),n.d(e,"D",function(){return ba}),n.d(e,"E",function(){return ga}),n.d(e,"F",function(){return Sr}),n.d(e,"G",function(){return ma}),n.d(e,"H",function(){return yr}),n.d(e,"I",function(){return _n}),n.d(e,"J",function(){return Bl}),n.d(e,"K",function(){return qa}),n.d(e,"L",function(){return wl}),n.d(e,"M",function(){return cn}),n.d(e,"N",function(){return wa}),n.d(e,"O",function(){return ya}),n.d(e,"P",function(){return Ja}),n.d(e,"Q",function(){return k}),n.d(e,"R",function(){return kl}),n.d(e,"S",function(){return Sl}),n.d(e,"T",function(){return d}),n.d(e,"U",function(){return Tl}),n.d(e,"V",function(){return zl}),n.d(e,"W",function(){return El}),n.d(e,"X",function(){return tl}),n.d(e,"Y",function(){return Ao}),n.d(e,"Z",function(){return su}),n.d(e,"ab",function(){return vr}),n.d(e,"bb",function(){return Qn}),n.d(e,"cb",function(){return Bn}),n.d(e,"db",function(){return qn}),n.d(e,"eb",function(){return Kn}),n.d(e,"fb",function(){return Wn}),n.d(e,"gb",function(){return zn}),n.d(e,"hb",function(){return Gn}),n.d(e,"ib",function(){return nu}),n.d(e,"jb",function(){return ql}),n.d(e,"kb",function(){return ru}),n.d(e,"lb",function(){return iu}),n.d(e,"mb",function(){return Hn}),n.d(e,"nb",function(){return L}),n.d(e,"ob",function(){return Zo}),n.d(e,"pb",function(){return gs}),n.d(e,"qb",function(){return ps}),n.d(e,"rb",function(){return eu}),n.d(e,"sb",function(){return At}),n.d(e,"tb",function(){return l}),n.d(e,"ub",function(){return Mn}),n.d(e,"vb",function(){return Bo}),n.d(e,"wb",function(){return yt}),n.d(e,"xb",function(){return ua}),n.d(e,"yb",function(){return Ci}),n.d(e,"zb",function(){return es}),n.d(e,"Ab",function(){return Rs}),n.d(e,"Bb",function(){return Js}),n.d(e,"Cb",function(){return Ps}),n.d(e,"Db",function(){return Lc}),n.d(e,"Eb",function(){return $}),n.d(e,"Fb",function(){return et}),n.d(e,"Gb",function(){return v}),n.d(e,"Hb",function(){return m}),n.d(e,"Ib",function(){return X}),n.d(e,"Jb",function(){return nt}),n.d(e,"Kb",function(){return os}),n.d(e,"Lb",function(){return ls}),n.d(e,"Mb",function(){return fs}),n.d(e,"Nb",function(){return hs}),n.d(e,"Ob",function(){return cs}),n.d(e,"Pb",function(){return as}),n.d(e,"Qb",function(){return ds}),n.d(e,"Rb",function(){return nn}),n.d(e,"Sb",function(){return Ys}),n.d(e,"Tb",function(){return Yu}),n.d(e,"Ub",function(){return Qu}),n.d(e,"Vb",function(){return Xu}),n.d(e,"Wb",function(){return jn}),n.d(e,"Xb",function(){return rn}),n.d(e,"Yb",function(){return Wc}),n.d(e,"Zb",function(){return bs}),n.d(e,"ac",function(){return Mc}),n.d(e,"bc",function(){return ys}),n.d(e,"cc",function(){return bc}),n.d(e,"dc",function(){return vc}),n.d(e,"ec",function(){return mc}),n.d(e,"fc",function(){return Os}),n.d(e,"gc",function(){return _s}),n.d(e,"hc",function(){return ss}),n.d(e,"ic",function(){return Es}),n.d(e,"jc",function(){return Cs}),n.d(e,"kc",function(){return hc}),n.d(e,"lc",function(){return fc}),n.d(e,"mc",function(){return dc}),n.d(e,"nc",function(){return Pc}),n.d(e,"oc",function(){return is}),n.d(e,"pc",function(){return Wt}),n.d(e,"qc",function(){return wr}),n.d(e,"rc",function(){return Q}),n.d(e,"sc",function(){return Vc}),n.d(e,"tc",function(){return Rc}),n.d(e,"uc",function(){return ks}),n.d(e,"vc",function(){return rs}),n.d(e,"wc",function(){return zc}),n.d(e,"xc",function(){return Gs}),n.d(e,"yc",function(){return Ks}),n.d(e,"zc",function(){return $s}),n.d(e,"Ac",function(){return Zs}),n.d(e,"Bc",function(){return Nc});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("w1tV");function a(t){for(let e in t)if(t[e]===a)return e;throw Error("Could not find renamed property on target object.")}function c(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const f=a({__forward_ref__:a});function d(t){return t.__forward_ref__=d,t.toString=function(){return l(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(f)&&t.__forward_ref__===d}function b(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function m(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function y(t){return w(t,O)||w(t,C)}function w(t,e){return t.hasOwnProperty(e)?t[e]:null}function _(t){return t&&(t.hasOwnProperty(E)||t.hasOwnProperty(A))?t[E]:null}const O=a({"\u0275prov":a}),E=a({"\u0275inj":a}),C=a({ngInjectableDef:a}),A=a({ngInjectorDef:a});var x=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let I;function T(t){const e=I;return I=t,e}function S(t,e,n){const r=y(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&x.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${l(t)}]`)}function D(t){return{toString:t}.toString()}var j=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),k=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const P="undefined"!=typeof globalThis&&globalThis,R="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,F="undefined"!=typeof global&&global,L=P||F||R||N,V={},U=[],M=a({"\u0275cmp":a}),B=a({"\u0275dir":a}),H=a({"\u0275pipe":a}),q=a({"\u0275mod":a}),z=a({"\u0275loc":a}),W=a({"\u0275fac":a}),G=a({__NG_ELEMENT_ID__:a});let K=0;function $(t){return D(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===j.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||U,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||k.Emulated,id:"c",styles:t.styles||U,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=K++,n.inputs=tt(t.inputs,e),n.outputs=tt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(Z):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(J):null,n})}function Z(t){return rt(t)||function(t){return t[B]||null}(t)}function J(t){return function(t){return t[H]||null}(t)}const Y={};function X(t){const e={type:t.type,bootstrap:t.bootstrap||U,declarations:t.declarations||U,imports:t.imports||U,exports:t.exports||U,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&D(()=>{Y[t.id]=t.type}),e}function Q(t,e){return D(()=>{const n=it(t,!0);n.declarations=e.declarations||U,n.imports=e.imports||U,n.exports=e.exports||U})}function tt(t,e){if(null==t)return V;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const et=$;function nt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function rt(t){return t[M]||null}function it(t,e){const n=t[q]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const ot=20,st=10;function ut(t){return Array.isArray(t)&&"object"==typeof t[1]}function at(t){return Array.isArray(t)&&!0===t[1]}function ct(t){return 0!=(8&t.flags)}function lt(t){return 2==(2&t.flags)}function ht(t){return 1==(1&t.flags)}function ft(t){return null!==t.template}function dt(t,e){return t.hasOwnProperty(W)?t[W]:null}class pt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function gt(t){return"string"==typeof t?t:null==t?"":String(t)}function bt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():gt(t)}function vt(t,e){const n=e?" in "+e:"";throw new pt("201",`No provider for ${bt(t)} found${n}`)}class mt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function yt(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ot),_t}function _t(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===V)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ot(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:V,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new mt(a&&a.currentValue,e,s===V),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}yt.ngInherit=!0;let Ct=void 0;function At(t){Ct=t}function xt(){return void 0!==Ct?Ct:"undefined"!=typeof document?document:void 0}function It(t){return!!t.listen}const Tt={createRenderer:(t,e)=>xt()};function St(t){for(;Array.isArray(t);)t=t[0];return t}function Dt(t,e){return St(e[t])}function jt(t,e){return St(e[t.index])}function kt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function Rt(t,e){const n=e[t];return ut(n)?n:n[0]}function Nt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Vt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function Mt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ht(){return Bt.bindingsEnabled}function qt(){return Bt.lFrame.lView}function zt(){return Bt.lFrame.tView}function Wt(t){Bt.lFrame.contextLView=t}function Gt(){let t=Kt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Kt(){return Bt.lFrame.currentTNode}function $t(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Zt(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Jt(){return Bt.lFrame.isParent}function Yt(){Bt.lFrame.isParent=!1}function Xt(){return Bt.isInCheckNoChangesMode}function Qt(t){Bt.isInCheckNoChangesMode=t}function te(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ee(){return Bt.lFrame.bindingIndex}function ne(){return Bt.lFrame.bindingIndex++}function re(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t){Bt.lFrame.inI18n=t}function oe(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,se(e)}function se(t){Bt.lFrame.currentDirectiveIndex=t}function ue(){return Bt.lFrame.currentQueryIndex}function ae(t){Bt.lFrame.currentQueryIndex=t}function ce(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function le(t,e,n){if(n&x.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&x.Host||(r=ce(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=fe();return r.currentTNode=e,r.lView=t,!0}function he(t){const e=fe(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fe(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pe(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ge=pe;function be(){const t=pe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ve(){return Bt.lFrame.selectedIndex}function me(t){Bt.lFrame.selectedIndex=t}function ye(){const t=Bt.lFrame;return kt(t.tView,t.selectedIndex)}function we(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function _e(t,e,n){Ce(t,e,3,n)}function Oe(t,e,n,r){(3&t[2])===n&&Ce(t,e,n,r)}function Ee(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ce(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ae(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Ae(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const xe=-1;class Ie{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=It(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];De(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Se(t){return 3===t||4===t||6===t}function De(t){return 64===t.charCodeAt(0)}function je(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Pe(t){return t!==xe}function Re(t){return 32767&t}function Ne(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Fe=!0;function Le(t){const e=Fe;return Fe=t,e}let Ve=0;function Ue(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Me(r.data,t),Me(e,null),Me(r.blueprint,null));const i=He(t,e),o=t.injectorIndex;if(Pe(i)){const t=Re(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Me(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function He(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xe}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(G)&&(r=n[G]),null==r&&(r=n[G]=Ve++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function ze(t,e,n){if(n&x.Optional)return t;vt(e,"NodeInjector")}function We(t,e,n,r){if(n&x.Optional&&void 0===r&&(r=null),0==(n&(x.Self|x.Host))){const i=t[9],o=T(void 0);try{return i?i.get(e,r,n&x.Optional):S(e,r,n&x.Optional)}finally{T(o)}}return ze(r,e,n)}function Ge(t,e,n,r=x.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(G)?t[G]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof o){if(!le(e,t,r))return r&x.Host?ze(i,n,r):We(e,n,r,i);try{const t=o();if(null!=t||r&x.Optional)return t;vt(n)}finally{ge()}}else if("number"==typeof o){let i=null,s=Be(t,e),u=xe,a=r&x.Host?e[16][6]:null;for((-1===s||r&x.SkipSelf)&&(u=-1===s?He(t,e):e[s+8],u!==xe&&Qe(r,!1)?(i=e[1],s=Re(u),e=Ne(u,e)):s=-1);-1!==s;){const t=e[1];if(Xe(o,s,t.data)){const t=Ze(s,e,n,i,r,a);if(t!==Ke)return t}u=e[s+8],u!==xe&&Qe(r,e[1].data[s+8]===a)&&Xe(o,s,e)?(i=t,s=Re(u),e=Ne(u,e)):s=-1}}}return We(e,n,r,i)}const Ke={};function $e(){return new tn(Gt(),qt())}function Ze(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=Je(u,s,n,null==r?lt(u)&&Fe:r!=s&&0!=(3&u.type),i&x.Host&&o===u);return null!==a?Ye(e,s,a,u):Ke}function Je(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&ft(t)&&t.type===n)return a}return null}function Ye(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ie){const s=i;s.resolving&&function(t,e){throw new pt("200","Circular dependency in DI detected for "+t)}(bt(o[n]));const u=Le(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?T(s.injectImpl):null;le(t,r,x.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&T(a),Le(u),s.resolving=!1,ge()}}return i}function Xe(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Qe(t,e){return!(t&x.Self||t&x.Host&&e)}class tn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ge(this._tNode,this._lView,t,void 0,e)}}function en(t){const e=t;if(g(t))return()=>{const t=en(p(e));return t?t():null};let n=dt(e);if(null===n){const t=_(e);n=t&&t.factory}return n||null}function nn(t){return D(()=>{const e=t.prototype.constructor,n=e[W]||en(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[W]||en(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function rn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Se(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Gt(),t)}const on="__parameters__";function sn(t,e,n){return D(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(on)?t[on]:Object.defineProperty(t,on,{value:[]})[on];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class un{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=v({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const an=new un("AnalyzeForEntryComponents"),cn=Function;function ln(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),ln(r,e)):e!==t&&e.push(r)}return e}function hn(t,e){t.forEach(t=>Array.isArray(t)?hn(t,e):e(t))}function fn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function dn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function gn(t,e,n){let r=vn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function bn(t,e){const n=vn(t,e);if(n>=0)return t[1|n]}function vn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const mn=sn("Inject",t=>({token:t})),yn=sn("Optional"),wn=sn("Self"),_n=sn("SkipSelf"),On=sn("Host"),En={},Cn=/\n/gm,An="__source",xn=a({provide:String,useValue:a});let In,Tn=void 0;function Sn(t){const e=Tn;return Tn=t,e}function Dn(t,e=x.Default){if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?S(t,void 0,e):Tn.get(t,e&x.Optional?null:void 0,e)}function jn(t,e=x.Default){return(I||Dn)(p(t),e)}function kn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=x.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof yn||"Optional"===i.ngMetadataName||i===yn?n|=x.Optional:i instanceof _n||"SkipSelf"===i.ngMetadataName||i===_n?n|=x.SkipSelf:i instanceof wn||"Self"===i.ngMetadataName||i===wn?n|=x.Self:i instanceof On||"Host"===i.ngMetadataName||i===On?n|=x.Host:t=i instanceof mn||i===mn?i.token:i}e.push(jn(t,n))}else e.push(jn(r))}return e}function Pn(t){var e;return(null===(e=function(){if(void 0===In&&(In=null,L.trustedTypes))try{In=L.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return In}())||void 0===e?void 0:e.createHTML(t))||t}class Rn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Nn extends Rn{getTypeName(){return"HTML"}}class Fn extends Rn{getTypeName(){return"Style"}}class Ln extends Rn{getTypeName(){return"Script"}}class Vn extends Rn{getTypeName(){return"URL"}}class Un extends Rn{getTypeName(){return"ResourceURL"}}function Mn(t){return t instanceof Rn?t.changingThisBreaksApplicationSecurity:t}function Bn(t,e){const n=Hn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Hn(t){return t instanceof Rn&&t.getTypeName()||null}function qn(t){return new Nn(t)}function zn(t){return new Fn(t)}function Wn(t){return new Ln(t)}function Gn(t){return new Vn(t)}function Kn(t){return new Un(t)}function $n(t){const e=new Jn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new Zn(e):e}class Zn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Jn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qn(t){return(t=String(t)).match(Yn)||t.match(Xn)?t:"unsafe:"+t}function tr(t){return(t=String(t)).split(",").map(t=>Qn(t.trim())).join(", ")}function er(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function nr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const rr=er("area,br,col,hr,img,wbr"),ir=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=er("rp,rt"),sr=nr(or,ir),ur=nr(rr,nr(ir,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(or,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr),ar=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cr=er("srcset"),lr=nr(ar,cr,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=er("script,style,template");class fr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ur.hasOwnProperty(e))return this.sanitizedSomething=!0,!hr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!lr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let o=t.value;ar[i]&&(o=Qn(o)),cr[i]&&(o=tr(o)),this.buf.push(" ",e,'="',gr(o),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ur.hasOwnProperty(e)&&!rr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(gr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const dr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/([^\#-~ |!])/g;function gr(t){return t.replace(/&/g,"&amp;").replace(dr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let br;function vr(t,e){let n=null;try{br=br||$n(t);let r=e?String(e):"";n=br.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=br.getInertBodyElement(r)}while(r!==o);return(new fr).sanitizeChildren(mr(n)||n)}finally{if(n){const t=mr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function mr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function wr(t){const e=function(){const t=qt();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Bn(t,"URL")?Mn(t):Qn(gt(t))}function _r(t){return t.ngDebugContext}function Or(t){return t.ngOriginalError}function Er(t,...e){t.error(...e)}class Cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Er}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_r(t)?_r(t):this._findContext(Or(t)):null}_findOriginalError(t){let e=Or(t);for(;e&&Or(e);)e=Or(e);return e}}const Ar=/-->/g;function xr(t,e){t.__ngContext__=e}const Ir=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(L))();function Tr(t){return t instanceof Function?t():t}var Sr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Dr;function jr(t,e){return Dr(t,e)}function kr(t){const e=t[3];return at(e)?e[3]:e}function Pr(t){return Nr(t[13])}function Rr(t){return Nr(t[4])}function Nr(t){for(;null!==t&&!at(t);)t=t[4];return t}function Fr(t,e,n,r,i){if(null!=r){let o,s=!1;at(r)?o=r:ut(r)&&(s=!0,r=r[0]);const u=St(r);0===t&&null!==n?null==i?$r(e,n,u):Kr(e,n,u,i||null,!0):1===t&&null!==n?Kr(e,n,u,i||null,!0):2===t?oi(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==St(n)&&Fr(e,t,r,o,i);for(let s=st;s<n.length;s++){const i=n[s];ui(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Lr(t,e){return It(t)?t.createText(e):t.createTextNode(e)}function Vr(t,e,n){It(t)?t.setValue(e,n):e.textContent=n}function Ur(t,e){return t.createComment(function(t){return t.replace(Ar,"-\u200b-\u200b>")}(e))}function Mr(t,e,n){return It(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Br(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Mt(i,-1)),n.splice(r,1)}function Hr(t,e){if(t.length<=st)return;const n=st+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&Br(o,r),e>0&&(t[n-1][4]=r[4]);const s=dn(t,st+e);ui(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function qr(t,e){if(!(256&e[2])){const n=e[11];It(n)&&n.destroyNode&&ui(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return zr(t[1],t);for(;e;){let n=null;if(ut(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ut(e)&&zr(e[1],e),e=e[3];null===e&&(e=t),ut(e)&&zr(e[1],e),n=e&&e[4]}e=n}}(e)}}function zr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ie)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):St(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&It(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&at(e[3])){n!==e[3]&&Br(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Wr(t,e,n){return Gr(t,e.parent,n)}function Gr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===k.None||e===k.Emulated)return null}return jt(r,n)}function Kr(t,e,n,r,i){It(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function $r(t,e,n){It(t)?t.appendChild(e,n):e.appendChild(n)}function Zr(t,e,n,r,i){null!==r?Kr(t,e,n,r,i):$r(t,e,n)}function Jr(t,e){return It(t)?t.parentNode(e):e.parentNode}function Yr(t,e,n){return ti(t,e,n)}function Xr(t,e,n){return 40&t.type?jt(t,n):null}let Qr,ti=Xr;function ei(t,e){ti=t,Qr=e}function ni(t,e,n,r){const i=Wr(t,r,e),o=e[11],s=Yr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Zr(o,i,n[u],s,!1);else Zr(o,i,n,s,!1);void 0!==Qr&&Qr(o,r,e,n,i)}function ri(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return ii(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ri(t,n);{const n=t[e.index];return at(n)?ii(-1,n):St(n)}}if(32&n)return jr(e,t)()||St(t[e.index]);{const n=t[16],r=n[6],i=kr(n),o=r.projection[e.projection];return null!=o?ri(i,o):ri(t,e.next)}}return null}function ii(t,e){const n=st+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ri(t,r)}return e[7]}function oi(t,e,n){const r=Jr(t,e);r&&function(t,e,n,r){It(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function si(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&xr(St(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)si(t,e,n.child,r,i,o,!1),Fr(e,t,i,u,o);else if(32&a){const s=jr(n,r);let a;for(;a=s();)Fr(e,t,i,a,o);Fr(e,t,i,u,o)}else 16&a?ai(t,e,r,n,i,o):Fr(e,t,i,u,o);n=s?n.projectionNext:n.next}}function ui(t,e,n,r,i,o){si(n,r,t.firstChild,e,i,o,!1)}function ai(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)Fr(e,t,i,u[a],o);else si(t,e,u,s[3],i,o,!0)}function ci(t,e,n){It(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function li(t,e,n){It(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function hi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const fi="ng-template";function di(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==hi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function pi(t){return 4===t.type&&t.value!==fi}function gi(t,e,n){return e===(4!==t.type||n?t.value:fi)}function bi(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!gi(t,a,n)||""===a&&1===e.length){if(vi(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!di(t.attrs,c,n)){if(vi(r))return!1;s=!0}continue}const l=mi(8&r?"class":a,i,pi(t),n);if(-1===l){if(vi(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==hi(e,c,0)||2&r&&c!==t){if(vi(r))return!1;s=!0}}}}else{if(!s&&!vi(r)&&!vi(a))return!1;if(s&&vi(a))continue;s=!1,r=a|1&r}}return vi(r)||s}function vi(t){return 0==(1&t)}function mi(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function yi(t,e,n=!1){for(let r=0;r<e.length;r++)if(bi(t,e[r],n))return!0;return!1}function wi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function _i(t,e){return t?":not("+e.trim()+")":e}function Oi(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||vi(s)||(e+=_i(o,i),i=""),r=s,o=o||!vi(r);n++}return""!==i&&(e+=_i(o,i)),e}const Ei={};function Ci(t){Ai(zt(),qt(),ve()+t,Xt())}function Ai(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&_e(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Oe(e,r,0,n)}me(n)}function xi(t,e){return t<<17|e<<2}function Ii(t){return t>>17&32767}function Ti(t){return 2|t}function Si(t){return(131068&t)>>2}function Di(t,e){return-131069&t|e<<2}function ji(t){return 1|t}function ki(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];ae(i),n.contentQueries(2,e[o],o)}}}function Pi(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Ri(t,e,n,r,i){let o=t.data[e];if(null===o)o=Ni(t,e,n,r,i),Bt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=$t();o.injectorIndex=null===t?-1:t.injectorIndex}return Zt(o,!0),o}function Ni(t,e,n,r,i){const o=Kt(),s=Jt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}function Fi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Li(t,e,n){he(e);try{const r=t.viewQuery;null!==r&&go(1,r,n);const i=t.template;null!==i&&Mi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ki(t,e),t.staticViewQueries&&go(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)co(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function Vi(t,e,n,r){const i=e[2];if(256==(256&i))return;he(e);const o=Xt();try{Ut(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Mi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&_e(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Oe(e,n,0,null),Ee(e,0)}if(function(t){for(let e=Pr(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Mt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Pr(t);null!==e;e=Rr(e))for(let t=st;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&Vi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ki(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&_e(e,n)}else{const n=t.contentHooks;null!==n&&Oe(e,n,1),Ee(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)me(~r);else{const i=r,o=n[++t],s=n[++t];oe(o,i),s(2,e[i])}}}finally{me(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)uo(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&go(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&_e(e,n)}else{const n=t.viewHooks;null!==n&&Oe(e,n,2),Ee(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Mt(e[3],-1))}finally{be()}}function Ui(t,e,n,r){const i=e[10],o=!Xt(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&Li(t,e,r),Vi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Mi(t,e,n,r,i){const o=ve();try{me(-1),2&r&&e.length>ot&&Ai(t,e,ot,Xt()),n(r,i)}finally{me(o)}}function Bi(t,e,n){if(ct(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Hi(t,e,n){Ht()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ue(n,e),xr(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=ft(r);o&&no(e,n,r);const a=Ye(e,t,u,n);xr(a,e),null!==s&&io(0,u-i,a,r,0,s),o&&(Rt(n.index,e)[8]=a)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Bt.lFrame.currentDirectiveIndex;try{me(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];se(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Yi(r,i)}}finally{me(-1),se(s)}}(t,e,n))}function qi(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function zi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Wi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Wi(t,e,n,r,i,o,s,u,a,c){const l=ot+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ei);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function Gi(t,e,n,r){const i=vo(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&mo(t).push(r,i.length-1))}function Ki(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function $i(t,e,n,r,i,o,s,u){const a=jt(e,n);let c,l=e.inputs;!u&&null!=l&&(c=l[r])?(wo(t,n,c,r,i),lt(e)&&function(t,e){const n=Rt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,It(o)?o.setProperty(a,r,i):De(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function Zi(t,e,n,r){let i=!1;if(Ht()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];yi(n,s.selectors,!1)&&(i||(i=[]),qe(Ue(n,e),t,s.type),ft(s)?(Xi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,to(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=Fi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=je(n.mergedAttrs,c.hostAttrs),eo(t,n,e,a,c),Qi(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||pi(e)?null:oo(n,i);o.push(c),s=Ki(n,a,s),u=Ki(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new pt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=je(n.mergedAttrs,n.attrs),i}function Ji(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function Yi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Xi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Qi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ft(e)&&(n[""]=t)}}function to(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function eo(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=dt(i.type)),s=new Ie(o,ft(i),null);t.blueprint[r]=s,n[r]=s,Ji(t,e,0,r,Fi(t,n,i.hostVars,Ei),i)}function no(t,e,n){const r=jt(e,t),i=zi(n),o=t[10],s=lo(t,Pi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function ro(t,e,n,r,i,o,s){if(null==o)It(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?gt(o):s(o,r||"",i);It(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}function io(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function oo(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function so(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function uo(t,e){const n=Rt(e,t);if(Lt(n)){const t=n[1];80&n[2]?Vi(t,n,t.template,n[8]):n[5]>0&&ao(n)}}function ao(t){for(let n=Pr(t);null!==n;n=Rr(n))for(let t=st;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Vi(t,e,t.template,e[8])}else e[5]>0&&ao(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Rt(e[n],t);Lt(r)&&r[5]>0&&ao(r)}}function co(t,e){const n=Rt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Li(r,n,n[8])}function lo(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ho(t){for(;t;){t[2]|=64;const e=kr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function fo(t,e,n){const r=e[10];r.begin&&r.begin();try{Vi(t,e,t.template,n)}catch(i){throw yo(e,i),i}finally{r.end&&r.end()}}function po(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Nt(n),i=r[1];Ui(i,r,i.template,n)}}(t[8])}function go(t,e,n){ae(0),e(t,n)}const bo=(()=>Promise.resolve(null))();function vo(t){return t[7]||(t[7]=[])}function mo(t){return t.cleanup||(t.cleanup=[])}function yo(t,e){const n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function wo(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function _o(t,e,n){const r=Dt(e,t);Vr(t[11],r,n)}function Oo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=h(i,t):2==o&&(r=h(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Eo=new un("INJECTOR",-1);class Co{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ao=new un("Set Injector scope."),xo={},Io={},To=[];let So=void 0;function Do(){return void 0===So&&(So=new Co),So}function jo(t,e=null,n=null,r){return new ko(t,n,e||Do(),r)}class ko{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&hn(e,n=>this.processProvider(n,t,e)),hn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Eo,No(void 0,this));const o=this.records.get(Ao);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=x.Default){this.assertNotDestroyed();const r=Sn(this);try{if(!(n&x.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof un)&&y(t);e=n&&this.injectableDefInScope(n)?No(Po(t),xo):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&x.Self?Do():this.parent).get(t,e=n&x.Optional&&e===En?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(l(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[An]&&i.unshift(e[An]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Cn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Sn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=_(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=_(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{hn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];hn(r,t=>this.processProvider(t,n,r||To))}}this.injectorDefTypes.add(o),this.records.set(o,No(r.factory,xo));const u=r.providers;if(null!=u&&!s){const e=t;hn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Lo(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Fo(t)?No(void 0,t.useValue):No(Ro(t),xo)}(t);if(Lo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=No(void 0,xo,!0),e.factory=()=>kn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===xo&&(e.value=Io,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Po(t){const e=y(t),n=null!==e?e.factory:dt(t);if(null!==n)return n;const r=_(t);if(null!==r)return r.factory;if(t instanceof un)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[C]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Ro(t,e,n){let r=void 0;if(Lo(t)){const e=p(t);return dt(e)||Po(e)}if(Fo(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...kn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>jn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return dt(e)||Po(e);r=()=>new e(...kn(t.deps))}var i;return r}function No(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Fo(t){return null!==t&&"object"==typeof t&&xn in t}function Lo(t){return"function"==typeof t}const Vo=function(t,e,n){return function(t,e=null,n=null,r){const i=jo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Uo=(()=>{class t{static create(t,e){return Array.isArray(t)?Vo(t,e,""):Vo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new Co,t.\u0275prov=v({token:t,providedIn:"any",factory:()=>jn(Eo)}),t.__NG_ELEMENT_ID__=-1,t})();function Mo(t,e){we(Nt(t)[1],Gt())}function Bo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(ft(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ho(t.inputs),e.declaredInputs=Ho(t.declaredInputs),e.outputs=Ho(t.outputs);const n=i.hostBindings;n&&Wo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&qo(t,o),s&&zo(t,s),c(t.inputs,i.inputs),c(t.declaredInputs,i.declaredInputs),c(t.outputs,i.outputs),ft(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Bo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=je(i.hostAttrs,n=je(n,i.hostAttrs))}}(r)}function Ho(t){return t===V?{}:t===U?[]:t}function qo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function zo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Wo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Go=null;function Ko(){if(!Go){const t=L.Symbol;if(t&&t.iterator)Go=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Go=n)}}}return Go}class $o{constructor(t){this.wrapped=t}static wrap(t){return new $o(t)}static unwrap(t){return $o.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof $o}}function Zo(t){return!!Jo(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ko()in t)}function Jo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Yo(t,e,n){return t[e]=n}function Xo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Qo(t,e,n,r){const i=Xo(t,e,n);return Xo(t,e+1,r)||i}function ts(t,e,n,r,i,o){const s=Qo(t,e,n,r);return Qo(t,e+2,i,o)||s}function es(t,e,n,r){const i=qt();return Xo(i,ne(),e)&&(zt(),function(t,e,n,r,i,o){const s=jt(t,e);ro(e[11],s,o,t.value,n,r,i)}(ye(),i,t,e,n,r)),es}function ns(t,e,n,r){return Xo(t,ne(),n)?e+gt(n)+r:Ei}function rs(t,e,n,r,i,o,s,u){const a=qt(),c=zt(),l=t+ot,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=Ri(e,t,4,s||null,Vt(c,u));Zi(e,n,l,Vt(c,a)),we(e,l);const h=l.tViews=Wi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Zt(h,!1);const f=a[11].createComment("");ni(c,a,f,h),xr(f,a),lo(a,a[l]=so(f,a,f,h)),ht(h)&&Hi(c,a,h),null!=s&&qi(a,h,u)}function is(t){return Pt(Bt.lFrame.contextLView,ot+t)}function os(t,e=x.Default){const n=qt();return null===n?jn(t,e):Ge(Gt(),n,p(t),e)}function ss(t,e,n){const r=qt();return Xo(r,ne(),e)&&$i(zt(),ye(),r,t,e,r[11],n,!1),ss}function us(t,e,n,r,i){const o=i?"class":"style";wo(t,n,e.inputs[o],o,r)}function as(t,e,n,r){const i=qt(),o=zt(),s=ot+t,u=i[11],a=i[s]=Mr(u,e,Bt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=Ri(e,t,2,i,Vt(u,o));return Zi(e,n,a,Vt(u,s)),null!==a.attrs&&Oo(a,a.attrs,!1),null!==a.mergedAttrs&&Oo(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Zt(c,!0);const l=c.mergedAttrs;null!==l&&Te(u,a,l);const h=c.classes;null!==h&&li(u,a,h);const f=c.styles;null!==f&&ci(u,a,f),64!=(64&c.flags)&&ni(o,i,a,c),0===Bt.lFrame.elementDepthCount&&xr(a,i),Bt.lFrame.elementDepthCount++,ht(c)&&(Hi(o,i,c),Bi(o,c,i)),null!==r&&qi(i,c)}function cs(){let t=Gt();Jt()?Yt():(t=t.parent,Zt(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=zt();n.firstCreatePass&&(we(n,t),ct(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&us(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&us(n,e,qt(),e.stylesWithoutHost,!1)}function ls(t,e,n,r){as(t,e,n,r),cs()}function hs(t,e,n){const r=qt(),i=zt(),o=t+ot,s=i.firstCreatePass?function(t,e,n,r,i){const o=e.consts,s=Vt(o,r),u=Ri(e,t,8,"ng-container",s);return null!==s&&Oo(u,s,!0),Zi(e,n,u,Vt(o,i)),null!==e.queries&&e.queries.elementStart(e,u),u}(o,i,r,e,n):i.data[o];Zt(s,!0);const u=r[o]=r[11].createComment("");ni(i,r,u,s),xr(u,r),ht(s)&&(Hi(i,r,s),Bi(i,s,r)),null!=n&&qi(r,s)}function fs(){let t=Gt();const e=zt();Jt()?Yt():(t=t.parent,Zt(t,!1)),e.firstCreatePass&&(we(e,t),ct(t)&&e.queries.elementEnd(t))}function ds(){return qt()}function ps(t){return!!t&&"function"==typeof t.then}function gs(t){return!!t&&"function"==typeof t.subscribe}function bs(t,e,n=!1,r){const i=qt(),o=zt(),s=Gt();return function(t,e,n,r,i,o,s=!1,u){const a=ht(r),c=t.firstCreatePass&&mo(t),l=vo(e);let h=!0;if(3&r.type){const f=jt(r,e),d=u?u(f):V,p=d.target||f,g=l.length,b=u?t=>u(St(t[r.index])).target:r.index;if(It(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=ms(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,b,g,g+1)}}else o=ms(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,b,g,s)}else o=ms(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),bs}function vs(t,e,n){try{return!1!==e(n)}catch(r){return yo(t,r),!1}}function ms(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Rt(t.index,e):e;0==(32&e[2])&&ho(s);let u=vs(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=vs(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ys(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function ws(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const o=e[i];if("*"!==o){if(null===r?yi(t,o,!0):wi(r,o))return i}else n=i}return n}function _s(t){const e=qt()[16][6];if(!e.projection){const n=e.projection=pn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ws(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Os(t,e=0,n){const r=qt(),i=zt(),o=Ri(i,ot+t,16,null,n||null);null===o.projection&&(o.projection=e),Yt(),64!=(64&o.flags)&&function(t,e,n){ai(e[11],0,e,n,Wr(t,n,e),Yr(n.parent||e[6],n,e))}(i,r,o)}function Es(t,e,n){return Cs(t,"",e,"",n),Es}function Cs(t,e,n,r,i){const o=qt(),s=ns(o,e,n,r);return s!==Ei&&$i(zt(),ye(),o,t,s,o[11],i,!1),Cs}const As=[];function xs(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?Ii(o):Si(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];Is(t[u],e)&&(a=!0,t[u+1]=r?ji(n):Ti(n)),u=r?Ii(n):Si(n)}a&&(t[n+1]=r?Ti(o):ji(o))}function Is(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&vn(t,e)>=0}const Ts={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ss(t){return t.substring(Ts.key,Ts.keyEnd)}function Ds(t,e){const n=Ts.textEnd;return n===e?-1:(e=Ts.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Ts.key=e,n),js(t,e,n))}function js(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function ks(t,e,n){return Fs(t,e,n,!1),ks}function Ps(t,e){return Fs(t,e,null,!0),Ps}function Rs(t){Ls(gn,Ns,t,!0)}function Ns(t,e){for(let n=function(t){return function(t){Ts.key=0,Ts.keyEnd=0,Ts.value=0,Ts.valueEnd=0,Ts.textEnd=t.length}(t),Ds(t,js(t,0,Ts.textEnd))}(e);n>=0;n=Ds(e,n))gn(t,Ss(e),!0)}function Fs(t,e,n,r){const i=qt(),o=zt(),s=re(2);o.firstUpdatePass&&Us(o,t,s,r),e!==Ei&&Xo(i,s,e)&&Hs(o,o.data[ve()],i,i[11],t,i[s+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(Mn(t)))),t}(e,n),r,s)}function Ls(t,e,n,r){const i=zt(),o=re(2);i.firstUpdatePass&&Us(i,null,o,r);const s=qt();if(n!==Ei&&Xo(s,o,n)){const u=i.data[ve()];if(Ws(u,r)&&!Vs(i,o)){let t=r?u.classesWithoutHost:u.stylesWithoutHost;null!==t&&(n=h(t,n||"")),us(i,u,s,n,r)}else!function(t,e,n,r,i,o,s,u){i===Ei&&(i=As);let a=0,c=0,l=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==l||null!==h;){const f=a<i.length?i[a+1]:void 0,d=c<o.length?o[c+1]:void 0;let p=null,g=void 0;l===h?(a+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(a+=2,p=l):(c+=2,p=h,g=d),null!==p&&Hs(t,e,n,r,p,g,s,u),l=a<i.length?i[a]:null,h=c<o.length?o[c]:null}}(i,u,s,s[11],s[o+1],s[o+1]=function(t,e,n){if(null==n||""===n)return As;const r=[],i=Mn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&t(r,o,i[o]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,o)}}function Vs(t,e){return e>=t.expandoStartIndex}function Us(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ve()],s=Vs(t,n);Ws(o,r)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Bs(n=Ms(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Ms(i,t,e,n,r),null===o){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Si(r))return t[Ii(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Ms(null,t,e,n[1],r),n=Bs(n,e.attrs,r),function(t,e,n,r){t[Ii(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Bs(r,t[o].hostAttrs,n);return Bs(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,u=Ii(s),a=Si(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||vn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=Ii(t[u+1]);t[r+1]=xi(e,u),0!==e&&(t[e+1]=Di(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=xi(u,0),0!==u&&(t[u+1]=Di(t[u+1],r)),u=r;else t[r+1]=xi(a,0),0===u?u=r:t[a+1]=Di(t[a+1],r),a=r;l&&(t[r+1]=Ti(t[r+1])),xs(t,c,r,!0),xs(t,c,r,!1),function(t,e,n,r,i){const o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&vn(o,e)>=0&&(n[r+1]=ji(n[r+1]))}(e,c,t,r,o),s=xi(u,a),o?e.classBindings=s:e.styleBindings=s}(i,o,e,n,s,r)}}function Ms(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=Bs(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function Bs(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),gn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Hs(t,e,n,r,i,o,s,u){if(!(3&e.type))return;const a=t.data,c=a[u+1];zs(1==(1&c)?qs(a,e,n,i,Si(c),s):void 0)||(zs(o)||2==(2&c)&&(o=qs(a,null,n,i,u,s)),function(t,e,n,r,i){const o=It(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Sr.DashCase;if(null==i)o?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),e|=Sr.Important),o?t.setStyle(n,r,i,e):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Dt(ve(),n),i,o))}function qs(t,e,n,r,i,o){const s=null===e;let u=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===Ei&&(l=c?As:void 0);let h=c?bn(l,r):a===r?l:void 0;if(o&&!zs(h)&&(h=bn(e,r)),zs(h)&&(u=h,s))return u;const f=t[i+1];i=s?Ii(f):Si(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=bn(t,r))}return u}function zs(t){return void 0!==t}function Ws(t,e){return 0!=(t.flags&(e?16:32))}function Gs(t,e=""){const n=qt(),r=zt(),i=t+ot,o=r.firstCreatePass?Ri(r,i,1,e,null):r.data[i],s=n[i]=Lr(n[11],e);ni(r,n,s,o),Zt(o,!1)}function Ks(t){return $s("",t,""),Ks}function $s(t,e,n){const r=qt(),i=ns(r,t,e,n);return i!==Ei&&_o(r,ve(),i),$s}function Zs(t,e,n,r,i){const o=qt(),s=function(t,e,n,r,i,o){const s=Qo(t,ee(),n,i);return re(2),s?e+gt(n)+r+gt(i)+o:Ei}(o,t,e,n,r,i);return s!==Ei&&_o(o,ve(),s),Zs}function Js(t,e,n,r,i,o,s,u,a){Ls(gn,Ns,function(t,e,n,r,i,o,s,u,a,c){const l=ts(t,ee(),n,i,s,a);return re(4),l?e+gt(n)+r+gt(i)+o+gt(s)+u+gt(a)+c:Ei}(qt(),t,e,n,r,i,o,s,u,a),!0)}function Ys(t,e,n){const r=qt();return Xo(r,ne(),e)&&$i(zt(),ye(),r,t,e,r[11],n,!0),Ys}const Xs=void 0;var Qs=["en",[["a","p"],["AM","PM"],Xs],[["AM","PM"],Xs,Xs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xs,"{1} 'at' {0}",Xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let tu={};function eu(t,e,n){"string"!=typeof e&&(n=e,e=t[su.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),tu[e]=t,n&&(tu[e][su.ExtraData]=n)}function nu(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ou(e);if(n)return n;const r=e.split("-")[0];if(n=ou(r),n)return n;if("en"===r)return Qs;throw new Error(`Missing locale data for the locale "${t}".`)}function ru(t){return nu(t)[su.CurrencyCode]||null}function iu(t){return nu(t)[su.PluralCase]}function ou(t){return t in tu||(tu[t]=L.ng&&L.ng.common&&L.ng.common.locales&&L.ng.common.locales[t]),tu[t]}var su=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const uu=["zero","one","two","few","many"],au="en-US",cu={marker:"element"},lu={marker:"ICU"};var hu=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let fu=au;function du(t){var e;null==(e=t)&&b("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(fu=t.toLowerCase().replace(/_/g,"-"))}function pu(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?Xr(t,0,n):St(n[i])}function gu(t,e,n,r,i){const o=e.insertBeforeIndex;if(Array.isArray(o)){let s=r,u=null;if(3&e.type||(u=s,s=i),null!==s&&0==(2&e.flags))for(let e=1;e<o.length;e++)Kr(t,s,n[o[e]],u,!1)}}function bu(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];vu(r)||mu(r,e)&&null===yu(r)&&wu(r,e.index)}}function vu(t){return!(64&t.type)}function mu(t,e){return vu(e)||t.index>e.index}function yu(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function wu(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ei(pu,gu),t.insertBeforeIndex=e)}function _u(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ou(t,e,n){const r=Ni(t,n,64,null,null);return bu(e,r),r}function Eu(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Cu=0,Au=0;function xu(t,e,n,r){const i=n[11];let o,s=null;for(let u=0;u<e.length;u++){const a=e[u];if("string"==typeof a){const t=e[++u];null===n[t]&&(n[t]=Lr(i,a))}else if("number"==typeof a)switch(1&a){case 0:const c=a>>>17;let l,h;if(null===s&&(s=c,o=Jr(i,r)),c===s?(l=r,h=o):(l=null,h=St(n[c])),null!==h){const e=(131070&a)>>>1;Kr(i,h,n[e],l,!1);const r=_u(t,e);if(null!==r&&"object"==typeof r){const e=Eu(r,n);null!==e&&xu(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const f=e[++u],d=e[++u];ro(i,Dt(a>>>1,n),null,null,f,d,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${a}"`)}else switch(a){case lu:const t=e[++u],r=e[++u];null===n[r]&&xr(n[r]=Ur(i,t),n);break;case cu:const o=e[++u],s=e[++u];null===n[s]&&xr(n[s]=Mr(i,o,null),n)}}}function Iu(t,e,n,r,i){for(let o=0;o<n.length;o++){const s=n[o],u=n[++o];if(s&i){let i="";for(let s=o+1;s<=o+u;s++){const o=n[s];if("string"==typeof o)i+=o;else if("number"==typeof o)if(o<0)i+=gt(e[r-o]);else{const u=o>>>2;switch(3&o){case 1:const o=n[++s],a=n[++s],c=t.data[u];"string"==typeof c?ro(e[11],e[u],null,c,o,i,a):$i(t,c,e,o,i,e[11],a,!1);break;case 0:const l=e[u];null!==l&&Vr(e[11],l,i);break;case 2:Su(t,_u(t,u),e,i);break;case 3:Tu(t,_u(t,u),r,e)}}}}else{const i=n[o+1];if(i>0&&3==(3&i)){const n=_u(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Tu(t,n,r,e)}}o+=u}}function Tu(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let o=Cu;i<0&&(i=r[e.currentCaseLViewIndex]=~i,o=-1),Iu(t,r,e.update[i],n,o)}}function Su(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=iu(e)(parseInt(t,10)),r=uu[n];return void 0!==r?r:"other"}(e,fu);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Eu(e,n)!==i&&(Du(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&xu(t,e.create[i],n,r)}}function Du(t,e,n){let r=Eu(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Dt(r,n);null!==t&&oi(n[11],t)}else Du(t,_u(t,~r),n)}}}const ju=/\ufffd(\d+):?\d*\ufffd/gi,ku=/\ufffd(\d+)\ufffd/,Pu=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Ru=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Nu=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Fu=/\uE500/g;function Lu(t,e,n,r,i,o,s){const u=Fi(t,r,1,null);let a=u<<hu.SHIFT,c=$t();e===c&&(c=null),null===c&&(a|=hu.APPEND_EAGERLY),s&&(a|=hu.COMMENT,void 0===Dr&&(Dr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Eu(t,e);n=null!==i?t.remove[i]:U}function o(){if(r<n.length){const s=n[r++];return s>0?e[s]:(t.push(r,n),i(e[1].data[~s],e),o())}return 0===t.length?null:(n=t.pop(),r=t.pop(),o())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),o}}())),i.push(a,null===o?"":o);const l=Ni(t,u,s?32:1,null===o?"":o,null);bu(n,l);const h=l.index;return Zt(l,!1),null!==c&&e!==c&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(ei(pu,gu),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&b("Expecting array here",r,true,"=="),n.push(e))}(c,h),l}function Vu(t,e,n,r,i,o,s){const u=s.match(ju),a=Lu(t,e,n,o,r,u?null:s,!1);u&&Uu(i,s,a.index)}function Uu(t,e,n,r,i=null){const o=t.length,s=o+1;t.push(null,null);const u=o+2,a=e.split(ju);let c=0;for(let l=0;l<a.length;l++){const e=a[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),c|=Mu(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[o]=c,t[s]=t.length-u,c}function Mu(t){return 1<<Math.min(t,31)}function Bu(t){let e,n,r="",i=0,o=!1;for(;null!==(e=Ru.exec(t));)o?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,o=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],o=!0);return r+=t.substr(i),r}function Hu(t,e,n,r,i,o){let s=0;const u={type:i.type,currentCaseLViewIndex:Fi(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Mu(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,o),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,o,u);const a=i.values;for(let c=0;c<a.length;c++){const o=a[c],l=[];for(let t=0;t<o.length;t++){const e=o[t];if("string"!=typeof e){const n=l.push(e)-1;o[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}s=Wu(t,u,e,n,r,i.cases[c],o.join(""),l)|s}s&&function(t,e,n){t.push(e,1,n<<2|3)}(n,s,o)}function qu(t){const e=[],n=[];let r=1,i=0;const o=zu(t=t.replace(Pu,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let s=0;s<o.length;){let t=o[s++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=zu(o[s++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function zu(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let o;for(i.lastIndex=0;o=i.exec(t);){const i=o.index;if("}"==o[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Pu.test(n)?r.push(qu(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const s=t.substring(e);return r.push(s),r}function Wu(t,e,n,r,i,o,s,u){const a=[],c=[],l=[];e.cases.push(o),e.create.push(a),e.remove.push(c),e.update.push(l);const h=$n(xt()).getInertBodyElement(s),f=mr(h)||h;return f?Gu(t,e,n,r,a,c,l,f,i,u,0):0}function Gu(t,e,n,r,i,o,s,u,a,c,l){let h=0,f=u.firstChild;for(;f;){const u=Fi(t,n,1,null);switch(f.nodeType){case Node.ELEMENT_NODE:const d=f,p=d.tagName.toLowerCase();if(ur.hasOwnProperty(p)){Zu(i,cu,p,a,u),t.data[u]=p;const g=d.attributes;for(let t=0;t<g.length;t++){const e=g.item(t),n=e.name.toLowerCase();e.value.match(ju)?lr.hasOwnProperty(n)&&(ar[n]?Uu(s,e.value,u,e.name,Qn):cr[n]?Uu(s,e.value,u,e.name,tr):Uu(s,e.value,u,e.name)):Ju(i,u,e)}h=Gu(t,e,n,r,i,o,s,f,u,c,l+1)|h,Ku(o,u,l)}break;case Node.TEXT_NODE:const g=f.textContent||"",b=g.match(ju);Zu(i,null,b?"":g,a,u),Ku(o,u,l),b&&(h=Uu(s,g,u)|h);break;case Node.COMMENT_NODE:const v=ku.exec(f.textContent||"");if(v){const e=c[parseInt(v[1],10)];Zu(i,lu,"",a,u),Hu(t,n,r,a,e,u),$u(o,u,l)}}f=f.nextSibling}return h}function Ku(t,e,n){0===n&&t.push(e)}function $u(t,e,n){0===n&&(t.push(~e),t.push(e))}function Zu(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function Ju(t,e,n){t.push(e<<1|1,n.name,n.value)}function Yu(t,e,n){(function(t,e,n=-1){const r=zt(),i=qt(),o=ot+t,s=Vt(r.consts,e),u=$t();r.firstCreatePass&&function(t,e,n,r,i,o){const s=$t(),u=[],a=[],c=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Bu(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Bu(t.substring(n,r))}}(i,o),h.replace(Fu," ")).split(Nu);var h;for(let f=0;f<l.length;f++){let r=l[f];if(0==(1&f)){const o=zu(r);for(let r=0;r<o.length;r++){let l=o[r];if(0==(1&r)){const e=l;""!==e&&Vu(t,s,c[0],u,a,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Hu(t,n,a,e,r,Lu(t,s,c[0],n,u,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),ot+Number.parseInt(r.substring(e?2:1)));if(e)c.shift(),Zt($t(),!1);else{const e=Ou(t,c[0],n);c.unshift([]),Zt(e,!0)}}}t.data[r]={create:u,update:a}}(r,null===u?0:u.index,i,o,s,n);const a=r.data[o],c=Gr(r,u===i[6]?null:u,i);!function(t,e,n,r){const i=t[11];for(let o=0;o<e.length;o++){const s=e[o++],u=e[o],a=(s&hu.COMMENT)===hu.COMMENT,c=(s&hu.APPEND_EAGERLY)===hu.APPEND_EAGERLY,l=s>>>hu.SHIFT;let h=t[l];null===h&&(h=t[l]=a?i.createComment(u):Lr(i,u)),c&&null!==n&&Kr(i,n,h,r,!1)}}(i,a.create,c,u&&8&u.type?i[u.index]:null),ie(!0)})(t,e,n),ie(!1)}function Xu(t){return Xo(qt(),ne(),t)&&(Cu|=1<<Math.min(Au,31)),Au++,Xu}function Qu(t){!function(t,e,n){if(Au>0){const r=t.data[n];Iu(t,e,Array.isArray(r)?r:r.update,ee()-Au-1,Cu)}Cu=0,Au=0}(zt(),qt(),t+ot)}function ta(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let o=0;o<t.length;o++)ta(t[o],e,n,r,i);else{const o=zt(),s=qt();let u=Lo(t)?t:p(t.provide),a=Ro(t);const c=Gt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Lo(t)||!t.multi){const r=new Ie(a,i,os),d=ra(u,e,i?l:l+f,h);-1===d?(qe(Ue(c,s),o,u),ea(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ra(u,e,l+f,h),p=ra(u,e,l,l+f),g=d>=0&&n[d],b=p>=0&&n[p];if(i&&!b||!i&&!g){qe(Ue(c,s),o,u);const l=function(t,e,n,r,i){const o=new Ie(t,n,os);return o.multi=[],o.index=e,o.componentProviders=0,na(o,i,r&&!n),o}(i?oa:ia,n.length,i,r,a);!i&&b&&(n[p].providerFactory=l),ea(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ea(o,t,d>-1?d:p,na(n[i?p:d],a,!i&&r));!i&&r&&b&&n[p].componentProviders++}}}function ea(t,e,n,r){const i=Lo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function na(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ra(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ia(t,e,n,r){return sa(this.multi,[])}function oa(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ye(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),sa(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],sa(i,o);return o}function sa(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ua(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=zt();if(r.firstCreatePass){const i=ft(t);ta(n,r.data,r.blueprint,i,!0),ta(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class aa{}class ca{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let la=(()=>{class t{}return t.NULL=new ca,t})();function ha(...t){}function fa(t,e){return new pa(jt(t,e))}const da=function(){return fa(Gt(),qt())};let pa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=da,t})();class ga{}let ba=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>va(),t})();const va=function(){const t=qt(),e=Rt(Gt().index,t);return function(t){return t[11]}(ut(e)?e:t)};let ma=(()=>{class t{}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>null}),t})();class ya{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const wa=new ya("11.0.8");class _a{constructor(){}supports(t){return Zo(t)}create(t){return new Ea(t)}}const Oa=(t,e)=>e;class Ea{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Oa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ia(n,r,i)?e:n,s=Ia(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Zo(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ko()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ca(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new xa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ca{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Aa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class xa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Aa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ia(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ta{constructor(){}supports(t){return t instanceof Map||Jo(t)}create(){return new Sa}}class Sa{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Jo(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Da(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Da{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ja=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _n,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new _a])}),t})(),ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _n,new yn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>new t([new Ta])}),t})();function Pa(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(St(o)),at(o))for(let t=st;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Pa(e[1],e,n,r)}const s=n.type;if(8&s)Pa(t,e,n.child,r);else if(32&s){const t=jr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=kr(t);Pa(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ra{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Pa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(at(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Hr(t,n),dn(e,n))}this._attachedToViewContainer=!1}qr(this._lView[1],this._lView)}onDestroy(t){Gi(this._lView[1],this._lView,null,t)}markForCheck(){ho(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fo(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Qt(!0);try{fo(t,e,n)}finally{Qt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,ui(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Na extends Ra{constructor(t){super(t),this._view=t}detectChanges(){po(this._view)}checkNoChanges(){!function(t){Qt(!0);try{po(t)}finally{Qt(!1)}}(this._view)}get context(){return null}}const Fa=Va;let La=(()=>{class t{}return t.__NG_ELEMENT_ID__=Fa,t.__ChangeDetectorRef__=!0,t})();function Va(t=!1){return function(t,e,n){if(!n&&lt(t)){const n=Rt(t.index,e);return new Ra(n,n)}return 47&t.type?new Ra(e[16],e):null}(Gt(),qt(),t)}const Ua=[new Ta],Ma=new ja([new _a]),Ba=new ka(Ua),Ha=function(){return Ga(Gt(),qt())};let qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ha,t})();const za=qa,Wa=class extends za{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Pi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Li(e,n,t),new Ra(n)}};function Ga(t,e){return 4&t.type?new Wa(e,t,fa(t,e)):null}class Ka{}class $a{}const Za=function(){return ec(Gt(),qt())};let Ja=(()=>{class t{}return t.__NG_ELEMENT_ID__=Za,t})();const Ya=Ja,Xa=class extends Ya{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return fa(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const t=He(this._hostTNode,this._hostLView);if(Pe(t)){const e=Ne(t,this._hostLView),n=Re(t);return new tn(e[1].data[n+8],e)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Qa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-st}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(Ka,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(at(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Xa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=st+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-st?(e[4]=n[i],fn(n,st+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=ii(i,o),u=n[11],a=Jr(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,ui(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),fn(tc(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Qa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Hr(this._lContainer,e);n&&(dn(tc(this._lContainer),e),qr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Hr(this._lContainer,e);return n&&null!=dn(tc(this._lContainer),e)?new Ra(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Qa(t){return t[8]}function tc(t){return t[8]||(t[8]=[])}function ec(t,e){let n;const r=e[t.index];if(at(r))n=r;else{let i;if(8&t.type)i=St(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);Kr(n,Jr(n,r),i,function(t,e){return It(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=so(r,e,i,t),lo(e,n)}return new Xa(n,t,e)}const nc={};class rc extends la{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=rt(t);return new sc(e,this.ngModule)}}function ic(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const oc=new un("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ir});class sc extends aa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Oi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ic(this.componentDef.inputs)}get outputs(){return ic(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,nc,i);return o!==nc||r===nc?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(ga,Tt),s=i.get(ma,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(It(t))return t.selectRootElement(e,n===k.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):Mr(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Ir,clean:bo,playerHandler:null,flags:0},f=Wi(0,null,null,1,0,null,null,null,null,null),d=Pi(null,f,h,l,null,null,o,u,s,i);let p,g;he(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=Ri(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Oo(u,a,!0),null!==t&&(Te(i,t,a),null!==u.classes&&li(i,t,u.classes),null!==u.styles&&ci(i,t,u.styles)));const c=r.createRenderer(t,e),l=Pi(n,zi(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(qe(Ue(u,n),s,e.type),Xi(s,u),to(u,n.length,1)),lo(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)Te(u,c,["ng-version",wa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!vi(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(u,c,t),e&&e.length>0&&li(u,c,e.join(" "))}if(g=kt(f,ot),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Gt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),eo(t,r,e,Fi(t,e,1,null),n));const i=Ye(e,t,r.directiveStart,r);xr(i,e);const o=jt(r,e);return o&&xr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Gt();e.contentQueries(1,s,t.directiveStart)}const u=Gt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(u.index),Ji(n[1],u,0,u.directiveStart,u.directiveEnd,e),Yi(e,s)),s}(t,this.componentDef,d,h,[Mo]),Li(f,d,null)}finally{be()}return new uc(this.componentType,p,fa(g,d),d,g)}}class uc extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Na(r),this.componentType=t}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ac=new Map;class cc extends Ka{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rc(this);const n=it(t),r=t[z]||null;r&&du(r),this._bootstrapComponents=Tr(n.bootstrap),this._r3Injector=jo(t,e,[{provide:Ka,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Uo.THROW_IF_NOT_FOUND,n=x.Default){return t===Uo||t===Ka||t===Eo?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class lc extends $a{constructor(t){super(),this.moduleType=t,null!==it(t)&&function(t){const e=new Set;!function t(n){const r=it(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,ac.get(i),n),ac.set(i,n));const o=Tr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new cc(this.moduleType,t)}}function hc(t,e,n,r){return gc(qt(),te(),t,e,n,r)}function fc(t,e,n,r,i){return function(t,e,n,r,i,o,s){const u=e+n;return Qo(t,u,i,o)?Yo(t,u+2,s?r.call(s,i,o):r(i,o)):pc(t,u+2)}(qt(),te(),t,e,n,r,i)}function dc(t,e,n,r,i,o){return function(t,e,n,r,i,o,s,u){const a=e+n;return function(t,e,n,r,i){const o=Qo(t,e,n,r);return Xo(t,e+2,i)||o}(t,a,i,o,s)?Yo(t,a+3,u?r.call(u,i,o,s):r(i,o,s)):pc(t,a+3)}(qt(),te(),t,e,n,r,i,o)}function pc(t,e){const n=t[e];return n===Ei?void 0:n}function gc(t,e,n,r,i,o){const s=e+n;return Xo(t,s,i)?Yo(t,s+1,o?r.call(o,i):r(i)):pc(t,s+1)}function bc(t,e){const n=zt();let r;const i=t+ot;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new pt("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=dt(r.type)),s=T(os);try{const t=Le(!1),e=o();return Le(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,qt(),i,e),e}finally{T(s)}}function vc(t,e,n){const r=t+ot,i=qt(),o=Pt(i,r);return wc(i,yc(i,r)?gc(i,te(),e,o.transform,n,o):o.transform(n))}function mc(t,e,n,r,i,o){const s=t+ot,u=qt(),a=Pt(u,s);return wc(u,yc(u,s)?function(t,e,n,r,i,o,s,u,a){const c=e+n;return ts(t,c,i,o,s,u)?Yo(t,c+4,a?r.call(a,i,o,s,u):r(i,o,s,u)):pc(t,c+4)}(u,te(),e,a.transform,n,r,i,o,a):a.transform(n,r,i,o))}function yc(t,e){return t[1].data[e].pure}function wc(t,e){return $o.isWrapped(e)&&(e=$o.unwrap(e),t[ee()]=Ei),e}const _c=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function Oc(){return this._results[Ko()]()}class Ec{constructor(){this.dirty=!0,this._results=[],this.changes=new _c,this.length=0;const t=Ko(),e=Ec.prototype;e[t]||(e[t]=Oc)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=ln(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Cc{constructor(t){this.queryList=t,this.matches=null}clone(){return new Cc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ac{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ac(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==qc(t,e).matches&&this.queries[e].setDirty()}}class xc{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ic{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ic(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Tc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Tc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Sc(e,i)),this.matchTNodeWithReadOption(t,e,Je(e,t,i,!1,!1))}else n===qa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Je(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===pa||r===Ja||r===qa&&4&e.type)this.addMatch(e.index,-2);else{const n=Je(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Sc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Dc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?fa(t,e):4&t.type?Ga(t,e):null}(e,t):-2===n?function(t,e,n){return n===pa?fa(e,t):n===qa?Ga(e,t):n===Ja?ec(e,t):void 0}(t,e,r):Ye(t,t[1],n,e)}function jc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Dc(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function kc(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=jc(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=st;t<s.length;t++){const e=s[t];e[17]===e[3]&&kc(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];kc(n[1],n,i,r)}}}}}return r}function Pc(t){const e=qt(),n=zt(),r=ue();ae(r+1);const i=qc(n,r);if(t.dirty&&Ft(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?kc(n,e,r,[]):jc(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Rc(t,e,n){Fc(zt(),qt(),t,e,n,!0)}function Nc(t,e,n){Fc(zt(),qt(),t,e,n,!1)}function Fc(t,e,n,r,i,o){t.firstCreatePass&&(Hc(t,new xc(n,r,o,i),-1),o&&(t.staticViewQueries=!0)),Bc(t,e)}function Lc(t,e,n,r){Uc(zt(),qt(),e,n,r,!1,Gt(),t)}function Vc(t,e,n,r){Uc(zt(),qt(),e,n,r,!0,Gt(),t)}function Uc(t,e,n,r,i,o,s,u){t.firstCreatePass&&(Hc(t,new xc(n,r,o,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,u),o&&(t.staticContentQueries=!0)),Bc(t,e)}function Mc(){return t=qt(),e=ue(),t[19].queries[e].queryList;var t,e}function Bc(t,e){const n=new Ec;Gi(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ac),e[19].queries.push(new Cc(n))}function Hc(t,e,n){null===t.queries&&(t.queries=new Ic),t.queries.track(new Tc(e,n))}function qc(t,e){return t.queries.getByIndex(e)}function zc(t,e){return Ga(t,e)}function Wc(t=x.Default){const e=Va(!0);if(null!=e||t&x.Optional)return e;vt("ChangeDetectorRef")}const Gc=new un("Application Initializer");let Kc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ha,this.reject=ha,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();ps(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(jn(Gc,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const $c=new un("AppId"),Zc={provide:$c,useFactory:function(){return`${Jc()}${Jc()}${Jc()}`},deps:[]};function Jc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Yc=new un("Platform Initializer"),Xc=new un("Platform ID"),Qc=new un("appBootstrapListener");let tl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const el=new un("LocaleId"),nl=new un("DefaultCurrencyCode");class rl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const il=function(t){return new lc(t)},ol=il,sl=function(t){return Promise.resolve(il(t))},ul=function(t){const e=il(t),n=Tr(it(t).declarations).reduce((t,e)=>{const n=rt(e);return n&&t.push(new sc(n)),t},[]);return new rl(e,n)},al=ul,cl=function(t){return Promise.resolve(ul(t))};let ll=(()=>{class t{constructor(){this.compileModuleSync=ol,this.compileModuleAsync=sl,this.compileModuleAndAllComponentsSync=al,this.compileModuleAndAllComponentsAsync=cl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const hl=(()=>Promise.resolve(0))();function fl(t){"undefined"==typeof Zone?hl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class dl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _c(!1),this.onMicrotaskEmpty=new _c(!1),this.onStable=new _c(!1),this.onError=new _c(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=L.requestAnimationFrame,e=L.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(L,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bl(t),gl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return vl(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),ml(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return vl(t),e.invoke(r,i,o,s,u)}finally{ml(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,bl(t),gl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!dl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(dl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,pl,ha,ha);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const pl={};function gl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function vl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ml(t){t._nesting--,gl(t)}class yl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _c,this.onMicrotaskEmpty=new _c,this.onStable=new _c,this.onError=new _c}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let wl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{dl.assertNotInAngularZone(),fl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(jn(dl))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})(),_l=(()=>{class t{constructor(){this._applications=new Map,Al.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Al.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();class Ol{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function El(t){Al=t}let Cl,Al=new Ol,xl=!0,Il=!1;function Tl(){return Il=!0,xl}function Sl(){if(Il)throw new Error("Cannot enable prod mode after platform setup.");xl=!1}const Dl=new un("AllowMultipleToken");class jl{constructor(t,e){this.name=t,this.token=e}}function kl(t,e,n=[]){const r="Platform: "+e,i=new un(r);return(e=[])=>{let o=Pl();if(!o||o.injector.get(Dl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ao,useValue:"platform"});!function(t){if(Cl&&!Cl.destroyed&&!Cl.injector.get(Dl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Cl=t.get(Rl);const e=t.get(Yc,null);e&&e.forEach(t=>t())}(Uo.create({providers:t,name:r}))}return function(t){const e=Pl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Pl(){return Cl&&!Cl.destroyed?Cl:null}let Rl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new yl:("zone.js"===t?void 0:t)||new dl({enableLongStackTrace:Tl(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:dl,useValue:n}];return n.run(()=>{const e=Uo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(Cr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Ll(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return ps(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Kc);return t.runInitializers(),t.donePromise.then(()=>(du(i.injector.get(el,au)||au),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Nl({},e);return function(t,e,n){const r=new lc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Fl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(jn(Uo))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Nl(t,e){return Array.isArray(e)?e.reduce(Nl,t):Object.assign(Object.assign({},t),e)}let Fl=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{dl.assertNotInAngularZone(),fl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{dl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(Object(u.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof aa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ka),i=n.create(Uo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(wl,null),u=s&&i.injector.get(_l);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Ll(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),Tl()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Ll(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Qc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(jn(dl),jn(tl),jn(Uo),jn(Cr),jn(la),jn(Kc))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Ll(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Vl{}class Ul{}const Ml={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Bl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ml}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Hl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Hl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(jn(ll),jn(Ul,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Hl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const ql=function(t){return null},zl=kl(null,"core",[{provide:Xc,useValue:"unknown"},{provide:Rl,deps:[Uo]},{provide:_l,deps:[]},{provide:tl,deps:[]}]),Wl=[{provide:Fl,useClass:Fl,deps:[dl,tl,Uo,Cr,la,Kc]},{provide:oc,deps:[dl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Kc,useClass:Kc,deps:[[new yn,Gc]]},{provide:ll,useClass:ll,deps:[]},Zc,{provide:ja,useFactory:function(){return Ma},deps:[]},{provide:ka,useFactory:function(){return Ba},deps:[]},{provide:el,useFactory:function(t){return du(t=t||"undefined"!=typeof $localize&&$localize.locale||au),t},deps:[[new mn(el),new yn,new _n]]},{provide:nl,useValue:"USD"}];let Gl=(()=>{class t{constructor(t){}}return t.\u0275mod=X({type:t}),t.\u0275inj=m({factory:function(e){return new(e||t)(jn(Fl))},providers:Wl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("WMd4");function o(t,e=0){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))}}class u extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new a(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class a{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return _}),n.d(e,"f",function(){return i}),n.d(e,"g",function(){return o}),n.d(e,"h",function(){return u}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return d}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return a}),n.d(e,"n",function(){return c}),n.d(e,"o",function(){return f}),n.d(e,"p",function(){return g});var r=n("uXP2");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,v.prototype.create),o}return Object(r.c)(e,t),e}(Error),v=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new b(i,u,r);return a},t}();function m(t,e){return t.replace(y,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var y=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return x}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return v}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return b}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],b=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.q("angularfire2.app.options"),y=new a.q("angularfire2.app.nameOrConfig"),w=new a.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const A={provide:class{},useFactory:_,deps:[m,a.z,[new a.A,y]]};let x=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:y,useValue:n}]}}}return t.\u0275mod=a.Ib({type:t}),t.\u0275inj=a.Hb({factory:function(e){return new(e||t)(a.Wb(a.B))},providers:[A]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return b});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class g extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function b(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},uXP2:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q"),i=n("KqfI"),o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n("XNiG"),i=n("HDdC"),o=n("7o/Q"),s=n("quSY");function u(){return function(t){return t.lift(new a(t))}}class a{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new c(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class c extends o.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class l extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new f(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return u()(this)}}const h=(()=>{const t=l.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class f extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function d(){return new r.a}function p(){return t=>{return u()((e=d,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,h);return r.source=t,r.subjectFactory=n,r})(t));var e}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("uXP2"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.f)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return a},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var b=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.d)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(a.join(" "))}c(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.d)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,h=u.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===u.type?r[h]:null;if(n.set(h,u),"PUBLIC"===u.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==u.serviceProps&&Object(s.g)(f,u.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,u.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(u)}catch(b){a={error:b}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.g)(e,t)},createSubscribe:s.e,ErrorFactory:s.b,deepExtend:s.g}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y=b.initializeApp;b.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),y.apply(void 0,t)};var w=b;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new v(t)},"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i=n("D0XW"),o=n("HDdC"),s=n("Cfvw"),u=n("LRne"),a=n("bHdf");function c(){return Object(a.a)(1)}function l(...t){return c()(Object(u.a)(...t))}var h=n("z+Ro");function f(...t){const e=t[t.length-1];return Object(h.a)(e)?(t.pop(),n=>l(t,n,e)):e=>l(t,e)}var d=n("7o/Q");function p(){return t=>t.lift(new g)}class g{call(t,e){return e.subscribe(new b(t))}}class b extends d.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var v=n("lJxs");function m(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new y(t,e,n))}}class y{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new w(t,this.accumulator,this.seed,this.hasSeed))}}class w extends d.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class _{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new O(t,this.compare,this.keySelector))}}class O extends d.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function E(t,e){return function(n){return n.lift(new C(t,e))}}class C{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new A(t,this.predicate,this.thisArg))}}class A extends d.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var x=n("pxpQ"),I=n("spgP");let T=null;function S(){return T}const D=new r.q("DocumentToken");let j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:k,token:t,providedIn:"platform"}),t})();function k(){return Object(r.Wb)(R)}const P=new r.q("Location Initialized");let R=(()=>{class t extends j{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=S().getLocation(),this._history=S().getHistory()}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(t){S().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){S().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){N()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){N()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(D))},t.\u0275prov=Object(r.Gb)({factory:F,token:t,providedIn:"platform"}),t})();function N(){return!!window.history.pushState}function F(){return new R(Object(r.Wb)(D))}function L(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function V(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function U(t){return t&&"?"!==t[0]?"?"+t:t}let M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:B,token:t,providedIn:"root"}),t})();function B(t){const e=Object(r.Wb)(D).location;return new q(Object(r.Wb)(j),e&&e.origin||"")}const H=new r.q("appBaseHref");let q=(()=>{class t extends M{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return L(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+U(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+U(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+U(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(j),r.Wb(H,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),z=(()=>{class t extends M{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=L(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+U(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+U(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(j),r.Wb(H,8))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),W=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=V(K(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+U(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,K(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+U(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+U(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(M),r.Wb(j))},t.normalizeQueryParams=U,t.joinWithSlash=L,t.stripTrailingSlash=V,t.\u0275prov=Object(r.Gb)({factory:G,token:t,providedIn:"root"}),t})();function G(){return new W(Object(r.Wb)(M),Object(r.Wb)(j))}function K(t){return t.replace(/\/index.html$/,"")}const $={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Z=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}({}),J=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Y=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function X(t,e){const n=Object(r.ib)(t),i=n[r.Z.NumberSymbols][e];if(void 0===i){if(e===Y.CurrencyDecimal)return n[r.Z.NumberSymbols][Y.Decimal];if(e===Y.CurrencyGroup)return n[r.Z.NumberSymbols][Y.Group]}return i}const Q=r.lb,tt=/^(\d+)?\.((\d+)(-(\d+))?)?$/,et=".",nt="0";function rt(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class it{}let ot=(()=>{class t extends it{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(Q(e||this.locale)(t)){case J.Zero:return"zero";case J.One:return"one";case J.Two:return"two";case J.Few:return"few";case J.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.u))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class st{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ut=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new st(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new at(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new at(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K),r.Kb(r.s))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class at{constructor(t,e){this.record=t,this.view=e}}let ct=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new lt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){ht("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){ht("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.P),r.Kb(r.K))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class lt{constructor(){this.$implicit=null,this.ngIf=null}}function ht(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}function ft(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.tb)(t)}'`)}const dt=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;let pt=(()=>{class t{transform(e){if(null==e)return null;if("string"!=typeof e)throw ft(t,e);return e.replace(dt,t=>t[0].toUpperCase()+t.substr(1).toLowerCase())}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Jb({name:"titlecase",type:t,pure:!0}),t})(),gt=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n,i="symbol",o,s){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;s=s||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let u=n||this._defaultCurrencyCode;"code"!==i&&(u="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return Object(r.ib)(t)[r.Z.Currencies]}(n)[t]||$[t]||[],o=i[1];return"narrow"===e&&"string"==typeof o?o:i[0]||t}(u,"symbol"===i?"wide":"narrow",s):i);try{return function(t,e,n,i,o){const s=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],o=r[1],s=-1!==i.indexOf(et)?i.split(et):[i.substring(0,i.lastIndexOf(nt)+1),i.substring(i.lastIndexOf(nt)+1)],u=s[0],a=s[1]||"";n.posPre=u.substr(0,u.indexOf("#"));for(let l=0;l<a.length;l++){const t=a.charAt(l);t===nt?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=u.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){const t=i.length-n.posPre.length-n.posSuf.length,e=o.indexOf("#");n.negPre=o.substr(0,e).replace(/'/g,""),n.negSuf=o.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.ib)(t)[r.Z.NumberFormats][e]}(e,Z.Currency),X(e,Y.MinusSign));return s.minFrac=function(t){let e;const n=$[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),s.maxFrac=s.minFrac,function(t,e,n,r,i,o,s=!1){let u="",a=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,o,s=Math.abs(t)+"",u=0;for((n=s.indexOf(et))>-1&&(s=s.replace(et,"")),(r=s.search(/e/i))>0?(n<0&&(n=r),n+=+s.slice(r+1),s=s.substring(0,r)):n<0&&(n=s.length),r=0;s.charAt(r)===nt;r++);if(r===(o=s.length))e=[0],n=1;else{for(o--;s.charAt(o)===nt;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=Number(s.charAt(r))}return n>22&&(e=e.splice(0,21),u=n-1,n=1),{digits:e,exponent:u,integerLen:n}}(t);s&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(o){const t=o.match(tt);if(null===t)throw new Error(o+" is not a valid digit info");const e=t[1],n=t[3],r=t[5];null!=e&&(l=rt(e)),null!=n&&(h=rt(n)),null!=r?f=rt(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const o=Math.min(Math.max(e,i),n);let s=o+t.integerLen,u=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let t=s;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let t=1;t<s;t++)r[t]=0}if(u>=5)if(s-1<0){for(let e=0;e>s;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let a=0!==o;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,a&&(0===r[n]&&n>=c?r.pop():a=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let b=[];for(a=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?b=d.splice(p,d.length):(b=d,d=[0]);const v=[];for(d.length>=e.lgSize&&v.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)v.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&v.unshift(d.join("")),u=v.join(X(n,r)),b.length&&(u+=X(n,i)+b.join("")),g&&(u+=X(n,Y.Exponential)+"+"+g)}else u=X(n,Y.Infinity);return u=t<0&&!a?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf,u}(t,s,e,Y.CurrencyGroup,Y.CurrencyDecimal,o).replace("\xa4",n).replace("\xa4","").trim()}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(t+" is not a number");return t}(e),s,u,n,o)}catch(a){throw ft(t,a.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.u),r.Kb(r.k))},t.\u0275pipe=r.Jb({name:"currency",type:t,pure:!0}),t})(),bt=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[{provide:it,useClass:ot}]}),t})();function vt(t){return"server"===t}let mt=(()=>{class t{}return t.\u0275prov=Object(r.Gb)({token:t,providedIn:"root",factory:()=>new yt(Object(r.Wb)(D),window)}),t})();class yt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=wt(this.window.history)||wt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function wt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var _t=n("Jgta"),Ot=n("zIRd"),Et=n("q/0M"),Ct=n("qOnz"),At=function(t,e){return(At=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function xt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var It,Tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},St=St||{},Dt=Tt||self;function jt(){}function kt(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Pt(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Rt="closure_uid_"+(1e9*Math.random()>>>0),Nt=0;function Ft(t,e,n){return t.call.apply(t.bind,arguments)}function Lt(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Vt(t,e,n){return(Vt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ft:Lt).apply(null,arguments)}function Ut(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Mt(){return Date.now()}function Bt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ht(){this.j=this.j,this.i=this.i}Ht.prototype.j=!1,Ht.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Rt)&&t[Rt]||(t[Rt]=++Nt)}(this)},Ht.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var qt=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},zt=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Wt(t){return Array.prototype.concat.apply([],arguments)}function Gt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Kt(t){return/^[\s\xa0]*$/.test(t)}var $t,Zt=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Jt(t,e){return-1!=t.indexOf(e)}function Yt(t,e){return t<e?-1:t>e?1:0}t:{var Xt=Dt.navigator;if(Xt){var Qt=Xt.userAgent;if(Qt){$t=Qt;break t}}$t=""}function te(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function ee(t){var e={};for(var n in t)e[n]=t[n];return e}var ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ne.length;o++)n=ne[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ie(t){return ie[" "](t),t}ie[" "]=jt;var oe,se,ue=Jt($t,"Opera"),ae=Jt($t,"Trident")||Jt($t,"MSIE"),ce=Jt($t,"Edge"),le=ce||ae,he=Jt($t,"Gecko")&&!(Jt($t.toLowerCase(),"webkit")&&!Jt($t,"Edge"))&&!(Jt($t,"Trident")||Jt($t,"MSIE"))&&!Jt($t,"Edge"),fe=Jt($t.toLowerCase(),"webkit")&&!Jt($t,"Edge");function de(){var t=Dt.document;return t?t.documentMode:void 0}t:{var pe="",ge=(se=$t,he?/rv:([^\);]+)(\)|;)/.exec(se):ce?/Edge\/([\d\.]+)/.exec(se):ae?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(se):fe?/WebKit\/(\S+)/.exec(se):ue?/(?:Version)[ \/]?(\S+)/.exec(se):void 0);if(ge&&(pe=ge?ge[1]:""),ae){var be=de();if(null!=be&&be>parseFloat(pe)){oe=String(be);break t}}oe=pe}var ve={};function me(t){return function(t,e){var n=ve;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Zt(String(oe)).split("."),r=Zt(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=Yt(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Yt(0==s[2].length,0==u[2].length)||Yt(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var ye=Dt.document&&ae&&(de()||parseInt(oe,10))||void 0,we=!ae||9<=Number(ye),_e=ae&&!me("9"),Oe=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Dt.addEventListener("test",jt,e),Dt.removeEventListener("test",jt,e)}catch(n){}return t}();function Ee(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ce(t,e){if(Ee.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(he){t:{try{ie(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ae[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ee.prototype.b=function(){this.defaultPrevented=!0},Bt(Ce,Ee);var Ae={2:"touch",3:"pen",4:"mouse"};Ce.prototype.b=function(){Ce.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,_e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var xe="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Te(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Ie,this.Y=this.Z=!1}function Se(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function De(t){this.src=t,this.a={},this.b=0}function je(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=qt(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Se(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ke(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}De.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ke(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Te(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Pe="closure_lm_"+(1e6*Math.random()|0),Re={};function Ne(t,e,n,r,i){if(r&&r.once)return Le(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ne(t,e[o],n,r,i);return null}return n=We(n),t&&t[xe]?t.va(e,n,Pt(r)?!!r.capture:!!r,i):Fe(t,e,n,!1,r,i)}function Fe(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Pt(i)?!!i.capture:!!i;if(s&&!we)return null;var u=qe(t);if(u||(t[Pe]=u=new De(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=He,e=we?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Oe||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Me(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Le(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Le(t,e[o],n,r,i);return null}return n=We(n),t&&t[xe]?t.wa(e,n,Pt(r)?!!r.capture:!!r,i):Fe(t,e,n,!0,r,i)}function Ve(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Ve(t,e[o],n,r,i);else r=Pt(r)?!!r.capture:!!r,n=We(n),t&&t[xe]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=ke(o=t.a[e],n,r,i))&&(Se(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=qe(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ke(e,n,r,i)),(n=-1<t?e[t]:null)&&Ue(n))}function Ue(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[xe])je(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Me(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qe(e))?(je(n,t),0==n.b&&(n.src=null,e[Pe]=null)):Se(t)}}}function Me(t){return t in Re?Re[t]:Re[t]="on"+t}function Be(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Ue(t),n.call(r,e)}function He(t,e){if(t.Y)return!0;if(!we){if(!e)t:{e=["window","event"];for(var n=Dt,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Be(t,e=new Ce(e,this))}return Be(t,new Ce(e,this))}function qe(t){return(t=t[Pe])instanceof De?t:null}var ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function We(t){return"function"==typeof t?t:(t[ze]||(t[ze]=function(e){return t.handleEvent(e)}),t[ze])}function Ge(){Ht.call(this),this.c=new De(this),this.J=this,this.C=null}function Ke(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ee(e,t);else if(e instanceof Ee)e.target=e.target||t;else{var i=e;re(e=new Ee(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=$e(s,r,!0,e)&&i}if(i=$e(s=e.a=t,r,!0,e)&&i,i=$e(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=$e(s=e.a=n[o],r,!1,e)&&i}function $e(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&je(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Bt(Ge,Ht),Ge.prototype[xe]=!0,(It=Ge.prototype).addEventListener=function(t,e,n,r){Ne(this,t,e,n,r)},It.removeEventListener=function(t,e,n,r){Ve(this,t,e,n,r)},It.G=function(){if(Ge.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Se(n[r]);delete e.a[t],e.b--}}this.C=null},It.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},It.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ze=Dt.JSON.stringify;function Je(){this.b=this.a=null}var Ye,Xe=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new tn},function(t){t.reset()});function Qe(){var t=on,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function tn(){this.next=this.b=this.a=null}function en(t){Dt.setTimeout(function(){throw t},0)}function nn(t,e){Ye||function(){var t=Dt.Promise.resolve(void 0);Ye=function(){t.then(sn)}}(),rn||(Ye(),rn=!0),on.add(t,e)}Je.prototype.add=function(t,e){var n=Xe.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},tn.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},tn.prototype.reset=function(){this.next=this.b=this.a=null};var rn=!1,on=new Je;function sn(){for(var t;t=Qe();){try{t.a.call(t.b)}catch(n){en(n)}var e=Xe;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}rn=!1}function un(t,e){Ge.call(this),this.b=t||1,this.a=e||Dt,this.f=Vt(this.Za,this),this.g=Mt()}function an(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function cn(t,e,n){if("function"==typeof t)n&&(t=Vt(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Vt(t.handleEvent,t)}return 2147483647<Number(e)?-1:Dt.setTimeout(t,e||0)}function ln(t){t.a=cn(function(){t.a=null,t.c&&(t.c=!1,ln(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Bt(un,Ge),(It=un.prototype).aa=!1,It.M=null,It.Za=function(){if(this.aa){var t=Mt()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ke(this,"tick"),this.aa&&(an(this),this.start()))}},It.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Mt())},It.G=function(){un.X.G.call(this),an(this),delete this.a};var hn=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}At(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ln(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Dt.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ht);function fn(t){Ht.call(this),this.b=t,this.a={}}Bt(fn,Ht);var dn=[];function pn(t,e,n,r){Array.isArray(n)||(n&&(dn[0]=n.toString()),n=dn);for(var i=0;i<n.length;i++){var o=Ne(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function gn(t){te(t.a,function(t,e){this.a.hasOwnProperty(e)&&Ue(t)},t),t.a={}}function bn(){this.a=!0}function vn(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ze(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}fn.prototype.G=function(){fn.X.G.call(this),gn(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bn.prototype.info=function(){};var mn={},yn=null;function wn(){return yn=yn||new Ge}function _n(t){Ee.call(this,mn.Fa,t)}function On(t){var e=wn();Ke(e,new _n(e,t))}function En(t,e){Ee.call(this,mn.STAT_EVENT,t),this.stat=e}function Cn(t){var e=wn();Ke(e,new En(e,t))}function An(t){Ee.call(this,mn.Ga,t)}function xn(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){t()},e)}mn.Fa="serverreachability",Bt(_n,Ee),mn.STAT_EVENT="statevent",Bt(En,Ee),mn.Ga="timingevent",Bt(An,Ee);var In={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Tn={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Sn(){}function Dn(){}Sn.prototype.a=null;var jn,kn={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Pn(){Ee.call(this,"d")}function Rn(){Ee.call(this,"c")}function Nn(){}function Fn(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new fn(this),this.P=Ln,this.R=new un(t=le?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Bt(Pn,Ee),Bt(Rn,Ee),Bt(Nn,Sn),jn=new Nn;var Ln=45e3,Vn={},Un={};function Mn(t,e,n){t.H=1,t.i=ar(nr(e)),t.j=n,t.I=!0,Bn(t,null)}function Bn(t,e){t.u=Mt(),zn(t),t.l=nr(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),_r(n.b,"t",r),t.D=0,t.a=gi(t.g,t.g.C?e:null),0<t.O&&(t.F=new hn(Vt(t.Ca,t,t.a),t.O)),pn(t.J,t.a,"readystatechange",t.Xa),e=t.B?ee(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),On(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Hn(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=qn(t,n);if(i==Un){4==e&&(t.h=4,Cn(14),r=!1),vn(t.c,t.f,null,"[Incomplete Response]");break}if(i==Vn){t.h=4,Cn(15),vn(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}vn(t.c,t.f,i,null),Zn(t,i)}4==e&&0==n.length&&(t.h=1,Cn(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ui(e),e.F=!0,Cn(11))):(vn(t.c,t.f,n,"[Invalid Chunked Response]"),$n(t),Kn(t))}function qn(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Un:(n=Number(e.substring(n,r)),isNaN(n)?Vn:(r+=1)+n>e.length?Un:(e=e.substr(r,n),t.D=r+n,e))}function zn(t){t.T=Mt()+t.P,Wn(t,t.P)}function Wn(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=xn(Vt(t.Va,t),e)}function Gn(t){t.o&&(Dt.clearTimeout(t.o),t.o=null)}function Kn(t){0==t.g.v||t.A||li(t.g,t)}function $n(t){Gn(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,an(t.R),gn(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Zn(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Tr(n.b,t)))if(n.I=t.N,!t.C&&Tr(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(ep){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;ci(n),Xr(n)}si(n),Cn(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=xn(Vt(n.Sa,n),6e3));if(1>=Ir(n.b)&&n.ea){try{n.ea()}catch(ep){}n.ea=void 0}}else fi(n,11)}else if((t.C||n.a==t)&&ci(n),!Kt(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(Jt(l,"spdy")||Jt(l,"quic")||Jt(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Sr(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,ur(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Mt()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=pi(a,a.C?a.ga:null,a.fa),d.C){Dr(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(Gn(p),zn(p)),a.a=d}else oi(a);0<n.g.length&&ei(n)}else"stop"!=i[0]&&"close"!=i[0]||fi(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?fi(n,7):Yr(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);On(4)}catch(ep){}}function Jn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(kt(t)||"string"==typeof t)zt(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(kt(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(kt(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Yn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Yn)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Xn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Qn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Qn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Qn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(It=Fn.prototype).setTimeout=function(t){this.P=t},It.Xa=function(t){t=t.target;var e=this.F;e&&3==Kr(t)?e.f():this.Ca(t)},It.Ca=function(t){try{if(t==this.a)t:{var e=Kr(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!le&&!this.a.$())){this.A||4!=e||7==n||On(8==n||0>=r?3:2),Gn(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kt(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,Cn(12),$n(this),Kn(this);break t}vn(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Zn(this,a)}this.I?(Hn(this,e,o),le&&this.b&&3==e&&(pn(this.J,this.R,"tick",this.Wa),this.R.start())):(vn(this.c,this.f,o,null),Zn(this,o)),4==e&&$n(this),this.b&&!this.A&&(4==e?li(this.g,this):(this.b=!1,zn(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Cn(12)):(this.h=0,Cn(13)),$n(this),Kn(this)}}}catch(c){}},It.Wa=function(){if(this.a){var t=Kr(this.a),e=this.a.$();this.D<e.length&&(Gn(this),Hn(this,t,e),this.b&&4!=t&&zn(this))}},It.cancel=function(){this.A=!0,$n(this)},It.Va=function(){this.o=null;var t=Mt();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(On(3),Cn(17)),$n(this),this.h=2,Kn(this)):Wn(this,this.T-t)},(It=Yn.prototype).K=function(){Xn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},It.L=function(){return Xn(this),this.a.concat()},It.get=function(t,e){return Qn(this.b,t)?this.b[t]:e},It.set=function(t,e){Qn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},It.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var tr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function er(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof er){this.a=void 0!==e?e:t.a,rr(this,t.f),this.j=t.j,ir(this,t.c),or(this,t.h),this.g=t.g,e=t.b;var n=new vr;n.c=e.c,e.a&&(n.a=new Yn(e.a),n.b=e.b),sr(this,n),this.i=t.i}else t&&(n=String(t).match(tr))?(this.a=!!e,rr(this,n[1]||"",!0),this.j=cr(n[2]||""),ir(this,n[3]||"",!0),or(this,n[4]),this.g=cr(n[5]||"",!0),sr(this,n[6]||"",!0),this.i=cr(n[7]||"")):(this.a=!!e,this.b=new vr(null,this.a))}function nr(t){return new er(t)}function rr(t,e,n){t.f=n?cr(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function ir(t,e,n){t.c=n?cr(e,!0):e}function or(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function sr(t,e,n){e instanceof vr?(t.b=e,function(t,e){e&&!t.f&&(mr(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(yr(this,e),_r(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=lr(e,gr)),t.b=new vr(e,t.a))}function ur(t,e,n){t.b.set(e,n)}function ar(t){return ur(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Mt()).toString(36)),t}function cr(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function lr(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,hr),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hr(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}er.prototype.toString=function(){var t=[],e=this.f;e&&t.push(lr(e,fr,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(lr(e,fr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(lr(n,"/"==n.charAt(0)?pr:dr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",lr(n,br)),t.join("")};var fr=/[#\/\?@]/g,dr=/[#\?:]/g,pr=/[#\?]/g,gr=/[#\?@]/g,br=/#/g;function vr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function mr(t){t.a||(t.a=new Yn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function yr(t,e){mr(t),e=Or(t,e),Qn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Qn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Xn(t)))}function wr(t,e){return mr(t),e=Or(t,e),Qn(t.a.b,e)}function _r(t,e,n){yr(t,e),0<n.length&&(t.c=null,t.a.set(Or(t,e),Gt(n)),t.b+=n.length)}function Or(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(It=vr.prototype).add=function(t,e){mr(this),this.c=null,t=Or(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},It.forEach=function(t,e){mr(this),this.a.forEach(function(n,r){zt(n,function(n){t.call(e,n,r,this)},this)},this)},It.L=function(){mr(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},It.K=function(t){mr(this);var e=[];if("string"==typeof t)wr(this,t)&&(e=Wt(e,this.a.get(Or(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Wt(e,t[n])}return e},It.set=function(t,e){return mr(this),this.c=null,wr(this,t=Or(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},It.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},It.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Er=function(){return function(t,e){this.b=t,this.a=e}}();function Cr(t){this.g=t||Ar,t=Dt.PerformanceNavigationTiming?0<(t=Dt.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Dt.ia&&Dt.ia.ya&&Dt.ia.ya()&&Dt.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ar=10;function xr(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ir(t){return t.b?1:t.a?t.a.size:0}function Tr(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Sr(t,e){t.a?t.a.add(e):t.b=e}function Dr(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function jr(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=xt(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Gt(t.c)}function kr(){}function Pr(){this.a=new kr}function Rr(t,e,n){var r=n||"";try{Jn(t,function(t,n){var i=t;Pt(t)&&(i=Ze(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Hp){throw e.push(r+"type="+encodeURIComponent("_badmap")),Hp}}function Nr(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Cr.prototype.cancel=function(){var t,e;if(this.c=jr(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=xt(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},kr.prototype.stringify=function(t){return Dt.JSON.stringify(t,void 0)},kr.prototype.parse=function(t){return Dt.JSON.parse(t,void 0)};var Fr=Dt.JSON.parse;function Lr(t){Ge.call(this),this.headers=new Yn,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Vr,this.D=this.F=!1}Bt(Lr,Ge);var Vr="",Ur=/^https?$/i,Mr=["POST","PUT"];function Br(t){return"content-type"==t.toLowerCase()}function Hr(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,qr(t),Wr(t)}function qr(t){t.u||(t.u=!0,Ke(t,"complete"),Ke(t,"error"))}function zr(t){if(t.b&&void 0!==St&&(!t.s[1]||4!=Kr(t)||2!=t.W()))if(t.l&&4==Kr(t))cn(t.za,0,t);else if(Ke(t,"readystatechange"),4==Kr(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(tr)[1]||null;if(!o&&Dt.self&&Dt.self.location){var s=Dt.self.location.protocol;o=s.substr(0,s.length-1)}i=!Ur.test(o?o.toLowerCase():"")}e=i}if(e)Ke(t,"complete"),Ke(t,"success");else{t.h=6;try{var u=2<Kr(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",qr(t)}}finally{Wr(t)}}}function Wr(t,e){if(t.a){Gr(t);var n=t.a,r=t.s[0]?jt:null;t.a=null,t.s=null,e||Ke(t,"ready");try{n.onreadystatechange=r}catch(Hp){}}}function Gr(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Dt.clearTimeout(t.m),t.m=null)}function Kr(t){return t.a?t.a.readyState:0}function $r(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return te(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ur(t,e,n))}function Zr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Jr(t){this.pa=0,this.g=[],this.c=new bn,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Zr("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Zr("baseRetryDelayMs",5e3,t),this.Ra=Zr("retryDelaySeedMs",1e4,t),this.Ma=Zr("forwardChannelMaxRetries",2,t),this.ma=Zr("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Cr(t&&t.concurrentRequestLimit),this.ka=new Pr,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Yr(t){if(Qr(t),3==t.v){var e=t.R++,n=nr(t.B);ur(n,"SID",t.J),ur(n,"RID",e),ur(n,"TYPE","terminate"),ri(t,n),(e=new Fn(t,t.c,e,void 0)).H=2,e.i=ar(nr(n)),n=!1,Dt.navigator&&Dt.navigator.sendBeacon&&(n=Dt.navigator.sendBeacon(e.i.toString(),"")),!n&&Dt.Image&&((new Image).src=e.i,n=!0),n||(e.a=gi(e.g,null),e.a.ba(e.i)),e.u=Mt(),zn(e)}di(t)}function Xr(t){t.a&&(ui(t),t.a.cancel(),t.a=null)}function Qr(t){Xr(t),t.j&&(Dt.clearTimeout(t.j),t.j=null),ci(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Dt.clearTimeout(t.h),t.h=null)}function ti(t,e){t.g.push(new Er(t.Oa++,e)),3==t.v&&ei(t)}function ei(t){xr(t.b)||t.h||(t.h=!0,nn(t.Ba,t),t.u=0)}function ni(t,e){var n;n=e?e.f:t.R++;var r=nr(t.B);ur(r,"SID",t.J),ur(r,"RID",n),ur(r,"AID",t.P),ri(t,r),t.i&&t.l&&$r(r,t.i,t.l),n=new Fn(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ii(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Sr(t.b,n),Mn(n,r,e)}function ri(t,e){t.f&&Jn({},function(t,n){ur(e,n,t)})}function ii(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Vt(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Rr(l,s,"req"+c+"_")}catch(Yi){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function oi(t){t.a||t.j||(t.T=1,nn(t.Aa,t),t.o=0)}function si(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=xn(Vt(t.Aa,t),hi(t,t.o)),t.o++,0))}function ui(t){null!=t.s&&(Dt.clearTimeout(t.s),t.s=null)}function ai(t){t.a=new Fn(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=nr(t.la);ur(e,"RID","rpc"),ur(e,"SID",t.J),ur(e,"CI",t.H?"0":"1"),ur(e,"AID",t.P),ri(t,e),ur(e,"TYPE","xmlhttp"),t.i&&t.l&&$r(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ar(nr(e)),n.j=null,n.I=!0,Bn(n,t)}function ci(t){null!=t.m&&(Dt.clearTimeout(t.m),t.m=null)}function li(t,e){var n=null;if(t.a==e){ci(t),ui(t),t.a=null;var r=2}else{if(!Tr(t.b,e))return;n=e.s,Dr(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Mt()-e.u;var i=t.u;Ke(r=wn(),new An(r,n,e,i)),ei(t)}else oi(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ir(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=xn(Vt(t.Ba,t,e),hi(t,t.u)),t.u++,0)))}(t,e)||2==r&&si(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:fi(t,5);break;case 4:fi(t,10);break;case 3:fi(t,6);break;default:fi(t,2)}}function hi(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function fi(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Vt(t.Ya,t);n||(n=new er("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||rr(n,"https"),ar(n)),function(t,e){var n=new bn;if(Dt.Image){var r=new Image;r.onload=Ut(Nr,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ut(Nr,n,r,"TestLoadImage: error",!1,e),r.onabort=Ut(Nr,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ut(Nr,n,r,"TestLoadImage: timeout",!1,e),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Cn(2);t.v=0,t.f&&t.f.ra(e),di(t),Qr(t)}function di(t){t.v=0,t.I=-1,t.f&&(0==jr(t.b).length&&0==t.g.length||(t.b.c.length=0,Gt(t.g),t.g.length=0),t.f.qa())}function pi(t,e,n){var r=function(t){return t instanceof er?nr(t):new er(t,void 0)}(n);if(""!=r.c)e&&ir(r,e+"."+r.c),or(r,r.h);else{var i=Dt.location;r=function(t,e,n,r){var i=new er(null,void 0);return t&&rr(i,t),e&&ir(i,e),n&&or(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&te(t.V,function(t,e){ur(r,e,t)}),n=t.na,(e=t.A)&&n&&ur(r,e,n),ur(r,"VER",t.ha),ri(t,r),r}function gi(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Lr(t.Na)).F=t.C,e}function bi(){}function vi(){if(ae&&!(10<=Number(ye)))throw Error("Environmental error: no available transport.")}function mi(t,e){Ge.call(this),this.a=new Jr(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Kt(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Kt(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new _i(this)}function yi(t){Pn.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function wi(){Rn.call(this),this.status=1}function _i(t){this.a=t}(It=Lr.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:jn),this.a.onreadystatechange=Vt(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Hr(this,o)}t=n||"";var i=new Yn(this.headers);r&&Jn(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Br,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Dt.FormData&&t instanceof Dt.FormData,!(0<=qt(Mr,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Gr(this),0<this.o&&((this.D=function(t){return ae&&me(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Vt(this.xa,this)):this.m=cn(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Hr(this,o)}},It.xa=function(){void 0!==St&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ke(this,"timeout"),this.abort(8))},It.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ke(this,"complete"),Ke(this,"abort"),Wr(this))},It.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Wr(this,!0)),Lr.X.G.call(this)},It.za=function(){this.j||(this.A||this.l||this.g?zr(this):this.Ua())},It.Ua=function(){zr(this)},It.W=function(){try{return 2<Kr(this)?this.a.status:-1}catch(se){return-1}},It.$=function(){try{return this.a?this.a.responseText:""}catch(se){return""}},It.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Fr(e)}},It.ua=function(){return this.h},It.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(It=Jr.prototype).ha=8,It.v=1,It.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Fn(this,this.c,t,void 0),r=this.l;if(this.O&&(r?re(r=ee(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ii(this,n,e),ur(i=nr(this.B),"RID",t),ur(i,"CVER",22),this.A&&ur(i,"X-HTTP-Session-Id",this.A),ri(this,i),this.i&&r&&$r(i,this.i,r),Sr(this.b,n),this.Ia&&ur(i,"TYPE","init"),this.da?(ur(i,"$req",e),ur(i,"SID","null"),n.U=!0,Mn(n,i,null)):Mn(n,i,e),this.v=2}}else 3==this.v&&(t?ni(this,t):0==this.g.length||xr(this.b)||ni(this))},It.Aa=function(){if(this.j=null,ai(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=xn(Vt(this.Ta,this),t)}},It.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Cn(10),Xr(this),ai(this))},It.Sa=function(){null!=this.m&&(this.m=null,Xr(this),si(this),Cn(19))},It.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Cn(2)):(this.c.info("Failed to ping google.com"),Cn(1))},(It=bi.prototype).ta=function(){},It.sa=function(){},It.ra=function(){},It.qa=function(){},It.Ja=function(){},vi.prototype.a=function(t,e){return new mi(t,e)},Bt(mi,Ge),mi.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Cn(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=pi(t,null,t.fa),ei(t)},mi.prototype.close=function(){Yr(this.a)},mi.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ti(this.a,e)}else this.l?((e={}).__data__=Ze(t),ti(this.a,e)):ti(this.a,t)},mi.prototype.G=function(){this.a.f=null,delete this.f,Yr(this.a),delete this.a,mi.X.G.call(this)},Bt(yi,Pn),Bt(wi,Rn),Bt(_i,bi),_i.prototype.ta=function(){Ke(this.a,"a")},_i.prototype.sa=function(t){Ke(this.a,new yi(t))},_i.prototype.ra=function(t){Ke(this.a,new wi(t))},_i.prototype.qa=function(){Ke(this.a,"b")},vi.prototype.createWebChannel=vi.prototype.a,mi.prototype.send=mi.prototype.h,mi.prototype.open=mi.prototype.g,mi.prototype.close=mi.prototype.close,In.NO_ERROR=0,In.TIMEOUT=8,In.HTTP_ERROR=6,Tn.COMPLETE="complete",Dn.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",Ge.prototype.listen=Ge.prototype.va,Lr.prototype.listenOnce=Lr.prototype.wa,Lr.prototype.getLastError=Lr.prototype.Qa,Lr.prototype.getLastErrorCode=Lr.prototype.ua,Lr.prototype.getStatus=Lr.prototype.W,Lr.prototype.getResponseJson=Lr.prototype.Pa,Lr.prototype.getResponseText=Lr.prototype.$,Lr.prototype.send=Lr.prototype.ba;var Oi=In,Ei=Tn,Ci=mn,Ai=Dn,xi=Lr,Ii=n("uXP2"),Ti=new Et.b("@firebase/firestore");function Si(){return Ti.logLevel}function Di(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ti.logLevel<=Et.a.DEBUG){var r=e.map(Pi);Ti.debug.apply(Ti,Object(Ii.g)(["Firestore (8.2.2): "+t],r))}}function ji(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ti.logLevel<=Et.a.ERROR){var r=e.map(Pi);Ti.error.apply(Ti,Object(Ii.g)(["Firestore (8.2.2): "+t],r))}}function ki(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ti.logLevel<=Et.a.WARN){var r=e.map(Pi);Ti.warn.apply(Ti,Object(Ii.g)(["Firestore (8.2.2): "+t],r))}}function Pi(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Hp){return t}}function Ri(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw ji(e),new Error(e)}function Ni(t,e){t||Ri()}function Fi(t,e){return t}function Li(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Vi=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Li(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Ui(t,e){return t<e?-1:t>e?1:0}function Mi(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Bi(t){return t+"\0"}var Hi=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Ui(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Hi.h=new Hi("");var qi={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},zi=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ii.c)(e,t),e}(Error),Wi=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Hi.fromBase64String(e))}catch(e){throw new zi(qi.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Hi.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Gi=function(t){this._=t};function Ki(){if("undefined"==typeof Uint8Array)throw new zi(qi.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function $i(){if("undefined"==typeof atob)throw new zi(qi.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Zi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.fromBase64String=function(t){return $i(),new e(Wi.fromBase64String(t))},e.fromUint8Array=function(t){return Ki(),new e(Wi.fromUint8Array(t))},e.prototype.toBase64=function(){return $i(),this._.toBase64()},e.prototype.toUint8Array=function(){return Ki(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Gi),Ji=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Yi=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Xi=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Xi.UNAUTHENTICATED=new Xi(null),Xi.P=new Xi("google-credentials-uid"),Xi.g=new Xi("first-party-uid");var Qi=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},to=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Xi.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),eo=function(){function t(t){var e=this;this.C=null,this.currentUser=Xi.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.O!==e?(Di("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ni("string"==typeof n.accessToken),new Qi(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return Ni(null===t||"string"==typeof t),new Xi(t)},t}(),no=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Xi.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),ro=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new no(this.k,this.M))},t.prototype.S=function(t){t(Xi.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),io=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();io.U=-1;var oo=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new zi(qi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new zi(qi.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new zi(qi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new zi(qi.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Ui(this.nanoseconds,t.nanoseconds):Ui(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),so=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new oo(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),uo=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ri(),void 0===n?n=t.length-e:n>t.length-e&&Ri(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),ao=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new zi(qi.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(uo),co=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return co.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new zi(qi.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new zi(qi.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new zi(qi.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new zi(qi.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(uo),ho=function(){function t(t){this.path=t}return t.ft=function(e){return new t(ao.ct(e))},t.dt=function(e){return new t(ao.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===ao.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return ao.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new ao(e.slice()))},t}();function fo(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function po(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function go(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bo=function(){function t(t){this.fields=t,t.sort(lo.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Mi(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),vo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mo(t){if(Ni(!!t),"string"==typeof t){var e=0,n=vo.exec(t);if(Ni(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yo(t.seconds),nanos:yo(t.nanos)}}function yo(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function wo(t){return"string"==typeof t?Hi.fromBase64String(t):Hi.fromUint8Array(t)}function _o(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Oo(t){var e=t.mapValue.fields.__previous_value__;return _o(e)?Oo(e):e}function Eo(t){var e=mo(t.mapValue.fields.__local_write_time__.timestampValue);return new oo(e.seconds,e.nanos)}function Co(t){return null==t}function Ao(t){return 0===t&&1/t==-1/0}function xo(t){return"number"==typeof t&&Number.isInteger(t)&&!Ao(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?_o(t)?4:10:Ri()}function To(t,e){var n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Eo(t).isEqual(Eo(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=mo(t.timestampValue),r=mo(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return wo(t.bytesValue).isEqual(wo(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return yo(t.geoPointValue.latitude)===yo(e.geoPointValue.latitude)&&yo(t.geoPointValue.longitude)===yo(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return yo(t.integerValue)===yo(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=yo(t.doubleValue),r=yo(e.doubleValue);return n===r?Ao(n)===Ao(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Mi(t.arrayValue.values||[],e.arrayValue.values||[],To);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(fo(n)!==fo(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!To(n[i],r[i])))return!1;return!0}(t,e);default:return Ri()}}function So(t,e){return void 0!==(t.values||[]).find(function(t){return To(t,e)})}function Do(t,e){var n=Io(t),r=Io(e);if(n!==r)return Ui(n,r);switch(n){case 0:return 0;case 1:return Ui(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=yo(t.integerValue||t.doubleValue),r=yo(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return jo(t.timestampValue,e.timestampValue);case 4:return jo(Eo(t),Eo(e));case 5:return Ui(t.stringValue,e.stringValue);case 6:return function(t,e){var n=wo(t),r=wo(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Ui(n[i],r[i]);if(0!==o)return o}return Ui(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Ui(yo(t.latitude),yo(e.latitude));return 0!==n?n:Ui(yo(t.longitude),yo(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Do(n[i],r[i]);if(o)return o}return Ui(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Ui(r[s],o[s]);if(0!==u)return u;var a=Do(n[r[s]],i[o[s]]);if(0!==a)return a}return Ui(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ri()}}function jo(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Ui(t,e);var n=mo(t),r=mo(e),i=Ui(n.seconds,r.seconds);return 0!==i?i:Ui(n.nanos,r.nanos)}function ko(t){return Po(t)}function Po(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=mo(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?wo(t.bytesValue).toBase64():"referenceValue"in t?ho.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Po(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Po(t.fields[o])}return e+"}"}(t.mapValue):Ri();var e}function Ro(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function No(t){return!!t&&"integerValue"in t}function Fo(t){return!!t&&"arrayValue"in t}function Lo(t){return!!t&&"nullValue"in t}function Vo(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uo(t){return!!t&&"mapValue"in t}var Mo=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Uo(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return To(this.proto,t.proto)},t}(),Bo=function(){function t(t){void 0===t&&(t=Mo.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Io(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(lo.at(),this.Rt);return null!=t?new Mo(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Uo(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Ho(t){var e=[];return po(t.fields||{},function(t,n){var r=new lo([t]);if(Uo(n)){var i=Ho(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new bo(e)}var qo=function(t,e){this.key=t,this.version=e},zo=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Ii.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(qo),Wo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Ii.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(qo),Go=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(qo),Ko=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function $o(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Ko(t,e,n,r,i,o,s)}function Zo(t){var e=Fi(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+ko(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),Co(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=as(e.startAt)),e.endAt&&(n+="|ub:",n+=as(e.endAt)),e.St=n}return e.St}function Jo(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!ls(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!To(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fs(t.startAt,e.startAt)&&fs(t.endAt,e.endAt)}function Yo(t){return ho.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Xo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ii.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Qo(t,n,r):"array-contains"===n?new rs(t,r):"in"===n?new is(t,r):"not-in"===n?new os(t,r):"array-contains-any"===n?new ss(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new ts(t,n):new es(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Do(e,this.value)):null!==e&&Io(this.value)===Io(e)&&this.Ct(Do(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ri()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Qo=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ho.dt(r.referenceValue),i}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=ho.J(t.key,this.key);return this.Ct(e)},e}(Xo),ts=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ns(0,n),r}return Object(Ii.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Xo),es=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ns(0,n),r}return Object(Ii.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Xo);function ns(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return ho.dt(t.referenceValue)})}var rs=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Fo(e)&&So(e.arrayValue,this.value)},e}(Xo),is=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&So(this.value.arrayValue,e)},e}(Xo),os=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!So(this.value.arrayValue,e)},e}(Xo),ss=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ii.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Fo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return So(e.value.arrayValue,t)})},e}(Xo),us=function(t,e){this.position=t,this.before=e};function as(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ko(t)}).join(",")}var cs=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function ls(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function hs(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?ho.J(ho.dt(s.referenceValue),n.key):Do(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function fs(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!To(t.position[n],e.position[n]))return!1;return!0}var ds=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Ot=null,this.Ft=null};function ps(t,e,n,r,i,o,s,u){return new ds(t,e,n,r,i,o,s,u)}function gs(t){return new ds(t)}function bs(t){return!Co(t.limit)&&"F"===t.limitType}function vs(t){return!Co(t.limit)&&"L"===t.limitType}function ms(t){return t.Nt.length>0?t.Nt[0].field:null}function ys(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function ws(t){return null!==t.collectionGroup}function _s(t){var e=Fi(t);if(null===e.Ot){e.Ot=[];var n=ys(e),r=ms(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new cs(n)),e.Ot.push(new cs(lo.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var u=s[o];e.Ot.push(u),u.field.ht()&&(i=!0)}if(!i){var a=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new cs(lo.lt(),a))}}}return e.Ot}function Os(t){var e=Fi(t);if(!e.Ft)if("F"===e.limitType)e.Ft=$o(e.path,e.collectionGroup,_s(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=_s(e);r<i.length;r++){var o=i[r];n.push(new cs(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new us(e.endAt.position,!e.endAt.before):null,u=e.startAt?new us(e.startAt.position,!e.startAt.before):null;e.Ft=$o(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ft}function Es(t,e,n){return new ds(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cs(t,e){return Jo(Os(t),Os(e))&&t.limitType===e.limitType}function As(t){return Zo(Os(t))+"|lt:"+t.limitType}function xs(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+ko(e.value);var e}).join(", ")+"]"),Co(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+as(t.startAt)),t.endAt&&(e+=", endAt: "+as(t.endAt)),"Target("+e+")"}(Os(t))+"; limitType="+t.limitType+")"}function Is(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):ho.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!hs(t.startAt,_s(t),e)||t.endAt&&hs(t.endAt,_s(t),e))}(t,e)}function Ts(t){return function(e,n){for(var r=!1,i=0,o=_s(t);i<o.length;i++){var s=o[i],u=Ss(s,e,n);if(0!==u)return u;r=r||s.field.ht()}return 0}}function Ss(t,e,n){var r=t.field.ht()?ho.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Do(r,i):Ri()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ri()}}var Ds=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=so.min()),void 0===o&&(o=so.min()),void 0===s&&(s=Hi.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function js(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ao(e)?"-0":e}}function ks(t){return{integerValue:""+t}}function Ps(t,e){return xo(e)?ks(e):js(t,e)}var Rs=function(){this.Ut=void 0};function Ns(t,e,n){return t instanceof Vs?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Us?Ms(t,e):t instanceof Bs?Hs(t,e):function(t,e){var n=Ls(t,e),r=zs(n)+zs(t.Qt);return No(n)&&No(t.Qt)?ks(r):js(t.Kt,r)}(t,e)}function Fs(t,e,n){return t instanceof Us?Ms(t,e):t instanceof Bs?Hs(t,e):n}function Ls(t,e){return t instanceof qs?No(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Vs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e}(Rs),Us=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ii.c)(e,t),e}(Rs);function Ms(t,e){for(var n=Ws(e),r=function(t){n.some(function(e){return To(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bs=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ii.c)(e,t),e}(Rs);function Hs(t,e){for(var n=Ws(e),r=function(t){n=n.filter(function(e){return!To(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var qs=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Ii.c)(e,t),e}(Rs);function zs(t){return yo(t.integerValue||t.doubleValue)}function Ws(t){return Fo(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Gs=function(t,e){this.field=t,this.transform=e},Ks=function(t,e){this.version=t,this.transformResults=e},$s=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Zs(t,e){return void 0!==t.updateTime?e instanceof zo&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof zo}var Js=function(){};function Ys(t,e,n){return t instanceof nu?function(t,e,n){var r=t.value;if(n.transformResults){var i=ou(t.fieldTransforms,e,n.transformResults);r=uu(t.fieldTransforms,r,i)}return new zo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof ru?function(t,e,n){if(!Zs(t.Gt,e))return new Go(t.key,n.version);var r=iu(t,e,n.transformResults?ou(t.fieldTransforms,e,n.transformResults):[]);return new zo(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Wo(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Xs(t,e,n,r){return t instanceof nu?function(t,e,n,r){if(!Zs(t.Gt,e))return e;var i=t.value,o=su(t.fieldTransforms,n,e);i=uu(t.fieldTransforms,i,o);var s=eu(e);return new zo(t.key,s,i,{bt:!0})}(t,e,r):t instanceof ru?function(t,e,n,r){if(!Zs(t.Gt,e))return e;var i=eu(e),o=iu(t,e,su(t.fieldTransforms,n,e));return new zo(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return Zs(t.Gt,e)?new Wo(t.key,so.min()):e}(t,e)}function Qs(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof zo?e.field(o.field):void 0,u=Ls(o.transform,s||null);null!=u&&(n=null==n?(new Bo).set(o.field,u):n.set(o.field,u))}return n?n.yt():null}(t.fieldTransforms,e)}function tu(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Mi(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Us&&e instanceof Us||t instanceof Bs&&e instanceof Bs?Mi(t.elements,e.elements,To):t instanceof qs&&e instanceof qs?To(t.Qt,e.Qt):t instanceof Vs&&e instanceof Vs}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function eu(t){return t instanceof zo?t.version:so.min()}var nu=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(Ii.c)(e,t),e}(Js),ru=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(Ii.c)(e,t),e}(Js);function iu(t,e,n){var r;return r=function(t,e){var n=new Bo(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof zo?e.data():Mo.empty()),uu(t.fieldTransforms,r,n)}function ou(t,e,n){var r=[];Ni(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof zo&&(u=e.field(o.field)),r.push(Fs(s,u,n[i]))}return r}function su(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof zo&&(c=n.field(u.field)),i.push(Ns(a,c,e))}return i}function uu(t,e,n){for(var r=new Bo(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var au,cu,lu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Ii.c)(e,t),e}(Js),hu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Ii.c)(e,t),e}(Js),fu=function(t){this.count=t};function du(t){switch(t){case qi.OK:return Ri();case qi.CANCELLED:case qi.UNKNOWN:case qi.DEADLINE_EXCEEDED:case qi.RESOURCE_EXHAUSTED:case qi.INTERNAL:case qi.UNAVAILABLE:case qi.UNAUTHENTICATED:return!1;case qi.INVALID_ARGUMENT:case qi.NOT_FOUND:case qi.ALREADY_EXISTS:case qi.PERMISSION_DENIED:case qi.FAILED_PRECONDITION:case qi.ABORTED:case qi.OUT_OF_RANGE:case qi.UNIMPLEMENTED:case qi.DATA_LOSS:return!0;default:return Ri()}}function pu(t){if(void 0===t)return ji("GRPC error has no .code"),qi.UNKNOWN;switch(t){case au.OK:return qi.OK;case au.CANCELLED:return qi.CANCELLED;case au.UNKNOWN:return qi.UNKNOWN;case au.DEADLINE_EXCEEDED:return qi.DEADLINE_EXCEEDED;case au.RESOURCE_EXHAUSTED:return qi.RESOURCE_EXHAUSTED;case au.INTERNAL:return qi.INTERNAL;case au.UNAVAILABLE:return qi.UNAVAILABLE;case au.UNAUTHENTICATED:return qi.UNAUTHENTICATED;case au.INVALID_ARGUMENT:return qi.INVALID_ARGUMENT;case au.NOT_FOUND:return qi.NOT_FOUND;case au.ALREADY_EXISTS:return qi.ALREADY_EXISTS;case au.PERMISSION_DENIED:return qi.PERMISSION_DENIED;case au.FAILED_PRECONDITION:return qi.FAILED_PRECONDITION;case au.ABORTED:return qi.ABORTED;case au.OUT_OF_RANGE:return qi.OUT_OF_RANGE;case au.UNIMPLEMENTED:return qi.UNIMPLEMENTED;case au.DATA_LOSS:return qi.DATA_LOSS;default:return Ri()}}(cu=au||(au={}))[cu.OK=0]="OK",cu[cu.CANCELLED=1]="CANCELLED",cu[cu.UNKNOWN=2]="UNKNOWN",cu[cu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cu[cu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cu[cu.NOT_FOUND=5]="NOT_FOUND",cu[cu.ALREADY_EXISTS=6]="ALREADY_EXISTS",cu[cu.PERMISSION_DENIED=7]="PERMISSION_DENIED",cu[cu.UNAUTHENTICATED=16]="UNAUTHENTICATED",cu[cu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cu[cu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cu[cu.ABORTED=10]="ABORTED",cu[cu.OUT_OF_RANGE=11]="OUT_OF_RANGE",cu[cu.UNIMPLEMENTED=12]="UNIMPLEMENTED",cu[cu.INTERNAL=13]="INTERNAL",cu[cu.UNAVAILABLE=14]="UNAVAILABLE",cu[cu.DATA_LOSS=15]="DATA_LOSS";var gu=function(){function t(t,e){this.J=t,this.root=e||vu.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,vu.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,vu.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new bu(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new bu(this.root,t,this.J,!1)},t.prototype.se=function(){return new bu(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new bu(this.root,t,this.J,!0)},t}(),bu=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),vu=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Ri();if(this.right._e())throw Ri();var t=this.left.me();if(t!==this.right.me())throw Ri();return t+(this._e()?0:1)},t}();vu.EMPTY=null,vu.RED=!0,vu.Jt=!1,vu.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ri()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ri()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ri()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ri()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ri()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new vu(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var mu=function(){function t(t){this.J=t,this.data=new gu(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new yu(this.data.ee())},t.prototype.ne=function(t){return new yu(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),yu=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),wu=new gu(ho.J);function _u(){return wu}function Ou(){return _u()}var Eu=new gu(ho.J);function Cu(){return Eu}var Au=new gu(ho.J);function xu(){return Au}var Iu=new mu(ho.J);function Tu(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Iu,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Su=new mu(Ui);function Du(){return Su}var ju=function(){function t(t){this.J=t?function(e,n){return t(e,n)||ho.J(e.key,n.key)}:function(t,e){return ho.J(t.key,e.key)},this.Ve=Cu(),this.pe=new gu(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),ku=function(){function t(){this.ve=new gu(ho.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Ri():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),Pu=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=u}return t.Oe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,ju.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Cs(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Ru=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Nu.Be(e,n)),new t(so.min(),r,Du(),_u(),Tu())},t}(),Nu=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Hi.h,n,Tu(),Tu(),Tu())},t}(),Fu=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},Lu=function(t,e){this.targetId=t,this.Ge=e},Vu=function(t,e,n,r){void 0===n&&(n=Hi.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Uu=function(){function t(){this.ze=0,this.He=Hu(),this.Je=Hi.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Tu(),e=Tu(),n=Tu();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ri()}}),new Nu(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Hu()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Mu=function(){function t(t){this.hn=t,this.ln=new Map,this._n=_u(),this.fn=Bu(),this.dn=new mu(Ui)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof zo?this.En(r,t.We):t.We instanceof Wo&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Ri()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Yo(i))if(0===n){var o=new ho(i.path);this.Tn(e,o,new Wo(o,so.min()))}else Ni(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&Yo(o.target)){var s=new ho(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Wo(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=Tu();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ru(t,n,this.dn,this._n,r);return this._n=_u(),this.fn=Bu(),this.dn=new mu(Ui),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Uu,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new mu(Ui),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Di("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Uu),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Bu(){return new gu(ho.J)}function Hu(){return new gu(ho.J)}var qu={asc:"ASCENDING",desc:"DESCENDING"},zu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wu=function(t,e){this.T=t,this.qt=e};function Gu(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ku(t,e){return t.qt?e.toBase64():e.toUint8Array()}function $u(t,e){return Gu(t,e.G())}function Zu(t){return Ni(!!t),so.j(function(t){var e=mo(t);return new oo(e.seconds,e.nanos)}(t))}function Ju(t,e){return function(t){return new ao(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Yu(t){var e=ao.ct(t);return Ni(_a(e)),e}function Xu(t,e){return Ju(t.T,e.path)}function Qu(t,e){var n=Yu(e);if(n.get(1)!==t.T.projectId)throw new zi(qi.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new zi(qi.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new ho(ra(n))}function ta(t,e){return Ju(t.T,e)}function ea(t){var e=Yu(t);return 4===e.length?ao.at():ra(e)}function na(t){return new ao(["projects",t.T.projectId,"databases",t.T.database]).ot()}function ra(t){return Ni(t.length>4&&"documents"===t.get(4)),t.X(5)}function ia(t,e,n){return{name:Xu(t,e),fields:n.proto.mapValue.fields}}function oa(t,e,n){var r=Qu(t,e.name),i=Zu(e.updateTime),o=new Mo({mapValue:{fields:e.fields}});return new zo(r,i,o,{hasCommittedMutations:!!n})}function sa(t,e){var n;if(e instanceof nu)n={update:ia(t,e.key,e.value)};else if(e instanceof lu)n={delete:Xu(t,e.key)};else if(e instanceof ru)n={update:ia(t,e.key,e.data),updateMask:wa(e.zt)};else{if(!(e instanceof hu))return Ri();n={verify:Xu(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Vs)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Us)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Bs)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof qs)return{fieldPath:e.field.ot(),increment:n.Qt};throw Ri()}(0,t)})),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:$u(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ri()}(t,e.Gt)),n}function ua(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?$s.updateTime(Zu(t.updateTime)):void 0!==t.exists?$s.exists(t.exists):$s.jt()}(e.currentDocument):$s.jt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ni("REQUEST_TIME"===e.setToServerValue),n=new Vs):"appendMissingElements"in e?n=new Us(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Bs(e.removeAllFromArray.values||[]):"increment"in e?n=new qs(t,e.increment):Ri();var r=lo._t(e.fieldPath);return new Gs(r,n)}(t,e)}):[];if(e.update){var i=Qu(t,e.update.name),o=new Mo({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new bo((t.fieldPaths||[]).map(function(t){return lo._t(t)}))}(e.updateMask);return new ru(i,o,s,n,r)}return new nu(i,o,n,r)}if(e.delete){var u=Qu(t,e.delete);return new lu(u,n)}if(e.verify){var a=Qu(t,e.verify);return new hu(a,n)}return Ri()}function aa(t,e){return{documents:[ta(t,e.path)]}}function ca(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ta(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ta(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(Vo(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NAN"}};if(Lo(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Vo(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NAN"}};if(Lo(t.value))return{unaryFilter:{field:ba(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ba(t.field),op:ga(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:ba(t.field),direction:pa(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||Co(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=fa(e.startAt)),e.endAt&&(n.structuredQuery.endAt=fa(e.endAt)),n}function la(t){var e=ea(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ni(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=ha(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new cs(va(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return Co(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=da(n.startAt));var l=null;return n.endAt&&(l=da(n.endAt)),ps(e,i,u,s,a,"F",c,l)}function ha(t){return t?void 0!==t.unaryFilter?[ya(t)]:void 0!==t.fieldFilter?[ma(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return ha(t)}).reduce(function(t,e){return t.concat(e)}):Ri():[]}function fa(t){return{before:t.before,values:t.position}}function da(t){return new us(t.values||[],!!t.before)}function pa(t){return qu[t]}function ga(t){return zu[t]}function ba(t){return{fieldPath:t.ot()}}function va(t){return lo._t(t.fieldPath)}function ma(t){return Xo.create(va(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ri()}}(t.fieldFilter.op),t.fieldFilter.value)}function ya(t){switch(t.unaryFilter.op){case"IS_NAN":var e=va(t.unaryFilter.field);return Xo.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=va(t.unaryFilter.field);return Xo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=va(t.unaryFilter.field);return Xo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=va(t.unaryFilter.field);return Xo.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ri()}}function wa(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function _a(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Oa=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Ea=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&Ri(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),Ca=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Oa,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new Ia(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=ka(e.target.error);n.qn.reject(new Ia(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ia(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Di("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Sa(e)},t}(),Aa=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Ct.h)())&&ji("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Di("SimpleDb","Removing database:",t),Da(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Ct.h)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Di("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Ia(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new zi(qi.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Ia(t,n))},i.onupgradeneeded=function(t){Di("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Di("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(Ii.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(Ii.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Jn(t)];case 2:return u.db=h.sent(),e=Ca.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Ea.reject(t)}).Mn(),a={},s.catch(function(){}),[4,e.Un];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return Di("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),xa=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Da(this.ts.delete())},t}(),Ia=function(t){function e(e,n){var r=this;return(r=t.call(this,qi.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ii.c)(e,t),e}(zi);function Ta(t){return"IndexedDbTransactionError"===t.name}var Sa=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Di("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Di("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Da(n)},t.prototype.add=function(t){return Di("SimpleDb","ADD",this.store.name,t,t),Da(this.store.add(t))},t.prototype.get=function(t){var e=this;return Da(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Di("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Di("SimpleDb","DELETE",this.store.name,t),Da(this.store.delete(t))},t.prototype.count=function(){return Di("SimpleDb","COUNT",this.store.name),Da(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){Di("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Ea(function(n,r){e.onerror=function(t){var e=ka(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new Ea(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new xa(i),s=e(i.primaryKey,i.value,o);if(s instanceof Ea){var u=s.catch(function(t){return o.done(),Ea.reject(t)});n.push(u)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return Ea.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Da(t){return new Ea(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ka(t.target.error);n(e)}})}var ja=!1;function ka(t){var e=Aa.Kn(Object(Ct.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new zi("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ja||(ja=!0,setTimeout(function(){throw r},0)),r}}return t}var Pa=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Oa,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new zi(qi.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Ra(t,e){if(ji("AsyncQueue",e+": "+t),Ta(t))return new zi(qi.UNAVAILABLE,e+": "+t);throw t}var Na="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Fa=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function La(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ua(e)),e=Va(t.get(n),e);return Ua(e)}function Va(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Ua(t){return t+"\x01\x01"}function Ma(t){var e=t.length;if(Ni(e>=2),2===e)return Ni("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),ao.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ri(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ri()}o=s+2}return new ao(r)}var Ba=function(t,e){this.seconds=t,this.nanoseconds=e},Ha=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Ha.store="owner",Ha.key="owner";var qa=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};qa.store="mutationQueues",qa.keyPath="userId";var za=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};za.store="mutations",za.keyPath="batchId",za.userMutationsIndex="userMutationsIndex",za.userMutationsKeyPath=["userId","batchId"];var Wa=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,La(e)]},t.key=function(t,e,n){return[t,La(e),n]},t}();Wa.store="documentMutations",Wa.PLACEHOLDER=new Wa;var Ga=function(t,e){this.path=t,this.readTime=e},Ka=function(t,e){this.path=t,this.version=e},$a=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};$a.store="remoteDocuments",$a.readTimeIndex="readTimeIndex",$a.readTimeIndexPath="readTime",$a.collectionReadTimeIndex="collectionReadTimeIndex",$a.collectionReadTimeIndexPath=["parentPath","readTime"];var Za=function(t){this.byteSize=t};Za.store="remoteDocumentGlobal",Za.key="remoteDocumentGlobalKey";var Ja=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Ja.store="targets",Ja.keyPath="targetId",Ja.queryTargetsIndexName="queryTargetsIndex",Ja.queryTargetsKeyPath=["canonicalId","targetId"];var Ya=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ya.store="targetDocuments",Ya.keyPath=["targetId","path"],Ya.documentTargetsIndex="documentTargetsIndex",Ya.documentTargetsKeyPath=["path","targetId"];var Xa=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Xa.key="targetGlobalKey",Xa.store="targetGlobal";var Qa=function(t,e){this.collectionId=t,this.parent=e};Qa.store="collectionParents",Qa.keyPath=["collectionId","parent"];var tc=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};tc.store="clientMetadata",tc.keyPath="clientId";var ec=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};ec.store="bundles",ec.keyPath="bundleId";var nc=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};nc.store="namedQueries",nc.keyPath="name";var rc=Object(Ii.g)(Object(Ii.g)(Object(Ii.g)(Object(Ii.g)([qa.store,za.store,Wa.store,$a.store,Ja.store,Ha.store,Xa.store,Ya.store],[tc.store]),[Za.store]),[Qa.store]),[ec.store,nc.store]),ic=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Ii.c)(e,t),e}(Fa);function oc(t,e){var n=Fi(t);return Aa.Hn(n.bs,e)}var sc=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Ys(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=Xs(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=Xs(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Tu())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Mi(this.mutations,t.mutations,function(t,e){return tu(t,e)})&&Mi(this.baseMutations,t.baseMutations,function(t,e){return tu(t,e)})},t}(),uc=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){Ni(e.mutations.length===r.length);for(var i=xu(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),ac=function(t){this.ks=t};function cc(t,e){if(e.document)return oa(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ho.Tt(e.noDocument.path),r=pc(e.noDocument.readTime);return new Wo(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ho.Tt(e.unknownDocument.path);return r=pc(e.unknownDocument.version),new Go(i,r)}return Ri()}function lc(t,e,n){var r=hc(n),i=e.key.path.Z().rt();if(e instanceof zo){var o=function(t,e){return{name:Xu(t,e.key),fields:e.vt().mapValue.fields,updateTime:Gu(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new $a(null,null,o,s,r,i)}if(e instanceof Wo){var u=e.key.path.rt(),a=dc(e.version);return s=e.hasCommittedMutations,new $a(null,new Ga(u,a),null,s,r,i)}if(e instanceof Go){var c=e.key.path.rt(),l=dc(e.version);return new $a(new Ka(c,l),null,null,!0,r,i)}return Ri()}function hc(t){var e=t.G();return[e.seconds,e.nanoseconds]}function fc(t){var e=new oo(t[0],t[1]);return so.j(e)}function dc(t){var e=t.G();return new Ba(e.seconds,e.nanoseconds)}function pc(t){var e=new oo(t.seconds,t.nanoseconds);return so.j(e)}function gc(t,e){for(var n=(e.baseMutations||[]).map(function(e){return ua(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return ua(t.ks,e)}),s=oo.fromMillis(e.localWriteTimeMs);return new sc(e.batchId,s,n,o)}function bc(t){var e,n,r=pc(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?pc(t.lastLimboFreeSnapshotVersion):so.min();return void 0!==t.query.documents?(Ni(1===(n=t.query).documents.length),e=Os(gs(ea(n.documents[0])))):e=function(t){return Os(la(t))}(t.query),new Ds(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Hi.fromBase64String(t.resumeToken))}function vc(t,e){var n,r=dc(e.Mt),i=dc(e.lastLimboFreeSnapshotVersion);n=Yo(e.target)?aa(t.ks,e.target):ca(t.ks,e.target);var o=e.resumeToken.toBase64();return new Ja(e.targetId,Zo(e.target),r,o,e.sequenceNumber,i,n)}function mc(t){var e=la({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Es(e,e.limit,"L"):e}var yc=function(){function t(){}return t.prototype.Ms=function(t,e){return wc(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:pc(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return wc(t).put({bundleId:(n=e).id,createTime:dc(Zu(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return _c(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:mc(e.bundledQuery),readTime:pc(e.readTime)};var e})},t.prototype.Bs=function(t,e){return _c(t).put(function(t){return{name:t.name,readTime:dc(Zu(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function wc(t){return oc(t,ec.store)}function _c(t){return oc(t,nc.store)}var Oc=function(){function t(){this.qs=new Ec}return t.prototype.Us=function(t,e){return this.qs.add(e),Ea.resolve()},t.prototype.Qs=function(t,e){return Ea.resolve(this.qs.getEntries(e))},t}(),Ec=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new mu(ao.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new mu(ao.J)).rt()},t}(),Cc=function(){function t(){this.Ks=new Ec}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var o={collectionId:r,parent:La(i)};return Ac(t).put(o)}return Ea.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Bi(e),""],!1,!0);return Ac(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ma(o.parent))}return n})},t}();function Ac(t){return oc(t,Qa.store)}var xc={js:!1,Ws:0,Gs:0,zs:0},Ic=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Tc(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){if(t.code!==qi.FAILED_PRECONDITION||t.message!==Na)throw t;return Di("LocalStore","Unexpectedly lost primary lease"),[2]})})}Ic.Zs=10,Ic.ti=1e3,Ic.ei=new Ic(41943040,Ic.Zs,Ic.ti),Ic.ni=new Ic(-1,0,0);var Sc=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){po(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return go(this.ri)},t}(),Dc=function(){function t(){this.oi=new Sc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:so.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Ea.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function jc(t,e,n){var r=t.store(za.store),i=t.store(Wa.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.ls({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){Ni(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Wa.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Ea.$n(o).next(function(){return c})}function kc(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ri();e=t.noDocument}return JSON.stringify(e).length}var Pc=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Ni(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nc(t).ls({index:za.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,o=Fc(t),s=Nc(t);return s.add({}).next(function(u){Ni("number"==typeof u);for(var a=new sc(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return sa(t.ks,e)}),i=n.mutations.map(function(e){return sa(t.ks,e)});return new za(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,a),l=[],h=new mu(function(t,e){return Ui(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Wa.key(i.userId,p.key.path,u);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Wa.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[u]=a.keys()}),Ea.$n(l).next(function(){return a})})},t.prototype.yi=function(t,e){var n=this;return Nc(t).get(e).next(function(t){return t?(Ni(t.userId===n.userId),gc(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Ea.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Nc(t).ls({index:za.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ni(e.batchId>=r),o=gc(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Nc(t).ls({index:za.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nc(t).os(za.userMutationsIndex,n).next(function(t){return t.map(function(t){return gc(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=Wa.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Fc(t).ls({range:i},function(r,i,s){var u=r[0],a=r[2],c=Ma(r[1]);if(u===n.userId&&e.path.isEqual(c))return Nc(t).get(a).next(function(t){if(!t)throw Ri();Ni(t.userId===n.userId),o.push(gc(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Si=function(t,e){var n=this,r=new mu(Ui),i=[];return e.forEach(function(e){var o=Wa.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Fc(t).ls({range:s},function(t,i,o){var s=t[0],u=t[2],a=Ma(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),Ea.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Wa.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new mu(Ui);return Fc(t).ls({range:s},function(t,e,o){var s=t[0],a=t[2],c=Ma(t[1]);s===n.userId&&r.st(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Di(t,u)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Nc(t).get(e).next(function(t){if(null===t)throw Ri();Ni(t.userId===n.userId),r.push(gc(n.Kt,t))}))}),Ea.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return jc(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),Ea.forEach(r,function(e){return n.Ii.Oi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return Ea.resolve();var r=IDBKeyRange.lowerBound(Wa.prefixForUser(e.userId)),i=[];return Fc(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=Ma(t[1]);i.push(o)}else r.done()}).next(function(){Ni(0===i.length)})})},t.prototype.ki=function(t,e){return Rc(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return Lc(t).get(this.userId).next(function(t){return t||new qa(e.userId,-1,"")})},t}();function Rc(t,e,n){var r=Wa.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Fc(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Nc(t){return oc(t,za.store)}function Fc(t){return oc(t,Wa.store)}function Lc(t){return oc(t,qa.store)}var Vc=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Uc=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new Vc(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return so.j(new oo(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.ji=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return Mc(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return Ni(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return Mc(t).ls(function(s,u){var a=bc(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Yi(t,a)))}).next(function(){return Ea.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return Mc(t).ls(function(t,n){var r=bc(n);e(r)})},t.prototype.Ui=function(t){return Bc(t).get(Xa.key).next(function(t){return Ni(null!==t),t})},t.prototype.Qi=function(t,e){return Bc(t).put(Xa.key,e)},t.prototype.zi=function(t,e){return Mc(t).put(vc(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=Zo(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Mc(t).ls({range:r,index:Ja.queryTargetsIndexName},function(t,n,r){var o=bc(n);Jo(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],o=Hc(t);return e.forEach(function(e){var s=La(e.path);i.push(o.put(new Ya(n,s))),i.push(r.Ii.sr(t,n,e))}),Ea.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Hc(t);return Ea.forEach(e,function(e){var o=La(e.path);return Ea.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=Hc(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Hc(t),i=Tu();return r.ls({range:n,hs:!0},function(t,e,n){var r=Ma(t[1]),o=new ho(r);i=i.add(o)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=La(e.path),r=IDBKeyRange.bound([n],[Bi(n)],!1,!0),i=0;return Hc(t).ls({index:Ya.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Mc(t).get(e).next(function(t){return t?bc(t):null})},t}();function Mc(t){return oc(t,Ja.store)}function Bc(t){return oc(t,Xa.store)}function Hc(t){return oc(t,Ya.store)}function qc(t,e){var n=t[1],r=e[1],i=Ui(t[0],e[0]);return 0===i?Ui(n,r):i}var zc=function(){function t(t){this.ar=t,this.buffer=new mu(qc),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();qc(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Wc=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Di("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(Ii.b)(e,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Ta(e=n.sent())?(Di("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Tc(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),Gc=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return Ea.resolve(io.U);var r=new zc(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Di("LruGarbageCollector","Garbage collection skipped; disabled"),Ea.resolve(xc)):this.br(t).next(function(r){return r<n.params.Hs?(Di("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),xc):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(Di("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.Vr(t,n)}).next(function(t){return a=Date.now(),Si()<=Et.a.DEBUG&&Di("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),Ea.resolve({js:!0,Ws:r,Gs:i,zs:t})})},t}(),Kc=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Gc(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return $c(t,n)},t.prototype.rr=function(t,e,n){return $c(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return $c(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return Lc(t)._s(function(r){return Rc(t,r,e).next(function(t){return t&&(n=!0),Ea.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,function(s,u){if(u<=e){var a=n.Nr(t,s).next(function(e){if(!e)return o++,r.fi(t,s).next(function(){return r._i(s),Hc(t).delete([0,La(s.path)])})});i.push(a)}}).next(function(){return Ea.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return $c(t,e)},t.prototype.Cr=function(t,e){var n,r=Hc(t),i=io.U;return r.ls({index:Ya.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==io.U&&e(new ho(Ma(n)),i),i=s,n=o):i=io.U}).next(function(){i!==io.U&&e(new ho(Ma(n)),i)})},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function $c(t,e){return Hc(t).put(function(t,e){return new Ya(0,La(t.path),e)}(e,t.vs))}var Zc=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return Xc(t).put(Qc(e),n)},t.prototype._i=function(t,e){var n=Xc(t),r=Qc(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return Xc(t).get(Qc(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return Xc(t).get(Qc(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:kc(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ou();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=Ou(),i=new gu(ho.J);return this.qr(t,e,function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,kc(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return Ea.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return Xc(t).ls({range:r},function(t,e,r){for(var s=ho.Tt(t);o&&ho.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.jr=function(t,e,n){var r=this,i=Cu(),o=e.path.length+1,s={};if(n.isEqual(so.min())){var u=e.path.rt();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.rt(),c=hc(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=$a.collectionReadTimeIndex}return Xc(t).ls(s,function(t,n,s){if(t.length===o){var u=cc(r.Kt,n);e.path.st(u.key.path)?u instanceof zo&&Is(e,u)&&(i=i.Ht(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Or=function(t){return new Jc(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Yc(t).get(Za.key).next(function(t){return Ni(!!t),t})},t.prototype.Lr=function(t,e){return Yc(t).put(Za.key,e)},t.prototype.$r=function(t){if(t){var e=cc(this.Kt,t);return e instanceof Wo&&e.version.isEqual(so.min())?null:e}return null},t}(),Jc=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new Sc(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Ii.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new mu(function(t,e){return Ui(t.ot(),e.ot())});return this.oi.forEach(function(o,s){var u=e.zr.get(o);if(s.li){var a=lc(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=kc(a);r+=c-u,n.push(e.Gr.ui(t,o,a))}else if(r-=u,e.Wr){var l=lc(e.Gr.Kt,new Wo(o,so.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),Ea.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(Dc);function Yc(t){return oc(t,Za.store)}function Xc(t){return oc(t,$a.store)}function Qc(t){return t.path.rt()}var tl=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Ni(n<r&&n>=0&&r<=11);var o=new Ca("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Ha.store)}(t),function(t){t.createObjectStore(qa.store,{keyPath:qa.keyPath}),t.createObjectStore(za.store,{keyPath:za.keyPath,autoIncrement:!0}).createIndex(za.userMutationsIndex,za.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Wa.store)}(t),el(t),function(t){t.createObjectStore($a.store)}(t));var s=Ea.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ya.store),t.deleteObjectStore(Ja.store),t.deleteObjectStore(Xa.store)}(t),el(t)),s=s.next(function(){return function(t){var e=t.store(Xa.store),n=new Xa(0,0,so.min().G(),0);return e.put(Xa.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(za.store).os().next(function(n){t.deleteObjectStore(za.store),t.createObjectStore(za.store,{keyPath:za.keyPath,autoIncrement:!0}).createIndex(za.userMutationsIndex,za.userMutationsKeyPath,{unique:!0});var r=e.store(za.store),i=n.map(function(t){return r.put(t)});return Ea.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(tc.store,{keyPath:tc.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Hr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Za.store)}(t),i.Jr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Yr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Xr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore($a.store);e.createIndex($a.readTimeIndex,$a.readTimeIndexPath,{unique:!1}),e.createIndex($a.collectionReadTimeIndex,$a.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Zr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(ec.store,{keyPath:ec.keyPath})}(t),function(t){t.createObjectStore(nc.store,{keyPath:nc.keyPath})}(t)})),s},t.prototype.Jr=function(t){var e=0;return t.store($a.store).ls(function(t,n){e+=kc(n)}).next(function(){var n=new Za(e);return t.store(Za.store).put(Za.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store(qa.store),r=t.store(za.store);return n.os().next(function(n){return Ea.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(za.userMutationsIndex,i).next(function(r){return Ea.forEach(r,function(r){Ni(r.userId===n.userId);var i=gc(e.Kt,r);return jc(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(Ya.store),n=t.store($a.store);return t.store(Xa.store).get(Xa.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new ao(n),s=function(t){return[0,La(t)]}(o);r.push(e.get(s).next(function(n){return n?Ea.resolve():function(n){return e.put(new Ya(0,La(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Ea.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(Qa.store,{keyPath:Qa.keyPath});var n=e.store(Qa.store),r=new Ec,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:La(i)})}};return e.store($a.store).ls({hs:!0},function(t,e){var n=new ao(t);return i(n.Z())}).next(function(){return e.store(Wa.store).ls({hs:!0},function(t,e){var n=Ma(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(Ja.store);return n.ls(function(t,r){var i=bc(r),o=vc(e.Kt,i);return n.put(o)})},t}();function el(t){t.createObjectStore(Ya.store,{keyPath:Ya.keyPath}).createIndex(Ya.documentTargetsIndex,Ya.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Ja.store,{keyPath:Ja.keyPath}).createIndex(Ja.queryTargetsIndexName,Ja.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Xa.store)}var nl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",rl=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=u,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new zi(qi.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Kc(this,i),this.lo=n+"main",this.Kt=new ac(a),this._o=new Aa(this.lo,11,new tl(this.Kt)),this.fo=new Uc(this.Ii,this.Kt),this.Ti=new Cc,this.wo=function(t,e){return new Zc(t,e)}(this.Kt,this.Ti),this.Eo=new yc,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&ji("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new zi(qi.FAILED_PRECONDITION,nl);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.ji(e)})}).then(function(e){t.io=new io(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return ol(e).put(new tc(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(Ta(e))return Di("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Di("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return il(t).get(Ha.key).next(function(t){return Ea.resolve(e.Co(t))})},t.prototype.xo=function(t){return ol(t).delete(this.clientId)},t.prototype.No=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=oc(t,tc.store);return e.os().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Ea.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Ea.resolve(!0):il(t).get(Ha.key).next(function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new zi(qi.FAILED_PRECONDITION,nl);return!1}}return!(!e.networkEnabled||!e.inForeground)||ol(t).os().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Di("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t=this;return Object(Ii.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Ha.store,tc.store],function(e){var n=new ic(e,io.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return ol(e).os().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Pc.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Di("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",rc,function(o){return r=new ic(o,i.io?i.io.next():io.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw ji("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new zi(qi.FAILED_PRECONDITION,Na);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return il(t).get(Ha.key).next(function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new zi(qi.FAILED_PRECONDITION,nl)})},t.prototype.Do=function(t){var e=new Ha(this.clientId,this.allowTabSynchronization,Date.now());return il(t).put(Ha.key,e)},t.jn=function(){return Aa.jn()},t.prototype.So=function(t){var e=this,n=il(t);return n.get(Ha.key).next(function(t){return e.Co(t)?(Di("IndexedDbPersistence","Releasing primary lease."),n.delete(Ha.key)):Ea.resolve()})},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ji("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Di("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ji("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){ji("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function il(t){return oc(t,Ha.store)}function ol(t){return oc(t,tc.store)}function sl(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ul=function(t,e){this.progress=t,this.zo=e},al=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=Ou();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),o=_u();return i.forEach(function(t,e){e||(e=new Wo(t,so.min())),o=o.Ht(t,e)}),o})},t.prototype.jr=function(t,e,n){return function(t){return ho.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):ws(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new ho(e)).next(function(t){var e=Cu();return t instanceof zo&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Cu();return this.Ti.Qs(t,i).next(function(s){return Ea.forEach(s,function(s){var u=function(t,e){return new ds(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next(function(n){return r=n,o.Ho.Ci(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=Xs(a,r.get(c),0,o.Ss);r=l instanceof zo?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){Is(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=Tu(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof ru&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof zo&&(c=c.Ht(t,e))}),c})},t}(),cl=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Tu(),i=Tu(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ll=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(so.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(bs(e)||vs(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Si()<=Et.a.DEBUG&&Di("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),xs(e)),i.uc.jr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new mu(Ts(t));return e.forEach(function(e,r){r instanceof zo&&Is(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Si()<=Et.a.DEBUG&&Di("QueryEngine","Using full collection scan to execute query:",xs(e)),this.uc.jr(t,e,so.min())},t}(),hl=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new gu(Ui),this.wc=new Sc(function(t){return Zo(t)},Jo),this.Ec=so.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new al(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function fl(t,e,n,r){return new hl(t,e,n,r)}function dl(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return n=Fi(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.bi(t).next(function(s){return o=s,r=n.persistence.Ko(e),i=new al(n.Tc,r,n.persistence.jo()),r.bi(t)}).next(function(e){for(var n=[],r=[],s=Tu(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,b=p.mutations;g<b.length;g++)s=s.add(b[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function pl(t,e){var n=Fi(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Ea.resolve();return o.forEach(function(t){s=s.next(function(){return r.fi(e,t)}).next(function(e){var o=e,s=n.Fs.get(t);Ni(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)})}),s.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function gl(t){var e=Fi(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function bl(t,e){var n=Fi(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var s=[];e.Fe.forEach(function(e,o){var u=i.get(o);if(u){s.push(n.fo.ir(t,e.Ke,o).next(function(){return n.fo.nr(t,e.Ue,o)}));var a=e.resumeToken;if(a.o()>0){var c=u.$t(a,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return Ni(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(u,c,e)&&s.push(n.fo.Ji(t,c))}}});var u=_u();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))}),s.push(vl(t,o,e.Me,r,void 0).next(function(t){u=t})),!r.isEqual(so.min())){var a=n.fo.Ki(t).next(function(e){return n.fo.Wi(t,t.vs,r)});s.push(a)}return Ea.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,u)})}).then(function(t){return n.dc=i,t})}function vl(t,e,n,r,i){var o=Tu();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=_u();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Wo&&s.version.isEqual(so.min())?(e._i(n,a),o=o.Ht(n,s)):null==u||s.version.u(u.version)>0||0===s.version.u(u.version)&&u.hasPendingWrites?(e.ui(s,a),o=o.Ht(n,s)):Di("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function ml(t,e){var n=Fi(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function yl(t,e){var n=Fi(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?Ea.resolve(r=i):n.fo.qi(t).next(function(i){return r=new Ds(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function wl(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ii.d)(this,function(u){switch(u.label){case 0:r=Fi(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Ta(s=u.sent()))throw s;return Di("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function _l(t,e,n){var r=Fi(t),i=so.min(),o=Tu();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Fi(t),i=r.wc.get(n);return void 0!==i?Ea.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Os(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.jr(t,e,n?i:so.min(),n?o:Tu())}).next(function(t){return{documents:t,Pc:o}})})}function Ol(t,e){var n=Fi(t),r=Fi(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function El(t){var e=Fi(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Fi(t),i=_u(),o=hc(n),s=Xc(e),u=IDBKeyRange.lowerBound(o,!0);return s.ls({index:$a.readTimeIndex,range:u},function(t,e){var n=cc(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{zo:i,readTime:fc(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function Cl(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){return[2,(e=Fi(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Xc(t),n=so.min();return e.ls({index:$a.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=fc(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function Al(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(Ii.d)(this,function(p){switch(p.label){case 0:for(i=Fi(t),o=Tu(),s=_u(),u=xu(),a=0,c=n;a<c.length;a++)h=e.yc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),u=u.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,yl(i,function(t){return Os(gs(ao.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return vl(t,f,s,so.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function xl(t,e,n){return void 0===n&&(n=Tu()),Object(Ii.b)(this,void 0,void 0,function(){var r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return[4,yl(t,Os(mc(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Fi(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Zu(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(Hi.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var Il=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Ea.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Zu(n.createTime)}),Ea.resolve()},t.prototype.$s=function(t,e){return Ea.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:mc(t.bundledQuery),readTime:Zu(t.readTime)}}(e)),Ea.resolve()},t}(),Tl=function(){function t(){this.Sc=new mu(Sl.Dc),this.Cc=new mu(Sl.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Sl(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Oc(new Sl(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new ho(new ao([])),r=new Sl(n,t),i=new Sl(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Oc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Oc(e)})},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new ho(new ao([])),n=new Sl(e,t),r=new Sl(e,t+1),i=Tu();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new Sl(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Sl=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return ho.J(t.key,e.key)||Ui(t.$c,e.$c)},t.xc=function(t,e){return Ui(t.$c,e.$c)||ho.J(t.key,e.key)},t}(),Dl=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new mu(Sl.Dc)}return t.prototype.Ri=function(t){return Ea.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new sc(i,e,n,r);this.Ho.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.qc=this.qc.add(new Sl(a.key,i)),this.Ti.Us(t,a.key.path.Z())}return Ea.resolve(o)},t.prototype.yi=function(t,e){return Ea.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Ea.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Ea.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Ea.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Sl(e,0),i=new Sl(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),Ea.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new mu(Ui);return e.forEach(function(t){var e=new Sl(t,0),i=new Sl(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),Ea.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;ho.Et(i)||(i=i.child(""));var o=new Sl(new ho(i),0),s=new mu(Ui);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),Ea.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;Ni(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Ea.forEach(e.mutations,function(i){var o=new Sl(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Sl(e,0),r=this.qc.Pe(n);return Ea.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return Ea.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),jl=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new gu(ho.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Ea.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ou();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),Ea.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=Cu(),i=new ho(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),u=s.value,a=u.li,c=u.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||a instanceof zo&&Is(e,a)&&(r=r.Ht(a.key,a))}return Ea.resolve(r)},t.prototype.Gc=function(t,e){return Ea.forEach(this.docs,function(t){return e(t)})},t.prototype.Or=function(t){return new kl(this)},t.prototype.Mr=function(t){return Ea.resolve(this.size)},t}(),kl=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Ii.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),Ea.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Dc),Pl=function(){function t(t){this.persistence=t,this.zc=new Sc(function(t){return Zo(t)},Jo),this.lastRemoteSnapshotVersion=so.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Tl,this.targetCount=0,this.Yc=Vc.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),Ea.resolve()},t.prototype.Ki=function(t){return Ea.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return Ea.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Ea.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Ea.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Vc(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Ea.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Ea.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Ea.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,u.targetId)),i++)}),Ea.$n(o).next(function(){return i})},t.prototype.tr=function(t){return Ea.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Ea.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Ea.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Oi(t,e))}),Ea.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Ea.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Ea.resolve(n)},t.prototype.ki=function(t,e){return Ea.resolve(this.Jc.ki(e))},t}(),Rl=function(){function t(t,e){var n=this;this.Xc={},this.io=new io(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Pl(this),this.Ti=new Oc,this.wo=function(t,e){return new jl(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new ac(e),this.Eo=new Il(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Dl(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Di("MemoryPersistence","Starting transaction:",t);var i=new Nl(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return Ea.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),Nl=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Ii.c)(e,t),e}(Fa),Fl=function(){function t(t){this.persistence=t,this.sa=new Tl,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Ri()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Ea.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Ea.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),Ea.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return Ea.forEach(this.oa,function(r){var i=ho.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Ea.Bn([function(){return Ea.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function Ll(t,e){return"firestore_clients_"+t+"_"+e}function Vl(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Ul(t,e){return"firestore_targets_"+t+"_"+e}var Ml=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new zi(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(ji("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Bl=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new zi(r.error.code,r.error.message)),i?new t(e,r.state,o):(ji("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Hl=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Du(),s=0;i&&s<r.activeTargetIds.length;++s)i=xo(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(ji("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ql=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ji("SharedClientState","Failed to parse online state: "+e),null)},t}(),zl=function(){function t(){this.activeTargetIds=Du()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Wl=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new gu(Ui),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=Ll(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new zl),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(Ii.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(Ll(this.persistenceKey,r)))&&(o=Hl.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(u=this.ba(s))&&this.va(u),a=0,c=this.Ia;a<c.length;a++)this.Ea(c[a]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Ul(this.persistenceKey,t));if(n){var r=Bl.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Ul(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Di("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Di("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Di("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Di("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void ji("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(Ii.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(Ii.d)(this,function(u){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=io.U;if(null!=t)try{var n=JSON.parse(t);Ni("number"==typeof n),e=n}catch(t){ji("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==io.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Ml(this.currentUser,t,e,n),i=Vl(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=Vl(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Ul(this.persistenceKey,t),i=new Bl(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Hl.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Ml.aa(new Xi(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Bl.aa(r,e)},t.prototype.ba=function(t){return ql.aa(t)},t.prototype.Xa=function(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Di("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this.fa.iu(s,u).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Du();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Gl=function(){function t(){this.ru=new zl,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new zl,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),Kl=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),$l=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Di("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Di("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Zl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Jl=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Yl=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Ii.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new xi;s.listenOnce(Ei.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Oi.NO_ERROR:var e=s.getResponseJson();Di("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Oi.TIMEOUT:Di("Connection",'RPC "'+t+'" timed out'),o(new zi(qi.DEADLINE_EXCEEDED,"Request time out"));break;case Oi.HTTP_ERROR:var n=s.getStatus();if(Di("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(qi).indexOf(e)>=0?e:qi.UNKNOWN}(r.status);o(new zi(u,r.message))}else o(new zi(qi.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new zi(qi.UNAVAILABLE,"Connection failed."));break;default:Ri()}}finally{Di("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new vi,i=wn(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(Ct.m)()||Object(Ct.o)()||Object(Ct.k)()||Object(Ct.l)()||Object(Ct.p)()||Object(Ct.j)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Di("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new Jl({du:function(t){c?Di("Connection","Not sending because WebChannel is closed:",t):(a||(Di("Connection","Opening WebChannel transport."),u.open(),a=!0),Di("Connection","WebChannel sending:",t),u.send(t))},wu:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,Ai.EventType.OPEN,function(){c||Di("Connection","WebChannel transport opened.")}),h(u,Ai.EventType.CLOSE,function(){c||(c=!0,Di("Connection","WebChannel transport closed"),l.Pu())}),h(u,Ai.EventType.ERROR,function(t){c||(c=!0,ki("Connection","WebChannel transport errored:",t),l.Pu(new zi(qi.UNAVAILABLE,"The operation could not be completed")))}),h(u,Ai.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Ni(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Di("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=au[t];if(void 0!==e)return pu(e)}(i),s=r.message;void 0===o&&(o=qi.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new zi(o,s)),u.close()}else Di("Connection","WebChannel received:",n),l.yu(n)}}),h(i,Ci.STAT_EVENT,function(t){10===t.stat?Di("Connection","Detected buffering proxy"):11===t.stat&&Di("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Di("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return Di("RestConnection","Received: ",t),t},function(e){throw ki("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Zl[t]},t}());function Xl(){return"undefined"!=typeof window?window:null}function Ql(){return"undefined"!=typeof document?document:null}function th(t){return new Wu(t,!0)}var eh=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Di("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),nh=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new eh(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===qi.RESOURCE_EXHAUSTED?(ji(e.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===qi.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then(function(e){t.Wu===n&&t.rh(e)},function(n){e(function(){var e=new zi(qi.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(Ii.b)(t,void 0,void 0,function(){return Object(Ii.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return Di("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.Wu===t?n():(Di("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),rh=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(Ii.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ri()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Ni(void 0===e||"string"==typeof e),Hi.fromBase64String(e||"")):(Ni(void 0===e||e instanceof Uint8Array),Hi.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?qi.UNKNOWN:pu(t.code);return new zi(e,t.message||"")}(u);n=new Vu(r,i,o,s||null)}else if("documentChange"in e){i=Qu(t,(r=e.documentChange).document.name),o=Zu(r.document.updateTime);var u=new Mo({mapValue:{fields:r.document.fields}}),a=(s=new zo(i,o,u,{}),r.targetIds||[]);n=new Fu(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Qu(t,(r=e.documentDelete).document),o=r.readTime?Zu(r.readTime):so.min(),u=new Wo(i,o),n=new Fu([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=Qu(t,(r=e.documentRemove).document),n=new Fu([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ri();var c=e.filter;i=new fu(r=c.count||0),n=new Lu(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return so.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?so.min():e.readTime?Zu(e.readTime):so.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=na(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Yo(r)?{documents:aa(t,r)}:{query:ca(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Ku(t,e.resumeToken):e.Mt.u(so.min())>0&&(n.readTime=Gu(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ri()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=na(this.Kt),e.removeTarget=t,this.eh(e)},e}(nh),ih=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Ni(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Ni(void 0!==e),t.map(function(t){return function(t,e){var n=Zu(t.updateTime?t.updateTime:e);n.isEqual(so.min())&&(n=Zu(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ks(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Zu(t.commitTime);return this.listener.wh(n,e)}return Ni(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=na(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return sa(e.Kt,t)})};this.eh(n)},e}(nh),oh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Ii.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new zi(qi.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===qi.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===qi.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),sh=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(ji(e),this.Ph=!1):Di("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),uh=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(Ii.b)(o,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return bh(this)?(Di("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return(e=Fi(t)).Oh.add(4),[4,ch(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,ah(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new sh(n,r)};function ah(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:if(!bh(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function ch(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function lh(t,e){var n=Fi(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),gh(n)?ph(n):jh(n).Ju()&&fh(n,e))}function hh(t,e){var n=Fi(t),r=jh(n);n.Nh.delete(e),r.Ju()&&dh(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():bh(n)&&n.Mh.set("Unknown"))}function fh(t,e){t.Lh.cn(e.targetId),jh(t).hh(e)}function dh(t,e){t.Lh.cn(e),jh(t).lh(e)}function ph(t){t.Lh=new Mu({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),jh(t).start(),t.Mh.yh()}function gh(t){return bh(t)&&!jh(t).Hu()&&t.Nh.size>0}function bh(t){return 0===Fi(t).Oh.size}function vh(t){t.Lh=void 0}function mh(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return t.Nh.forEach(function(e,n){fh(t,e)}),[2]})})}function yh(t,e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){return vh(t),gh(t)?(t.Mh.ph(e),ph(t)):t.Mh.set("Unknown"),[2]})})}function wh(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof Vu&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Di("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,_h(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Fu?t.Lh.wn(e):e instanceof Lu?t.Lh.yn(e):t.Lh.In(e),n.isEqual(so.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,gl(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Hi.h,n.Mt)),dh(t,e);var r=new Ds(n.target,e,1,n.sequenceNumber);fh(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Di("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,_h(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function _h(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r=this;return Object(Ii.d)(this,function(i){switch(i.label){case 0:if(!Ta(e))throw e;return t.Oh.add(1),[4,ch(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return gl(t.Sh)}),t.fs.bo(function(){return Object(Ii.b)(r,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return Di("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,ah(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Oh(t,e){return e().catch(function(n){return _h(t,n,e)})}function Eh(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:e=Fi(t),n=kh(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return bh(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,ml(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=kh(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,_h(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return Ch(e)&&Ah(e),[2]}})})}function Ch(t){return bh(t)&&!kh(t).Hu()&&t.xh.length>0}function Ah(t){kh(t).start()}function xh(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){return kh(t).Th(),[2]})})}function Ih(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n,r;return Object(Ii.d)(this,function(i){for(e=kh(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function Th(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=uc.from(r,e,n),[4,Oh(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,Eh(t)];case 2:return o.sent(),[2]}})})}function Sh(t,e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e&&kh(t).fh?[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return du(r=e.code)&&r!==qi.ABORTED?(n=t.xh.shift(),kh(t).Xu(),[4,Oh(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Eh(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Ch(t)&&Ah(t),[2]}})})}function Dh(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return n=Fi(t),e?(n.Oh.delete(2),[4,ah(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,ch(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function jh(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Fi(t);return r.mh(),new rh(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:mh.bind(null,t),Iu:yh.bind(null,t),uh:wh.bind(null,t)}),t.Fh.push(function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),gh(t)?ph(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),vh(t),e.label=3;case 3:return[2]}})})})),t.Qh}function kh(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Fi(t);return r.mh(),new ih(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:xh.bind(null,t),Iu:Sh.bind(null,t),Eh:Ih.bind(null,t),wh:Th.bind(null,t)}),t.Fh.push(function(n){return Object(Ii.b)(e,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Eh(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Di("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var Ph=function(){this.jh=void 0,this.listeners=[]},Rh=function(){this.queries=new Sc(function(t){return As(t)},Cs),this.onlineState="Unknown",this.Wh=new Set};function Nh(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Ii.d)(this,function(c){switch(c.label){case 0:if(n=Fi(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Ph),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.jh=c.sent(),[3,4];case 3:return u=c.sent(),a=Ra(u,"Initialization of query '"+xs(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&Uh(n),[2]}})})}function Fh(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ii.d)(this,function(u){return n=Fi(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function Lh(t,e){for(var n=Fi(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].Hh(s)&&(r=!0);u.jh=s}}r&&Uh(n)}function Vh(t,e,n){var r=Fi(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Uh(t){t.Wh.forEach(function(t){t.next()})}var Mh=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Pu(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Pu.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Bh=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Hh=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Qu(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?oa(this.Kt,t.document,!1):new Wo(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Zu(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Hh(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Tu()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return[4,Al(this.Sh,new Hh(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,xl(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ul(Object.assign({},this.progress),t))]}})})}}();var qh=function(t){this.key=t},zh=function(t){this.key=t},Wh=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Tu(),this.Ce=Tu(),this.ll=Ts(t),this._l=new ju(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new ku,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,u=!1,a=bs(this.query)&&i.size===this.query.limit?i.last():null,c=vs(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof zo?e:null;h&&(h=Is(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.ll(h,a)>0||c&&n.ll(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),bs(this.query)||vs(this.query))for(;s.size>this.query.limit;){var l=bs(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:u,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ri()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],u=0===this.hl.size&&this.qe?1:0,a=u!==this.ul;return this.ul=u,0!==o.length||a?{snapshot:new Pu(this.query,t._l,i,o,t.Ce,0===u,a,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new ku,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Tu(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new zh(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new qh(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Tu();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Pu.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),Gh=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Kh=function(t){this.key=t,this.yl=!1},$h=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Sc(function(t){return As(t)},Cs),this.Dl=new Map,this.Cl=[],this.xl=new gu(ho.J),this.Nl=new Map,this.Ol=new Tl,this.Fl={},this.kl=new Map,this.Ml=Vc.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Zh(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ii.d)(this,function(u){switch(u.label){case 0:return n=Af(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,yl(n.Sh,Os(e))];case 2:return o=u.sent(),s=n.pl.ka(o.targetId),[4,Jh(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.$l&&lh(n.gl,o),u.label=4;case 4:return[2,r]}})})}function Jh(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(Ii.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ii.d)(this,function(u){switch(u.label){case 0:return(i=e.view.dl(n))._c?[4,_l(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(lf(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,_l(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Wh(e,i.Pc),s=o.dl(i.documents),u=Nu.Be(n,r&&"Offline"!==t.onlineState),a=o.Ei(s,t.$l,u),lf(t,n,a.ml),c=new Gh(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),a.snapshot)]}})})}function Yh(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return n=Fi(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!Cs(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,wl(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),hh(n.gl,r.targetId),af(n,r.targetId)}).catch(Tc)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return af(n,r.targetId),[4,wl(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Xh(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ii.d)(this,function(u){switch(u.label){case 0:r=xf(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Fi(t),i=oo.now(),o=e.reduce(function(t,e){return t.add(e.key)},Tu());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=Qs(c,n.get(c.key));null!=l&&s.push(new ru(c.key,l,Ho(l.proto.mapValue),$s.exists(!0)))}return r.Ho.Pi(t,i,s,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=u.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new gu(Ui)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,df(r,i.oi)];case 3:return u.sent(),[4,Eh(r.gl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Ra(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Qh(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:n=Fi(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,bl(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.Nl.get(e);r&&(Ni(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Ni(r.yl):t.Ke.size>0&&(Ni(r.yl),r.yl=!1))}),[4,df(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Tc(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function tf(t,e,n){var r=Fi(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Fi(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&Uh(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function ef(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(Ii.d)(this,function(c){switch(c.label){case 0:return(r=Fi(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new gu(ho.J)).Ht(o,new Wo(o,so.min())),u=Tu().add(o),a=new Ru(so.min(),new Map,new mu(Ui),s,u),[4,Qh(r,a)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),ff(r),[3,4];case 2:return[4,wl(r.Sh,e,!1).then(function(){return af(r,e,n)}).catch(Tc)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function nf(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:n=Fi(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,pl(n.Sh,e)];case 2:return i=o.sent(),uf(n,r,null),sf(n,r),n.pl.Oa(r,"acknowledged"),[4,df(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Tc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function rf(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:r=Fi(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Fi(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return Ni(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Fi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),uf(r,e,n),sf(r,e),r.pl.Oa(e,"rejected",n),[4,df(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Tc(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function of(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(Ii.d)(this,function(u){switch(u.label){case 0:bh((n=Fi(t)).gl)||Di("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Fi(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=u.sent(),s=Ra(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function sf(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function uf(t,e,n){var r=Fi(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function af(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach(function(e){t.Ol.ki(e)||cf(t,e)})}function cf(t,e){var n=t.xl.get(e);null!==n&&(hh(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),ff(t))}function lf(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof qh?(t.Ol.sr(o.key,e),hf(t,o)):o instanceof zh?(Di("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||cf(t,o.key)):Ri()}}function hf(t,e){var n=e.key;t.xl.get(n)||(Di("SyncEngine","New document in limbo: "+n),t.Cl.push(n),ff(t))}function ff(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Kh(e)),t.xl=t.xl.Ht(e,n),lh(t.gl,new Ds(Os(gs(e.path)),n,2,io.U))}}function df(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(Ii.d)(this,function(u){switch(u.label){case 0:return r=Fi(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,u){s.push(r.Bl(u,e,n).then(function(t){if(t){r.$l&&r.pl.qa(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=cl.cc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vl.uh(i),[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(Ii.d)(this,function(l){switch(l.label){case 0:n=Fi(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Ea.forEach(e,function(e){return Ea.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return Ea.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Ta(r=l.sent()))throw r;return Di("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.dc.get(u),c=a.Bt(a.Mt),n.dc=n.dc.Ht(u,c));return[2]}})})}(r.Sh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function pf(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return(n=Fi(t)).currentUser.isEqual(e)?[3,3]:(Di("SyncEngine","User change. New user:",e.R()),[4,dl(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new zi(qi.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,df(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function gf(t,e){var n=Fi(t),r=n.Nl.get(e);if(r&&r.yl)return Tu().add(r.key);var i=Tu(),o=n.Dl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.Sl.get(u[s]);i=i.ye(a.view.fl)}return i}function bf(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return[4,_l((n=Fi(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&lf(n,e.targetId,i.ml),i)]}})})}function vf(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){return[2,El((e=Fi(t)).Sh).then(function(t){return df(e,t)})]})})}function mf(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Fi(t),r=Fi(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):Ea.resolve(null)})})}((i=Fi(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Eh(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(uf(i,e,r||null),sf(i,e),function(t,e){Fi(Fi(t).Ho).Ni(e)}(i.Sh,e)):Ri(),s.label=4;case 4:return[4,df(i,o)];case 5:return s.sent(),[3,7];case 6:Di("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function yf(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(Ii.d)(this,function(c){switch(c.label){case 0:return Af(n=Fi(t)),xf(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,wf(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Dh(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)lh(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],a=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?u.push(e):a=a.then(function(){return af(n,e),wl(n.Sh,e,!0)}),hh(n.gl,e)}),[4,a]);case 4:return c.sent(),[4,wf(n,u)];case 5:return c.sent(),function(t){var e=Fi(t);e.Nl.forEach(function(t,n){hh(e.gl,n)}),e.Ol.Mc(),e.Nl=new Map,e.xl=new gu(ho.J)}(n),n.Ll=!1,[4,Dh(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function wf(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(Ii.d)(this,function(g){switch(g.label){case 0:n=Fi(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Dl.get(u=s[o]))&&0!==c.length?[4,yl(n.Sh,Os(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,bf(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ol(n.Sh,u)];case 8:return p=g.sent(),[4,yl(n.Sh,p)];case 9:return a=g.sent(),[4,Jh(n,_f(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function _f(t){return ps(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Of(t){var e=Fi(t);return Fi(Fi(e.Sh).persistence).Qo()}function Ef(t,e,n,r){return Object(Ii.b)(this,void 0,void 0,function(){var i,o,s;return Object(Ii.d)(this,function(u){switch(u.label){case 0:return(i=Fi(t)).Ll?(Di("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,El(i.Sh)];case 3:return o=u.sent(),s=Ru.$e(e,"current"===n),[4,df(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,wl(i.Sh,e,!0)];case 6:return u.sent(),af(i,e,r),[3,8];case 7:Ri(),u.label=8;case 8:return[2]}})})}function Cf(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(Ii.d)(this,function(f){switch(f.label){case 0:if(!(r=Af(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(Di("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ol(r.Sh,s)]:[3,6];case 2:return u=f.sent(),[4,yl(r.Sh,u)];case 3:return a=f.sent(),[4,Jh(r,_f(u),a.targetId,!1)];case 4:f.sent(),lh(r.gl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,wl(r.Sh,t,!1).then(function(){hh(r.gl,t),af(r,t)}).catch(Tc)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Af(t){var e=Fi(t);return e.gl.Ch.Bh=Qh.bind(null,e),e.gl.Ch.Sn=gf.bind(null,e),e.gl.Ch.$h=ef.bind(null,e),e.vl.uh=Lh.bind(null,e.Vl),e.vl.ql=Vh.bind(null,e.Vl),e}function xf(t){var e=Fi(t);return e.gl.Ch.qh=nf.bind(null,e),e.gl.Ch.Uh=rf.bind(null,e),e}var If=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return this.Kt=th(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return fl(this.persistence,new ll,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Rl(Fl.ra,this.Kt)},t.prototype.Wl=function(t){return new Gl},t.prototype.terminate=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),Tf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ii.c)(e,t),e.prototype.initialize=function(e){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Cl(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,xf(this.Xl.fa)];case 4:return n.sent(),[4,Eh(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return fl(this.persistence,new ll,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Wc(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=sl(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?Ic.Xs(this.cacheSizeBytes):Ic.ei;return new rl(this.synchronizeTabs,e,t.clientId,n,t.fs,Xl(),Ql(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Gl},e}(If),Sf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ii.c)(e,t),e.prototype.initialize=function(e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r=this;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Wl?(this.pl.fa={nu:mf.bind(null,n),su:Ef.bind(null,n),iu:Cf.bind(null,n),Qo:Of.bind(null,n),eu:vf.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(Ii.b)(r,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,yf(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Xl();if(!Wl.jn(e))throw new zi(qi.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=sl(t.gu.T,t.gu.persistenceKey);return new Wl(e,t.fs,n,t.clientId,t.Yl)},e}(Tf),Df=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n=this;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return tf(n.fa,t,1)},this.gl.Ch.s_=pf.bind(null,this.fa),[4,Dh(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Rh},t.prototype.Zl=function(t){var e=th(t.gu.T),n=new Yl(t.gu);return function(t,e,n){return new oh(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return tf(s.fa,t,0)},o=$l.jn()?new $l:new Kl,new uh(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var u=new $h(t,e,n,r,i,o);return s&&(u.Ll=!0),u}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=Fi(t),Di("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,ch(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),jf=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),kf=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Oa,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Bh(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new zi(qi.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new lo(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Pf=function(t){this._methodName=t};function Rf(t,e,n){if(!n)throw new zi(qi.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Nf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new zi(qi.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ff(t,e,n,r){if(!0===e&&!0===r)throw new zi(qi.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Lf(t){if(!ho.Et(t))throw new zi(qi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Vf(t){if(ho.Et(t))throw new zi(qi.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Uf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ri()}function Mf(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new zi(qi.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Uf(t);throw new zi(qi.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Bf(t,e){if(e<=0)throw new zi(qi.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Hf=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new zi(qi.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new zi(qi.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Ff("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),qf=new Map,zf=function(){function t(t,e){this.w_="(lite)",this.E_=new Hf({}),this.T_=!1,t instanceof Yi?(this.I_=t,this.m_=new to):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new zi(qi.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yi(t.options.projectId)}(t),this.m_=new eo(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new zi(qi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new zi(qi.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Hf(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new to;switch(t.type){case"gapi":var e=t.client;return Ni(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ro(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new zi(qi.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=qf.get(this))&&(Di("ComponentProvider","Removing Datastore"),qf.delete(this),t.terminate()),Promise.resolve();var t},t}(),Wf=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Kf(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Gf=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Kf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,gs(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Wf(this.firestore,null,new ho(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Gf);function $f(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Gi&&(t=t._),Rf("collection","path",e),t instanceof zf)return Vf(n=ao.ct.apply(ao,Object(Ii.g)([e],r))),new Kf(t,null,n);if(!(t instanceof Wf||t instanceof Kf))throw new zi(qi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vf(n=ao.ct.apply(ao,Object(Ii.g)([t.path],r)).child(ao.ct(e))),new Kf(t.firestore,null,n)}function Zf(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Gi&&(t=t._),1===arguments.length&&(e=Vi.t()),Rf("doc","path",e),t instanceof zf)return Lf(n=ao.ct.apply(ao,Object(Ii.g)([e],r))),new Wf(t,null,new ho(n));if(!(t instanceof Wf||t instanceof Kf))throw new zi(qi.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lf(n=t.D_.child(ao.ct.apply(ao,Object(Ii.g)([e],r)))),new Wf(t.firestore,t instanceof Kf?t.v_:null,new ho(n))}function Jf(t,e){return t instanceof Gi&&(t=t._),e instanceof Gi&&(e=e._),(t instanceof Wf||t instanceof Kf)&&(e instanceof Wf||e instanceof Kf)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Yf(t,e){return t instanceof Gi&&(t=t._),e instanceof Gi&&(e=e._),t instanceof Gf&&e instanceof Gf&&t.firestore===e.firestore&&Cs(t.C_,e.C_)&&t.v_===e.v_}var Xf=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new zi(qi.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new zi(qi.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Ui(this.x_,t.x_)||Ui(this.N_,t.N_)},t}(),Qf=/^__.*__$/,td=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new ru(t,this.data,this.zt,e,this.fieldTransforms):new nu(t,this.data,e,this.fieldTransforms)},t}(),ed=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new ru(t,this.data,this.zt,e,this.fieldTransforms)},t}();function nd(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ri()}}var rd=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Ed(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(nd(this.k_)&&Qf.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),id=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||th(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new rd({k_:t,methodName:e,W_:n,path:lo.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function od(t){var e=t.p_(),n=th(t.I_);return new id(t.I_,!!e.ignoreUndefinedProperties,n)}function sd(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);yd("Data must be an object, but it was:",s,r);var u,a,c=vd(r,s);if(o.merge)u=new bo(s.zt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=wd(e,f[h],n);if(!s.contains(d))throw new zi(qi.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Cd(l,d)||l.push(d)}u=new bo(l),a=s.fieldTransforms.filter(function(t){return u.It(t.field)})}else u=null,a=s.fieldTransforms;return new td(new Mo(c),u,a)}var ud=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Pf);function ad(t,e,n){return new rd({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var cd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.z_=function(t){return new Gs(t.path,new Vs)},e.prototype.isEqual=function(t){return t instanceof e},e}(Pf),ld=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ii.c)(e,t),e.prototype.z_=function(t){var e=ad(this,t,!0),n=this.H_.map(function(t){return bd(t,e)}),r=new Us(n);return new Gs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Pf),hd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ii.c)(e,t),e.prototype.z_=function(t){var e=ad(this,t,!0),n=this.H_.map(function(t){return bd(t,e)}),r=new Bs(n);return new Gs(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Pf),fd=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Ii.c)(e,t),e.prototype.z_=function(t){var e=new qs(t.Kt,Ps(t.Kt,this.J_));return new Gs(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Pf);function dd(t,e,n,r){var i=t.G_(1,e,n);yd("Data must be an object, but it was:",i,r);var o=[],s=new Bo;po(r,function(t,r){var u=Od(e,t,n);r instanceof Gi&&(r=r._);var a=i.U_(u);if(r instanceof ud)o.push(u);else{var c=bd(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new bo(o);return new ed(s.yt(),u,i.fieldTransforms)}function pd(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[wd(e,r,n)],a=[i];if(o.length%2!=0)throw new zi(qi.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(wd(e,o[c])),a.push(o[c+1]);for(var l=[],h=new Bo,f=u.length-1;f>=0;--f)if(!Cd(l,u[f])){var d=u[f],p=a[f];p instanceof Gi&&(p=p._);var g=s.U_(d);if(p instanceof ud)l.push(d);else{var b=bd(p,g);null!=b&&(l.push(d),h.set(d,b))}}var v=new bo(l);return new ed(h.yt(),v,s.fieldTransforms)}function gd(t,e,n,r){return void 0===r&&(r=!1),bd(n,t.G_(r?4:3,e))}function bd(t,e){if(t instanceof Gi&&(t=t._),md(t))return yd("Unsupported field value:",e,t),vd(t,e);if(t instanceof Pf)return function(t,e){if(!nd(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=bd(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Gi&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ps(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=oo.fromDate(t);return{timestampValue:Gu(e.Kt,n)}}if(t instanceof oo)return n=new oo(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Gu(e.Kt,n)};if(t instanceof Xf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wi)return{bytesValue:Ku(e.Kt,t.l)};if(t instanceof Wf){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ju(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Uf(t))}(t,e)}function vd(t,e){var n={};return go(t)?e.path&&e.path.length>0&&e.zt.push(e.path):po(t,function(t,r){var i=bd(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function md(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof oo||t instanceof Xf||t instanceof Wi||t instanceof Wf||t instanceof Pf)}function yd(t,e,n){if(!md(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Uf(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function wd(t,e,n){if(e instanceof Gi&&(e=e._),e instanceof kf)return e.d_;if("string"==typeof e)return Od(t,e);throw Ed("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var _d=new RegExp("[~\\*/\\[\\]]");function Od(t,e,n){if(e.search(_d)>=0)throw Ed("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(kf.bind.apply(kf,Object(Ii.g)([void 0],e.split("."))))).d_}catch(r){throw Ed("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Ed(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new zi(qi.INVALID_ARGUMENT,(u+=". ")+t+a)}function Cd(t,e){return t.some(function(t){return t.isEqual(e)})}var Ad=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n=this;return Object(Ii.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new zi(qi.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(Ii.d)(this,function(a){switch(a.label){case 0:return n=Fi(t),r=na(n.Kt)+"/documents",i={documents:e.map(function(t){return Xu(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ni(!!e.found);var n=Qu(t,e.found.name),r=Zu(e.found.updateTime),i=new Mo({mapValue:{fields:e.found.fields}});return new zo(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ni(!!e.missing),Ni(!!e.readTime);var n=Qu(t,e.missing),r=Zu(e.readTime);return new Wo(n,r)}(t,e):Ri()}(n.Kt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Ni(!!e),u.push(e)}),u)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Wo||t instanceof zo?n.sf(t):Ri()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new lu(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ii.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=ho.ft(n);e.mutations.push(new hu(r,e.Gt(r)))}),[4,function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return n=Fi(t),r=na(n.Kt)+"/documents",i={writes:e.map(function(t){return sa(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof zo)e=t.version;else{if(!(t instanceof Wo))throw Ri();e=so.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new zi(qi.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?$s.updateTime(e):$s.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(so.min()))throw new zi(qi.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $s.updateTime(e)}return $s.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),xd=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new eh(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(Ii.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Ii.d)(this,function(r){return t=new Ad(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Co(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!du(e)}return!1},t}(),Id=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Xi.UNAUTHENTICATED,this.clientId=Vi.t(),this._f=function(){},this.N=new Oa,this.credentials.S(function(t){Di("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new zi(qi.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Oa;return this.fs.Tf(function(){return Object(Ii.b)(t,void 0,void 0,function(){var t,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Ra(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Td(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),Di("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(Ii.b)(i,void 0,void 0,function(){return Object(Ii.d)(this,function(t){switch(t.label){case 0:return[4,dl(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function Sd(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,Dd(t)];case 1:return n=i.sent(),Di("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return(n=Fi(t)).fs.Af(),Di("RemoteStore","RemoteStore received new credentials"),r=bh(n),n.Oh.add(3),[4,ch(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,ah(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function Dd(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Di("FirestoreClient","Using default OfflineComponentProvider"),[4,Td(t,new If)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function jd(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Di("FirestoreClient","Using default OnlineComponentProvider"),[4,Sd(t,new Df)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function kd(t){return Dd(t).then(function(t){return t.persistence})}function Pd(t){return Dd(t).then(function(t){return t.Sh})}function Rd(t){return jd(t).then(function(t){return t.gl})}function Nd(t){return jd(t).then(function(t){return t.fa})}function Fd(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return[4,jd(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Zh.bind(null,e.fa),n.Jh=Yh.bind(null,e.fa),n)]}})})}function Ld(t,e,n){var r=this;void 0===n&&(n={});var i=new Oa;return t.fs.ys(function(){return Object(Ii.b)(r,void 0,void 0,function(){var r;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new jf({next:function(o){e.ys(function(){return Fh(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new zi(qi.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new zi(qi.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Mh(gs(n.path),o,{includeMetadataChanges:!0,sl:!0});return Nh(t,s)},[4,Fd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function Vd(t,e,n){var r=this;void 0===n&&(n={});var i=new Oa;return t.fs.ys(function(){return Object(Ii.b)(r,void 0,void 0,function(){var r;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new jf({next:function(n){e.ys(function(){return Fh(t,s)}),n.fromCache&&"server"===r.source?i.reject(new zi(qi.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Mh(n,o,{includeMetadataChanges:!0,sl:!0});return Nh(t,s)},[4,Fd(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var Ud=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new eh(this,"async_queue_retry"),this.vf=function(){var e=Ql();e&&Di("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Ql();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Ql();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e=this;return Object(Ii.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Ta(t=n.sent()))throw t;return Di("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,ji("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Pa.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ri()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t;return Object(Ii.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Md=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Ud,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Ii.c)(e,t),e.prototype.b_=function(){return this.Lf||Hd(this),this.Lf.terminate()},e}(zf);function Bd(t){return t.Lf||Hd(t),t.Lf.df(),t.Lf}function Hd(t){var e=t.p_(),n=function(t,e,n){return new Ji(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new Id(t.m_,t.Mf,n)}function qd(t,e,n){var r=this,i=new Oa;return t.fs.enqueue(function(){return Object(Ii.b)(r,void 0,void 0,function(){var r;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,Td(t,n)];case 1:return o.sent(),[4,Sd(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===qi.FAILED_PRECONDITION||t.code===qi.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function zd(t){if(t.R_||t.P_)throw new zi(qi.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wd=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Io(t)){case 0:return null;case 1:return t.booleanValue;case 2:return yo(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(wo(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw Ri()}},t.prototype.Wf=function(t,e){var n=this,r={};return po(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new Xf(yo(t.latitude),yo(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Oo(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Eo(t));default:return null}},t.prototype.Bf=function(t){var e=mo(t);return new oo(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=ao.ct(t);Ni(_a(n));var r=new Yi(n.get(1),n.get(3)),i=new ho(n.X(5));return r.isEqual(e)||ji("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Gd=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wf(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Kd(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field($d("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Kd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Gd);function $d(t,e){return"string"==typeof e?Od(t,e):e instanceof Gi?e._.d_:e.d_}function Zd(t){if(vs(t)&&0===t.Nt.length)throw new zi(qi.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jd=function(){};function Yd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Xd=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Ii.c)(e,t),e.prototype.Yf=function(t){var e=od(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new zi(qi.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){op(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(ip(r,t,l[c]));u={arrayValue:{values:a}}}else u=ip(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||op(s,o),u=gd(n,"where",s,"in"===o||"not-in"===o);var h=Xo.create(i,o,u);return function(t,e){if(e.xt()){var n=ys(t);if(null!==n&&!n.isEqual(e.field))throw new zi(qi.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ms(t);null!==r&&sp(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new zi(qi.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Gf(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ds(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Jd),Qd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Ii.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new zi(qi.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new zi(qi.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new cs(e,n);return function(t,e){if(null===ms(t)){var n=ys(t);null!==n&&sp(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Gf(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new ds(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Jd),tp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Ii.c)(e,t),e.prototype.Yf=function(t){return new Gf(t.firestore,t.v_,Es(t.C_,this.nd,this.sd))},e}(Jd),ep=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Ii.c)(e,t),e.prototype.Yf=function(t){var e=rp(t,this.type,this.rd,this.od);return new Gf(t.firestore,t.v_,function(t,e){return new ds(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Jd),np=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Ii.c)(e,t),e.prototype.Yf=function(t){var e=rp(t,this.type,this.rd,this.od);return new Gf(t.firestore,t.v_,function(t,e){return new ds(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Jd);function rp(t,e,n,r){if(n[0]instanceof Gi&&(n[0]=n[0]._),n[0]instanceof Gd)return function(t,e,n,r,i){if(!r)throw new zi(qi.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=_s(t);s<u.length;s++){var a=u[s];if(a.field.ht())o.push(Ro(e,r.key));else{var c=r.field(a.field);if(_o(c))throw new zi(qi.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.ot();throw new zi(qi.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new us(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=od(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new zi(qi.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ht()){if("string"!=typeof c)throw new zi(qi.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!ws(t)&&-1!==c.indexOf("/"))throw new zi(qi.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(ao.ct(c));if(!ho.Et(l))throw new zi(qi.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ho(l);u.push(Ro(e,h))}else{var f=gd(n,r,c);u.push(f)}}return new us(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function ip(t,e,n){if(n instanceof Gi&&(n=n._),"string"==typeof n){if(""===n)throw new zi(qi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ws(e)&&-1!==n.indexOf("/"))throw new zi(qi.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(ao.ct(n));if(!ho.Et(r))throw new zi(qi.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ro(t,new ho(r))}if(n instanceof Wf)return Ro(t,n.S_);throw new zi(qi.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Uf(n)+".")}function op(t,e){if(!Array.isArray(t)||0===t.length)throw new zi(qi.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new zi(qi.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function sp(t,e,n){if(!n.isEqual(e))throw new zi(qi.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function up(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function ap(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var cp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ii.c)(e,t),e.prototype.Uf=function(t){return new Wi(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Wf(this.firestore,null,e)},e}(Wd),lp=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),hp=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).zf=e,u.ad=e,u.metadata=o,u}return Object(Ii.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new fp(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field($d("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Gd),fp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(hp),dp=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new lp(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new fp(n.zf,n.Hf,r.key,r,new lp(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new zi(qi.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new fp(t.zf,t.Hf,e.doc.key,e.doc,new lp(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new fp(t.zf,t.Hf,e.doc.key,e.doc,new lp(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:pp(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function pp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ri()}}function gp(t,e){return t instanceof hp&&e instanceof hp?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof dp&&e instanceof dp&&t.zf===e.zf&&Yf(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var bp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ii.c)(e,t),e.prototype.Uf=function(t){return new Wi(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Wf(this.firestore,null,e)},e}(Wd);function vp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Mf(t,Wf);var o=Mf(t.firestore,Md),s=od(o);return e instanceof Gi&&(e=e._),yp(o,[("string"==typeof e||e instanceof kf?pd(s,"updateDoc",t.S_,e,n,r):dd(s,"updateDoc",t.S_,e)).O_(t.S_,$s.exists(!0))])}function mp(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Gi&&(t=t._);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||up(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(up(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Wf)c=Mf(t.firestore,Md),l=gs(t.S_.path),a={next:function(e){i[u]&&i[u](wp(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=Mf(t,Gf);c=Mf(d.firestore,Md),l=d.C_;var p=new bp(c);a={next:function(t){i[u]&&i[u](new dp(c,p,d,t))},error:i[u+1],complete:i[u+2]},Zd(t.C_)}return function(t,e,n,r){var i=this,o=new jf(r),s=new Mh(e,o,n);return t.fs.ys(function(){return Object(Ii.b)(i,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=Nh,[4,Fd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(Ii.b)(i,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=Fh,[4,Fd(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(Bd(c),l,h,a)}function yp(t,e){return function(t,e){var n=this,r=new Oa;return t.fs.ys(function(){return Object(Ii.b)(n,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return n=Xh,[4,Nd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Bd(t),e)}function wp(t,e,n){var r=n.docs.get(e.S_),i=new bp(t);return new hp(t,i,e.S_,r,new lp(n.hasPendingWrites,n.fromCache),e.v_)}var _p=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=od(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Op(t,this.zf),i=ap(r.v_,e,n),o=sd(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,$s.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=Op(t,this.zf);return e instanceof Gi&&(e=e._),o="string"==typeof e||e instanceof kf?pd(this.wd,"WriteBatch.update",s.S_,e,n,r):dd(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.O_(s.S_,$s.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Op(t,this.zf);return this.fd=this.fd.concat(new lu(e.S_,$s.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new zi(qi.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Op(t,e){if(t instanceof Gi&&(t=t._),t.firestore!==e)throw new zi(qi.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Ep=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Ii.c)(e,t),e.prototype.get=function(e){var n=this,r=Op(e,this.zf),i=new bp(this.zf);return t.prototype.get.call(this,e).then(function(t){return new hp(n.zf,i,r.S_,t.Jf,new lp(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=od(t)}return t.prototype.get=function(t){var e=this,n=Op(t,this.zf),r=new cp(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Ri();var i=t[0];if(i instanceof Wo)return new Gd(e.zf,r,n.S_,null,n.v_);if(i instanceof zo)return new Gd(e.zf,r,i.key,i,n.v_);throw Ri()})},t.prototype.set=function(t,e,n){var r=Op(t,this.zf),i=ap(r.v_,e,n),o=sd(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Op(t,this.zf);return e instanceof Gi&&(e=e._),o="string"==typeof e||e instanceof kf?pd(this.wd,"Transaction.update",s.S_,e,n,r):dd(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=Op(t,this.zf);return this.Td.delete(e.S_),this},t}()),Cp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){zd(t=Mf(t,Md));var n=Bd(t),r=t.p_(),i=new Df;return qd(n,i,new Tf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){zd(t=Mf(t,Md));var e=Bd(t),n=t.p_(),r=new Df;return qd(e,r,new Sf(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new zi(qi.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Oa;return t.Mf.Tf(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ii.b)(this,void 0,void 0,function(){return Object(Ii.d)(this,function(e){switch(e.label){case 0:return Aa.jn()?[4,Aa.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(sl(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),Ap=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Yi||(i.md=e),i}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Mf(t,zf)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&ki("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return[4,kd(t)];case 1:return e=r.sent(),[4,Rd(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=Fi(t);return e.Oh.delete(0),ah(e)}(n))]}})})})}(Bd(Mf(this._,Md)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return[4,kd(t)];case 1:return e=r.sent(),[4,Rd(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return(e=Fi(t)).Oh.add(0),[4,ch(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(Bd(Mf(this._,Md)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ff("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Oa;return t.fs.ys(function(){return Object(Ii.b)(e,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return e=of,[4,Nd(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Bd(Mf(this._,Md)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new jf(e);return t.fs.ys(function(){return Object(Ii.b)(n,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fi(t).Wh.add(e),e.next()},[4,Fd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(Ii.b)(n,void 0,void 0,function(){var e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fi(t).Wh.delete(e)},[4,Fd(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Bd(t=Mf(t,Md)),up(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new zi(qi.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Vp(this,$f(this._,t))}catch(t){throw Dp(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Sp(this,Zf(this._,t))}catch(t){throw Dp(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Np(this,function(t,e){if(t=Mf(t,zf),Rf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new zi(qi.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Gf(t,null,function(t){return new ds(ao.at(),t)}(e))}(this._,t))}catch(t){throw Dp(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Oa;return t.fs.ys(function(){return Object(Ii.b)(n,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return jd(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new xd(t.fs,n,e,r).run(),[2]}})})}),r.promise}(Bd(t),function(n){return e(new Ep(t,n))})}(this._,function(n){return t(new Ip(e,n))})},e.prototype.batch=function(){var t=this;return Bd(this._),new Tp(new _p(this._,function(e){return yp(t._,e)}))},e.prototype.loadBundle=function(t){throw new zi(qi.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new zi(qi.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Gi),xp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ii.c)(e,t),e.prototype.Uf=function(t){return new Zi(new Wi(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Sp.Ad(e,this.firestore,null)},e}(Wd),Ip=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new xp(e),r}return Object(Ii.c)(e,t),e.prototype.get=function(t){var e=this,n=Up(t);return this._.get(n).then(function(t){return new Pp(e.zf,new hp(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=Up(t);return n?(Nf("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Up(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Ii.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Up(t);return this._.delete(e),this},e}(Gi),Tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.set=function(t,e,n){var r=Up(t);return n?(Nf("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Up(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Ii.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Up(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Gi),Sp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new xp(e),r}return Object(Ii.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new zi(qi.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Wf(n._,r,new ho(t)))},e.Ad=function(t,n,r){return new e(n,new Wf(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Vp(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Vp(this.firestore,$f(this._,t))}catch(t){throw Dp(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Gi&&(t=t._),t instanceof Wf&&Jf(this._,t)},e.prototype.set=function(t,e){e=Nf("DocumentReference.set",e);try{return function(t,e,n){t=Mf(t,Wf);var r=Mf(t.firestore,Md),i=ap(t.v_,e,n);return yp(r,[sd(od(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,$s.jt())])}(this._,t,e)}catch(t){throw Dp(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?vp(this._,t):vp.apply(void 0,Object(Ii.g)([this._,t,e],n))}catch(t){throw Dp(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return yp(Mf((t=this._).firestore,Md),[new lu(t.S_,$s.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=jp(e),i=kp(e,function(e){return new Pp(t.firestore,new hp(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return mp(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Mf(t,Wf);var e=Mf(t.firestore,Md),n=Bd(e),r=new bp(e);return function(t,e){var n=this,r=new Oa;return t.fs.ys(function(){return Object(Ii.b)(n,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Fi(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof zo?n.resolve(i):i instanceof Wo?n.resolve(null):n.reject(new zi(qi.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Ra(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Pd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new hp(e,r,t.S_,n,new lp(n instanceof zo&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Mf(t,Wf);var e=Mf(t.firestore,Md);return Ld(Bd(e),t.S_,{source:"server"}).then(function(n){return wp(e,t,n)})}(this._):function(t){t=Mf(t,Wf);var e=Mf(t.firestore,Md);return Ld(Bd(e),t.S_).then(function(n){return wp(e,t,n)})}(this._)).then(function(t){return new Pp(e.firestore,new hp(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Gi);function Dp(t,e,n){return t.message=t.message.replace(e,n),t}function jp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!up(r))return r}return{}}function kp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=up(t[0])?t[0]:up(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Pp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Sp(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return gp(this._,t._)},e}(Gi),Rp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Pp),Np=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new xp(e),r}return Object(Ii.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Yd(this._,function(t,e,n){var r=e,i=$d("where",t);return new Xd(i,r,n)}(t,n,r)))}catch(t){throw Dp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Yd(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=$d("orderBy",t);return new Qd(r,n)}(t,n)))}catch(t){throw Dp(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Yd(this._,function(t){return Bf("limit",t),new tp("limit",t,"F")}(t)))}catch(t){throw Dp(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Yd(this._,function(t){return Bf("limitToLast",t),new tp("limitToLast",t,"L")}(t)))}catch(t){throw Dp(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ep("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Dp(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ep("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Dp(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new np("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Dp(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Yd(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new np("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Dp(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Yf(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Mf(t,Gf);var e=Mf(t.firestore,Md),n=Bd(e),r=new bp(e);return function(t,e){var n=this,r=new Oa;return t.fs.ys(function(){return Object(Ii.b)(n,void 0,void 0,function(){var n;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(Ii.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,_l(t,e,!0)];case 1:return u=a.sent(),r=new Wh(e,u.Pc),i=r.dl(u.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Ra(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Pd(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new dp(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Mf(t,Gf);var e=Mf(t.firestore,Md),n=Bd(e),r=new bp(e);return Vd(n,t.C_,{source:"server"}).then(function(n){return new dp(e,r,t,n)})}(this._):function(t){t=Mf(t,Gf);var e=Mf(t.firestore,Md),n=Bd(e),r=new bp(e);return Zd(t.C_),Vd(n,t.C_).then(function(n){return new dp(e,r,t,n)})}(this._)).then(function(t){return new Lp(e.firestore,new dp(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=jp(e),i=kp(e,function(e){return new Lp(t.firestore,new dp(t.firestore._,t.Hf,t._,e.ud))});return mp(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Gi),Fp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Rp(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Gi),Lp=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Np(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Rp(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new Fp(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Rp(n.zf,r))})},e.prototype.isEqual=function(t){return gp(this._,t._)},e}(Gi),Vp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Ii.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Sp(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Sp(this.firestore,void 0===t?Zf(this._):Zf(this._,t))}catch(t){throw Dp(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Mf(t.firestore,Md),r=Zf(t),i=ap(t.v_,e);return yp(n,[sd(od(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,$s.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new Sp(e.firestore,t)})},e.prototype.isEqual=function(t){return Jf(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(Np);function Up(t){return t instanceof Gi&&(t=t._),Mf(t,Wf)}var Mp=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(kf.bind.apply(kf,Object(Ii.g)([void 0],e))))||this}return Object(Ii.c)(e,t),e.documentId=function(){return new e(lo.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Gi&&(t=t._),t instanceof kf&&this._.d_.isEqual(t.d_)},e}(Gi),Bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ii.c)(e,t),e.serverTimestamp=function(){var t=new cd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ud("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new ld("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new hd("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new fd("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Gi);!function(){function t(){this.Pd={},this.yd=new Oa,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Hp,qp=n("/6Yf"),zp={Firestore:Ap,GeoPoint:Xf,Timestamp:oo,Blob:Zi,Transaction:Ip,WriteBatch:Tp,DocumentReference:Sp,DocumentSnapshot:Pp,Query:Np,QueryDocumentSnapshot:Rp,QuerySnapshot:Lp,CollectionReference:Vp,FieldPath:Mp,FieldValue:Bp,setLogLevel:function(t){Ti.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new qp.a("firestore",function(t){return function(t,e){return new Ap(t,new Md(t,e),new Cp)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},zp)))})(Hp=Ot.a),Hp.registerVersion("@firebase/firestore","2.1.2");var Wp=n("XNiG"),Gp=n("VRyK"),Kp=n("zx2A");function $p(t,e){return"function"==typeof e?n=>n.pipe($p((n,r)=>Object(s.a)(t(n,r)).pipe(Object(v.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Zp(t))}class Zp{constructor(t){this.project=t}call(t,e){return e.subscribe(new Jp(t,this.project))}}class Jp extends Kp.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Kp.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Kp.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var Yp=n("qgXg"),Xp=n("quSY"),Qp=n("9ppp"),tg=n("Ylt2");class eg extends Wp.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new ng(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Qp.a;if(this.isStopped||this.hasError?o=Xp.a.EMPTY:(this.observers.push(t),o=new tg.a(this,t)),r&&t.add(t=new x.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Yp.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class ng{constructor(t,e){this.time=t,this.value=e}}function rg(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new eg(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const ig=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),og=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var sg=n("EY2u");function ug(t){return e=>0===t?Object(sg.b)():e.lift(new ag(t))}class ag{constructor(t){if(this.total=t,this.total<0)throw new og}call(t,e){return e.subscribe(new cg(t,this.total))}}class cg extends d.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function lg(t=null){return e=>e.lift(new hg(t))}class hg{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new fg(t,this.defaultValue))}}class fg extends d.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function dg(t=bg){return e=>e.lift(new pg(t))}class pg{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new gg(t,this.errorFactory))}}class gg extends d.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Hp){t=Hp}this.destination.error(t)}}}function bg(){return new ig}var vg=n("SpAZ");function mg(t,e){const n=arguments.length>=2;return r=>r.pipe(t?E((e,n)=>t(e,n,r)):vg.a,ug(1),n?lg(e):dg(()=>new ig))}function yg(t,e){return e?$p(()=>t,e):$p(()=>t)}var wg=n("tf+s");const _g=new r.q("angularfire2.auth.use-emulator"),Og=new r.q("angularfire2.auth.settings"),Eg=new r.q("angularfire2.auth.tenant-id"),Cg=new r.q("angularfire2.auth.langugage-code"),Ag=new r.q("angularfire2.auth.use-device-language"),xg=new r.q("angularfire.auth.persistence");let Ig=(()=>{class t{constructor(t,e,r,i,a,c,l,h,f,d){const p=new I.d(i),g=Object(I.h)(p),b=new Wp.a,m=Object(u.a)(void 0).pipe(Object(x.b)(p.outsideAngular),$p(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(v.a)(()=>Object(I.g)(t,i,e)),Object(v.a)(t=>i.runOutsideAngular(()=>{const e=a,n=c;return Object(I.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),l&&(r.tenantId=l),r.languageCode=h,f&&r.useDeviceLanguage(),n&&(r.settings=n),d&&r.setPersistence(d),r},[e,l,h,f,n,d])})),rg({bufferSize:1,refCount:!1}));if(vt(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(u.a)(null);else{m.pipe(mg()).subscribe();const t=m.pipe($p(t=>t.getRedirectResult().then(t=>t,()=>null)),g,rg({bufferSize:1,refCount:!1})),e=t=>new o.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=m.pipe($p(t=>e(t.onAuthStateChanged.bind(t)))),r=m.pipe($p(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(yg(n),Object(wg.a)(p.outsideAngular),Object(x.b)(p.insideAngular)),this.user=t.pipe(yg(r),Object(wg.a)(p.outsideAngular),Object(x.b)(p.insideAngular)),this.idToken=this.user.pipe($p(t=>t?Object(s.a)(t.getIdToken()):Object(u.a)(null))),this.idTokenResult=this.user.pipe($p(t=>t?Object(s.a)(t.getIdTokenResult()):Object(u.a)(null))),this.credential=Object(Gp.a)(t,b,this.authState.pipe(E(t=>!t))).pipe(Object(v.a)(t=>(null==t?void 0:t.user)?t:null),Object(wg.a)(p.outsideAngular),Object(x.b)(p.insideAngular))}return Object(I.i)(this,m,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>b.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(I.c),r.Wb(I.b,8),r.Wb(r.B),r.Wb(r.z),r.Wb(_g,8),r.Wb(Og,8),r.Wb(Eg,8),r.Wb(Cg,8),r.Wb(Ag,8),r.Wb(xg,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(I.c),Object(r.Wb)(I.b,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(_g,8),Object(r.Wb)(Og,8),Object(r.Wb)(Eg,8),Object(r.Wb)(Cg,8),Object(r.Wb)(Ag,8),Object(r.Wb)(xg,8))},token:t,providedIn:"any"}),t})();Object(I.e)(Ig,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Tg=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Ig]}),t})();function Sg(t,e){return function(t,e=i.b){return new o.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function Dg(t,e){return Sg(t,e).pipe(Object(v.a)(t=>({payload:t,type:"query"})))}function jg(t,e){return Dg(t,e).pipe(f(void 0),p(),Object(v.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function kg(t,e,n){return jg(t,n).pipe(m((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return Pg(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return Pg(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Pg(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new _(void 0,void 0)),Object(v.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function Pg(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function Rg(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class Ng{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=jg(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(v.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(f(void 0),p(),E(([t,e])=>e.length>0||!t),Object(v.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(m((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Rg(t);return kg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Dg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(v.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(s.a)(this.query.get(t)).pipe(Object(x.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Fg(this.ref.doc(t),this.afs)}}class Fg{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Hg(n,e);return new Ng(r,i,this.afs)}snapshotChanges(){return Sg(this.ref,this.afs.schedulers.outsideAngular).pipe(f(void 0),p(),Object(v.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(v.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(s.a)(this.ref.get(t)).pipe(Object(x.b)(this.afs.schedulers.insideAngular))}}class Lg{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?jg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(v.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),E(t=>t.length>0),this.afs.keepUnstableUntilFirst):jg(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(m((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=Rg(t);return kg(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Dg(this.query,this.afs.schedulers.outsideAngular).pipe(Object(v.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(s.a)(this.query.get(t)).pipe(Object(x.b)(this.afs.schedulers.insideAngular))}}const Vg=new r.q("angularfire2.enableFirestorePersistence"),Ug=new r.q("angularfire2.firestore.persistenceSettings"),Mg=new r.q("angularfire2.firestore.settings"),Bg=new r.q("angularfire2.firestore.use-emulator");function Hg(t,e=(t=>t)){return{query:e(t),ref:t}}let qg=(()=>{class t{constructor(t,e,n,r,i,o,a,c,l){this.schedulers=new I.d(o),this.keepUnstableUntilFirst=Object(I.h)(this.schedulers);const h=Object(I.g)(t,o,e);!_t.a.auth&&l&&Object(I.j)();const f=c;[this.firestore,this.persistenceEnabled$]=Object(I.f)(h.name+".firestore","AngularFirestore",h,()=>{const t=o.runOutsideAngular(()=>h.firestore());if(r&&t.settings(r),f&&t.useEmulator(...f),n&&!vt(i)){const e=()=>{try{return Object(s.a)(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(Hp){return"undefined"!=typeof console&&console.warn(Hp),Object(u.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(u.a)(!1)]},[r,f,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Hg(n,e),o=this.schedulers.ngZone.run(()=>r);return new Ng(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new Lg(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Fg(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(I.c),r.Wb(I.b,8),r.Wb(Vg,8),r.Wb(Mg,8),r.Wb(r.B),r.Wb(r.z),r.Wb(Ug,8),r.Wb(Bg,8),r.Wb(_g,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(I.c),Object(r.Wb)(I.b,8),Object(r.Wb)(Vg,8),Object(r.Wb)(Mg,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(Ug,8),Object(r.Wb)(Bg,8),Object(r.Wb)(_g,8))},token:t,providedIn:"any"}),t})(),zg=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:Vg,useValue:!0},{provide:Ug,useValue:e}]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[qg]}),t})();class Wg extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Wg,T||(T=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Kg||(Kg=document.querySelector("base"),Kg)?Kg.getAttribute("href"):null;return null==e?null:(n=e,Gg||(Gg=document.createElement("a")),Gg.setAttribute("href",n),"/"===Gg.pathname.charAt(0)?Gg.pathname:"/"+Gg.pathname);var n}resetBaseElement(){Kg=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Gg,Kg=null;const $g=new r.q("TRANSITION_ID"),Zg=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=S();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[$g,D,r.r],multi:!0}];class Jg{static init(){Object(r.W)(new Jg)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?S().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Yg=new r.q("EventManagerPlugins");let Xg=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Yg),r.Wb(r.z))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class Qg{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=S().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let tb=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),eb=(()=>{class t extends tb{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>S().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(D))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const nb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rb=/%COMP%/g;function ib(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ib(t,i,n):(i=i.replace(rb,t),n.push(i))}return n}function ob(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let sb=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ub(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ab(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new cb(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ib(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Xg),r.Wb(eb),r.Wb(r.c))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();class ub{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(nb[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=nb[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=nb[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ob(n)):this.eventManager.addEventListener(t,e,ob(n))}}class ab extends ub{constructor(t,e,n,r){super(t),this.component=n;const i=ib(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(rb,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(rb,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class cb extends ub{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ib(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let lb=(()=>{class t extends Qg{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(D))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const hb=["alt","control","meta","shift"],fb={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},db={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pb={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let gb=(()=>{class t extends Qg{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>S().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(hb.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&db.hasOwnProperty(e)&&(e=db[e]))}return fb[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),hb.forEach(r=>{r!=n&&(0,pb[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(D))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const bb=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){Wg.makeCurrent(),Jg.init()},multi:!0},{provide:D,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],vb=Object(r.R)(r.V,"browser",bb),mb=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:Yg,useClass:lb,multi:!0,deps:[D,r.z,r.B]},{provide:Yg,useClass:gb,multi:!0,deps:[D]},[],{provide:sb,useClass:sb,deps:[Xg,eb,r.c]},{provide:r.E,useExisting:sb},{provide:tb,useExisting:eb},{provide:eb,useClass:eb,deps:[D]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:Xg,useClass:Xg,deps:[Yg,r.z]},[]];let yb=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:$g,useExisting:r.c},Zg]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Wb(t,12))},providers:mb,imports:[bt,r.f]}),t})();"undefined"!=typeof window&&window;var wb=n("DH7j"),_b=n("XoHu");function Ob(t,e){return new o.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,u=0;for(let a=0;a<r;a++){const c=Object(s.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,u++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&l||(u===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Eb=new r.q("NgValueAccessor"),Cb={provide:Eb,useExisting:Object(r.T)(()=>Ab),multi:!0};let Ab=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([Cb])]}),t})();const xb={provide:Eb,useExisting:Object(r.T)(()=>Tb),multi:!0},Ib=new r.q("CompositionEventMode");let Tb=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=S()?S().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(Ib,8))},t.\u0275dir=r.Fb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Zb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([xb])]}),t})();function Sb(t){return null==t||0===t.length}function Db(t){return null!=t&&"number"==typeof t.length}const jb=new r.q("NgValidators"),kb=new r.q("NgAsyncValidators"),Pb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rb{static min(t){return e=>{if(Sb(e.value)||Sb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Sb(e.value)||Sb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Sb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Sb(t.value)||Pb.test(t.value)?null:{email:!0}}static minLength(t){return e=>Sb(e.value)||!Db(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Db(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Rb.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Sb(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Nb);return 0==e.length?null:function(t){return Lb(Vb(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Nb);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(wb.a)(e))return Ob(e,null);if(Object(_b.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ob(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ob(t=1===t.length&&Object(wb.a)(t[0])?t[0]:t,null).pipe(Object(v.a)(t=>e(...t)))}return Ob(t,null)}(Vb(t,e).map(Fb)).pipe(Object(v.a)(Lb))}}}function Nb(t){return null!=t}function Fb(t){const e=Object(r.qb)(t)?Object(s.a)(t):t;return Object(r.pb)(e),e}function Lb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Vb(t,e){return e.map(e=>e(t))}function Ub(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Mb(t){return null!=t?Rb.compose(Ub(t)):null}function Bb(t){return null!=t?Rb.composeAsync(Ub(t)):null}function Hb(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let qb=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Mb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Bb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t}),t})(),zb=(()=>{class t extends qb{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Wb(e||t)},t.\u0275dir=r.Fb({type:t,features:[r.vb]}),t})();const Wb=r.Rb(zb);class Gb extends qb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kb{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let $b=(()=>{class t extends Kb{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Gb,2))},t.\u0275dir=r.Fb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),Zb=(()=>{class t extends Kb{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(zb,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Cb("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const Jb={provide:Eb,useExisting:Object(r.T)(()=>Yb),multi:!0};let Yb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([Jb])]}),t})();const Xb={provide:Eb,useExisting:Object(r.T)(()=>tv),multi:!0};let Qb=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),tv=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Gb),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l),r.Kb(Qb),r.Kb(r.r))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Xb])]}),t})();const ev={provide:Eb,useExisting:Object(r.T)(()=>nv),multi:!0};let nv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([ev])]}),t})();const rv={provide:Eb,useExisting:Object(r.T)(()=>iv),multi:!0};let iv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([rv])]}),t})();const ov={provide:Eb,useExisting:Object(r.T)(()=>sv),multi:!0};let sv=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Zb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([ov])]}),t})();function uv(t,e){cv(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&lv(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&lv(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function av(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function cv(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Hb(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Hb(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();av(e._rawValidators,n),av(e._rawAsyncValidators,n)}}function lv(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const hv=[Ab,nv,Yb,iv,sv,tv];function fv(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const dv="VALID",pv="INVALID",gv="PENDING",bv="DISABLED";function vv(t){return(_v(t)?t.validators:t)||null}function mv(t){return Array.isArray(t)?Mb(t):t||null}function yv(t,e){return(_v(e)?e.asyncValidators:t)||null}function wv(t){return Array.isArray(t)?Bb(t):t||null}function _v(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ov{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=mv(this._rawValidators),this._composedAsyncValidatorFn=wv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===dv}get invalid(){return this.status===pv}get pending(){return this.status==gv}get disabled(){return this.status===bv}get enabled(){return this.status!==bv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=mv(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=wv(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=gv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bv,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=dv,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==dv&&this.status!==gv||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bv:dv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=gv,this._hasOwnPendingAsyncValidator=!0;const e=Fb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Cv?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Av&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?bv:this.errors?pv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gv)?gv:this._anyControlsHaveStatus(pv)?pv:dv}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){_v(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ev extends Ov{constructor(t=null,e,n){super(vv(e),yv(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Cv extends Ov{constructor(t,e,n){super(vv(e),yv(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ev?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Av extends Ov{constructor(t,e,n){super(vv(e),yv(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ev?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const xv={provide:zb,useExisting:Object(r.T)(()=>Tv)},Iv=(()=>Promise.resolve(null))();let Tv=(()=>{class t extends zb{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Cv({},Mb(t),Bb(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Iv.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),uv(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Iv.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),fv(this._directives,t)})}addFormGroup(t){Iv.then(()=>{const e=this._findContainer(t.path),n=new Cv({});(function(t,e){cv(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Iv.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Iv.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(jb,10),r.Kb(kb,10))},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Zb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([xv]),r.vb]}),t})();const Sv={provide:Gb,useExisting:Object(r.T)(()=>jv)},Dv=(()=>Promise.resolve(null))();let jv=(()=>{class t extends Gb{constructor(t,e,n,i){super(),this.control=new Ev,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Tb?n=t:(e=t,hv.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){uv(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Dv.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Dv.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(zb,9),r.Kb(jb,10),r.Kb(kb,10),r.Kb(Eb,10))},t.\u0275dir=r.Fb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([Sv]),r.vb,r.wb]}),t})(),kv=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Pv={provide:jb,useExisting:Object(r.T)(()=>Rv),multi:!0};let Rv=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Rb.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},inputs:{required:"required"},features:[r.xb([Pv])]}),t})();const Nv={provide:jb,useExisting:Object(r.T)(()=>Fv),multi:!0};let Fv=(()=>{class t{constructor(){this._enabled=!1}set email(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}validate(t){return this._enabled?Rb.email(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[r.xb([Nv])]}),t})();const Lv={provide:jb,useExisting:Object(r.T)(()=>Vv),multi:!0};let Vv=(()=>{class t{constructor(){this._validator=Rb.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Rb.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r.xb([Lv]),r.wb]}),t})(),Uv=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),Mv=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Qb],imports:[Uv]}),t})();class Bv{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Hv(t,this.dueTime,this.scheduler))}}class Hv extends d.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(qv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function qv(t){t.debouncedNext()}var zv="firebasestorage.googleapis.com",Wv=function(t){function e(n,r){var i=t.call(this,Zv(n),"Firebase Storage: "+r+" ("+Zv(n)+")")||this;return i.customData={serverResponse:null},Object.setPrototypeOf(i,e.prototype),i}return Object(Ii.c)(e,t),e.prototype.codeEquals=function(t){return Zv(t)===this.code},Object.defineProperty(e.prototype,"message",{get:function(){return this.customData.serverResponse?this.message+"\n"+this.customData.serverResponse:this.message},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t},enumerable:!1,configurable:!0}),e}(Ct.c),Gv="canceled",Kv="invalid-argument",$v="unsupported-environment";function Zv(t){return"storage/"+t}function Jv(){return new Wv("unknown","An unknown error occurred, please check the error payload for server response.")}function Yv(){return new Wv(Gv,"User canceled the upload/download.")}function Xv(){return new Wv("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Qv(t){return new Wv(Kv,t)}function tm(){return new Wv("app-deleted","The Firebase app was deleted.")}function em(t){return new Wv("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function nm(t,e){return new Wv("invalid-format","String does not match format '"+t+"': "+e)}function rm(t){throw new Wv("internal-error","Internal error: "+t)}var im={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},om=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function sm(t,e){switch(t){case im.RAW:return new om(um(e));case im.BASE64:case im.BASE64URL:return new om(am(t,e));case im.DATA_URL:return new om((n=new cm(e)).base64?am(im.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(Hp){throw nm(im.DATA_URL,"Malformed data URL.")}return um(e)}(n.rest),new cm(e).contentType)}var n;throw Jv()}function um(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function am(t,e){switch(t){case im.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw nm(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case im.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw nm(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(Hp){throw nm(t,"Invalid character found")}for(var u=new Uint8Array(s.length),a=0;a<s.length;a++)u[a]=s.charCodeAt(a);return u}var cm=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw nm(im.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),lm="running",hm="pausing",fm="paused",dm="success",pm="canceling",gm="canceled",bm="error",vm={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function mm(t){switch(t){case lm:case hm:case pm:return vm.RUNNING;case fm:return vm.PAUSED;case dm:return vm.SUCCESS;case gm:return vm.CANCELED;case bm:default:return vm.ERROR}}var ym=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),wm=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=ym.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=ym.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=ym.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw rm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw rm("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw rm("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Hp){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw rm("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),_m=function(){function t(){}return t.prototype.createXhrIo=function(){return new wm},t}();function Om(t){return"string"==typeof t||t instanceof String}function Em(t){return Cm()&&t instanceof Blob}function Cm(){return"undefined"!=typeof Blob}function Am(t,e,n,r){if(r<e)throw new Wv(Kv,"Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw new Wv(Kv,"Invalid value for '"+t+"'. Expected "+n+" or less.")}function xm(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Im(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=xm();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Cm())return new Blob(t);throw new Wv($v,"This browser doesn't seem to support creating Blobs")}var Tm=function(){function t(t,e){var n=0,r="";Em(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Em(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Cm()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(Im.apply(null,r))}var i=e.map(function(t){return Om(t)?sm(im.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),u=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[u++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Sm=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(Hp){return new t(e,"")}if(""===n.path)return n;throw new Wv("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null,r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(t){t.path_=decodeURIComponent(t.path)}for(var s=zv.replace(/[.]/g,"\\."),u=[{regex:i,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+r+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/"+r+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:o}],a=0;a<u.length;a++){var c=u[a],l=c.regex.exec(e);if(l){var h=l[c.indices.path];h||(h=""),n=new t(l[c.indices.bucket],h),c.postModify(n);break}}if(null==n)throw function(t){return new Wv("invalid-url","Invalid URL '"+t+"'.")}(e);return n},t}();function Dm(t){var e,n;try{e=JSON.parse(t)}catch(Hp){return null}return"object"!=typeof(n=e)||Array.isArray(n)?null:e}function jm(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function km(t){return"https://"+zv+"/v0"+t}function Pm(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}function Rm(t,e){return e}var Nm=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Rm}}(),Fm=null;function Lm(){if(Fm)return Fm;var t=[];t.push(new Nm("bucket")),t.push(new Nm("generation")),t.push(new Nm("metageneration")),t.push(new Nm("name","fullPath",!0));var e=new Nm("name");e.xform=function(t,e){return function(t){return!Om(t)||t.length<2?t:jm(t)}(e)},t.push(e);var n=new Nm("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new Nm("timeCreated")),t.push(new Nm("updated")),t.push(new Nm("md5Hash",null,!0)),t.push(new Nm("cacheControl",null,!0)),t.push(new Nm("contentDisposition",null,!0)),t.push(new Nm("contentEncoding",null,!0)),t.push(new Nm("contentLanguage",null,!0)),t.push(new Nm("contentType",null,!0)),t.push(new Nm("metadata","customMetadata",!0)),Fm=t}function Vm(t,e,n){var r=Dm(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new Sm(t.bucket,t.fullPath);return e.makeStorageReference(n)}})}(r,t),r}(t,r,n)}function Um(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Mm=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Bm(t){if(!t)throw Jv()}function Hm(t,e){return function(n,r){var i=Vm(t,r,e);return Bm(null!==i),i}}function qm(t){return function(e,n){var r;return(r=401===e.getStatus()?new Wv("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Wv("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Wv("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function zm(t){var e=qm(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Wv("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Wm(t,e,n){var r=km(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Mm(r,"GET",Hm(t,n),i);return o.errorHandler=zm(e),o}function Gm(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var Km=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function $m(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(Hp){Bm(!1)}return Bm(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Zm=262144,Jm=function(){return function(t,e,n){if("function"==typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}(),Ym=function(){return function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Xm(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Qm=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Lm(),this._resumable=this._shouldDoResumable(this._blob),this._state=lm,this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t.codeEquals(Gv)?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition(bm))},this._metadataErrorHandler=function(t){r._request=void 0,t.codeEquals(Gv)?r.completeTransitions_():(r._error=t,r._transition(bm))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){this._state===lm&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;this._ref.storage.getAuthToken().then(function(n){switch(e._state){case lm:t(n);break;case pm:e._transition(gm);break;case hm:e._transition(fm)}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Gm(e,r,i),u={name:s.fullPath},a=km(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Um(s,n),h=new Mm(a,"POST",function(t){var e;$m(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(Hp){Bm(!1)}return Bm(Om(e)),e},t.maxUploadRetryTime);return h.urlParams=u,h.headers=c,h.body=l,h.errorHandler=qm(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n){var r=function(t,e,n,r){var i=new Mm(n,"POST",function(t){var e=$m(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Hp){Bm(!1)}n||Bm(!1);var i=Number(n);return Bm(!isNaN(i)),new Km(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=qm(e),i}(t._ref.storage,t._ref._location,e,t._blob),i=t._ref.storage.makeRequest(r,n);t._request=i,i.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=Zm*this._chunkMultiplier,n=new Km(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i){var o;try{o=function(t,e,n,r,i,o,s,u){var a=new Km(0,0);if(s?(a.current=s.current,a.total=s.total):(a.current=0,a.total=r.size()),r.size()!==a.total)throw new Wv("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=a.total-a.current,l=c;i>0&&(l=Math.min(l,i));var h=a.current,f={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":a.current},d=r.slice(h,h+l);if(null===d)throw Xv();var p=new Mm(n,"POST",function(t,n){var i,s=$m(t,["active","final"]),u=a.current+l,c=r.size();return i="final"===s?Hm(e,o)(t,n):null,new Km(u,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=f,p.body=d.uploadData(),p.progressCallback=u||null,p.errorHandler=qm(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(Hp){return t._error=Hp,void t._transition(bm)}var s=t._ref.storage.makeRequest(o,i);t._request=s,s.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition(dm)):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){Zm*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e){var n=Wm(t._ref.storage,t._ref._location,t._mappings),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition(dm)},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},u=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+u;var a=Gm(e,r,i),c=Um(a,n),l=Tm.getBlob("--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+u+"\r\nContent-Type: "+a.contentType+"\r\n\r\n",r,"\r\n--"+u+"--");if(null===l)throw Xv();var h={name:a.fullPath},f=km(o),d=t.maxUploadRetryTime,p=new Mm(f,"POST",Hm(t,n),d);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=qm(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),r=t._ref.storage.makeRequest(n,e);t._request=r,r.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition(dm)},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case pm:case hm:this._state=t,void 0!==this._request&&this._request.cancel();break;case lm:var e=this._state===fm;this._state=t,e&&(this._notifyObservers(),this._start());break;case fm:this._state=t,this._notifyObservers();break;case gm:this._error=Yv(),this._state=t,this._notifyObservers();break;case bm:case dm:this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case hm:this._transition(fm);break;case pm:this._transition(gm);break;case lm:this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=mm(this._state);return new Ym(this._transferred,this._blob.size(),t,this._metadata,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Jm(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(mm(this._state)){case vm.SUCCESS:Xm(this._resolve.bind(null,this.snapshot))();break;case vm.CANCELED:case vm.ERROR:Xm(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(mm(this._state)){case vm.RUNNING:case vm.PAUSED:t.next&&Xm(t.next.bind(t,this.snapshot))();break;case vm.SUCCESS:t.complete&&Xm(t.complete.bind(t))();break;case vm.CANCELED:case vm.ERROR:t.error&&Xm(t.error.bind(t,this._error))();break;default:t.error&&Xm(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t=this._state===fm||this._state===hm;return t&&this._transition(lm),t},t.prototype.pause=function(){var t=this._state===lm;return t&&this._transition(hm),t},t.prototype.cancel=function(){var t=this._state===lm||this._state===hm;return t&&this._transition(pm),t},t}(),ty=function(){function t(t,e){this._service=t,this._location=e instanceof Sm?e:Sm.makeFromUrl(e)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype.newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Sm(this._location.bucket,"");return this.newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return jm(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new Sm(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw em(t)},t}();function ey(t){var e={prefixes:[],items:[]};return ny(t,e).then(function(){return e})}function ny(t,e,n){return Object(Ii.b)(this,void 0,void 0,function(){var r,i,o;return Object(Ii.d)(this,function(s){switch(s.label){case 0:return[4,ry(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,ny(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function ry(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r,i;return Object(Ii.d)(this,function(o){switch(o.label){case 0:return null!=e&&"number"==typeof e.maxResults&&Am("options.maxResults",1,1e3,e.maxResults),[4,t.storage.getAuthToken()];case 1:return n=o.sent(),i=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=km(e.bucketOnlyServerUrl()),u=t.maxOperationRetryTime,a=new Mm(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=Dm(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),u=t.makeStorageReference(new Sm(e,s));r.prefixes.push(u)}if(n.items)for(var a=0,c=n.items;a<c.length;a++)u=t.makeStorageReference(new Sm(e,c[a].name)),r.items.push(u);return r}(t,e,r)}(t,e,r);return Bm(null!==i),i}}(t,e.bucket),u);return a.urlParams=o,a.errorHandler=qm(e),a}(t.storage,t._location,"/",(r=e||{}).pageToken,r.maxResults),[2,t.storage.makeRequest(i,n).getPromise()]}})})}function iy(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new Sm(t._location.bucket,n);return new ty(t.storage,r)}var oy=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),sy=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate),this._snapshot=new oy(this._delegate.snapshot,this,this._ref)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return this._snapshot},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new oy(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new oy(t,i,i._ref))}:{next:e.next?function(t){return e.next(new oy(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),uy=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new ay(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new ay(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),ay=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(iy(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new sy(function(t,e,n){return void 0===n&&(n=null),t._throwIfRoot("uploadBytesResumable"),new Qm(t,new Tm(e),n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){return void 0===e&&(e=im.RAW),this._throwIfRoot("putString"),new sy(function(t,e,n,r){void 0===n&&(n=im.RAW),t._throwIfRoot("putString");var i=sm(n,e),o=Object(Ii.a)({},r);return null==o.contentType&&null!=i.contentType&&(o.contentType=i.contentType),new Qm(t,new Tm(i.data,!0),o)}(this._delegate,t,e,n),this)},t.prototype.listAll=function(){var t=this;return ey(this._delegate).then(function(e){return new uy(e,t.storage)})},t.prototype.list=function(t){var e=this;return ry(this._delegate,t).then(function(t){return new uy(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getMetadata"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=Wm(t.storage,t._location,Lm()),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return Object(Ii.b)(this,void 0,void 0,function(){var n,r;return Object(Ii.d)(this,function(i){switch(i.label){case 0:return t._throwIfRoot("updateMetadata"),[4,t.storage.getAuthToken()];case 1:return n=i.sent(),r=function(t,e,n,r){var i=km(e.fullServerUrl()),o=Um(n,r),s=t.maxOperationRetryTime,u=new Mm(i,"PATCH",Hm(t,r),s);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=o,u.errorHandler=zm(e),u}(t.storage,t._location,e,Lm()),[2,t.storage.makeRequest(r,n).getPromise()]}})})}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("getDownloadURL"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e,n){var r=km(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Mm(r,"GET",function(t,e){return function(n,r){var i=Vm(t,r,e);return Bm(null!==i),function(t,e){var n=Dm(e);if(null===n)return null;if(!Om(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.fullPath;return km("/b/"+i(t.bucket)+"/o/"+i(n))+Pm({alt:"media",token:e})})[0]}(i,r)}}(t,n),i);return o.errorHandler=zm(e),o}(t.storage,t._location,Lm()),[2,t.storage.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw new Wv("no-download-url","The given file does not have any download URLs.");return t})]}})})}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return Object(Ii.b)(this,void 0,void 0,function(){var e,n;return Object(Ii.d)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("deleteObject"),[4,t.storage.getAuthToken()];case 1:return e=r.sent(),n=function(t,e){var n=km(e.fullServerUrl()),r=new Mm(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=zm(e),r}(t.storage,t._location),[2,t.storage.makeRequest(n,e).getPromise()]}})})}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw em(t)},t}(),cy=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}(),ly=function(){function t(t,e,n,r,i,o,s,u,a,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=u,this.progressCallback_=c,this.timeout_=a,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var u=t.callback_(s,s.getResponseText());void 0!==u?i(u):i()}catch(Hp){o(Hp)}else null!==s?((r=Jv()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?tm():Yv():new Wv("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new hy(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,u=0;function a(){return 2===u}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new hy(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===ym.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new hy(s,n))}else{var u=n.getErrorCode()===ym.ABORT;e(!1,new hy(!1,null,u))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(f,a())},e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,Object(Ii.g)([null,t],e));else{var r;a()||s?l.call.apply(l,Object(Ii.g)([null,t],e)):(i<64&&(i*=2),1===u?(u=2,r=0):r=1e3*(i+Math.random()),h(r))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(u=2),clearTimeout(o),h(0)):t||(u=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),hy=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function fy(t){return/^[A-Za-z]+:\/\//.test(t)}function dy(t,e){if(t instanceof vy){var n=t;if(null==n._bucket)throw new Wv("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new ty(n,n._bucket);return null!=e?dy(r,e):r}if(void 0!==e){if(e.includes(".."))throw Qv('`path` param cannot contain ".."');return iy(t,e)}return t}function py(t,e){if(e&&fy(e)){if(t instanceof vy)return new ty(t,e);throw Qv("To use ref(service, url), the first argument must be a Storage instance.")}return dy(t,e)}var gy,by,vy=function(){function t(t,e,n,r){var i,o;this.app=t,this._authProvider=e,this._pool=n,this._url=r,this._bucket=null,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Sm.makeFromBucketSpec(r):null==(o=null==(i=this.app.options)?void 0:i.storageBucket)?null:Sm.makeFromBucketSpec(o)}return Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){Am("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){Am("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype.getAuthToken=function(){return Object(Ii.b)(this,void 0,void 0,function(){var t,e;return Object(Ii.d)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype.makeStorageReference=function(t){return new ty(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this._deleted)return new cy(tm());var r=function(t,e,n,r){var i=Pm(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){t["X-Firebase-Storage-Version"]="webjs/"+(void 0!==Ot.a?Ot.a.SDK_VERSION:"AppManager")}(s),new ly(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}(t,this._appId,e,this._pool);return this._requests.add(r),r.getPromise().then(function(){return n._requests.delete(r)},function(){return n._requests.delete(r)}),r},t}(),my=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(fy(t))throw Qv("ref() expected a child path but got a URL, use refFromURL instead.");return new ay(py(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!fy(t))throw Qv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Sm.makeFromUrl(t)}catch(Hp){throw Qv("refFromUrl() expected a valid full URL but got an invalid one.")}return new ay(py(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t}();function yy(t){const e=function(t){return new o.a(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=i.a){return n=>n.lift(new Bv(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe(Object(v.a)(t=>t.bytesTransferred/t.totalBytes*100))}}function wy(t,e,n){return{getDownloadURL:()=>Object(u.a)(void 0).pipe(Object(x.b)(e.outsideAngular),$p(()=>t.getDownloadURL()),n),getMetadata:()=>Object(u.a)(void 0).pipe(Object(x.b)(e.outsideAngular),$p(()=>t.getMetadata()),n),delete:()=>Object(s.a)(t.delete()),child:r=>wy(t.child(r),e,n),updateMetadata:e=>Object(s.a)(t.updateMetadata(e)),put:(e,n)=>yy(t.put(e,n)),putString:(e,n,r)=>yy(t.putString(e,n,r)),listAll:()=>Object(s.a)(t.listAll())}}by={TaskState:vm,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:im,Storage:vy,Reference:ay},(gy=Ot.a).INTERNAL.registerComponent(new qp.a("storage",function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new my(n,new vy(n,r,new _m,e))},"PUBLIC").setServiceProps(by).setMultipleInstances(!0)),gy.registerVersion("@firebase/storage","0.4.2");const _y=new r.q("angularfire2.storageBucket"),Oy=new r.q("angularfire2.storage.maxUploadRetryTime"),Ey=new r.q("angularfire2.storage.maxOperationRetryTime");let Cy=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new I.d(i),this.keepUnstableUntilFirst=Object(I.h)(this.schedulers);const u=Object(I.g)(t,i,e);this.storage=Object(I.f)(`${u.name}.storage.${n}`,"AngularFireStorage",u,()=>{const t=i.runOutsideAngular(()=>u.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return wy(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return wy(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return wy(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(I.c),r.Wb(I.b,8),r.Wb(_y,8),r.Wb(r.B),r.Wb(r.z),r.Wb(Oy,8),r.Wb(Ey,8))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(I.c),Object(r.Wb)(I.b,8),Object(r.Wb)(_y,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(Oy,8),Object(r.Wb)(Ey,8))},token:t,providedIn:"any"}),t})(),Ay=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),xy=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[Cy],imports:[Ay]}),t})(),Iy=(()=>{class t{constructor(t,e){this.fire=t,this.fs=e,this.userID="",this.user=t.user}signup(t,e){return this.fire.createUserWithEmailAndPassword(t,e)}login(t,e){return this.fire.signInWithEmailAndPassword(t,e)}getInfo(){return this.fs.doc("User/"+this.userID).ref.get().then(t=>t.get("isAdmin"))}logout(){return this.fire.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Ig),r.Wb(qg))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class Ty extends Wp.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Qp.a;return this._value}next(t){super.next(this._value=t)}}class Sy extends d.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Dy extends d.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var jy=n("SeVD");function ky(t,e,n,r,i=new Dy(t,n,r)){if(!i.closed)return e instanceof o.a?e.subscribe(i):Object(jy.a)(e)(i)}var Py=n("yCtX");const Ry={};class Ny{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Fy(t,this.resultSelector))}}class Fy extends Sy{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ry),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(ky(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ry?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Ly(t){return new o.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(sg.b)()).subscribe(e)})}function Vy(t){return function(e){const n=new Uy(t),r=e.lift(n);return n.caught=r}}class Uy{constructor(t){this.selector=t}call(t,e){return e.subscribe(new My(t,this.selector,this.caught))}}class My extends Kp.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Kp.a(this);this.add(r);const i=Object(Kp.c)(n,r);i!==r&&this.add(i)}}}var By=n("5+tZ");function Hy(t,e){return Object(By.a)(t,e,1)}function qy(t){return function(e){return 0===t?Object(sg.b)():e.lift(new zy(t))}}class zy{constructor(t){if(this.total=t,this.total<0)throw new og}call(t,e){return e.subscribe(new Wy(t,this.total))}}class Wy extends d.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var Gy=n("vkgz");class Ky{constructor(t){this.callback=t}call(t,e){return e.subscribe(new $y(t,this.callback))}}class $y extends d.a{constructor(t,e){super(t),this.add(new Xp.a(e))}}class Zy{constructor(t,e){this.id=t,this.url=e}}class Jy extends Zy{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yy extends Zy{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Xy extends Zy{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qy extends Zy{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tw extends Zy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ew extends Zy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nw extends Zy{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rw extends Zy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iw extends Zy{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ow{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sw{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uw{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aw{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cw{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lw{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hw{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const fw="primary";class dw{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pw(t){return new dw(t)}function gw(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function bw(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function vw(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!mw(t[i],e[i]))return!1;return!0}function mw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function yw(t){return Array.prototype.concat.apply([],t)}function ww(t){return t.length>0?t[t.length-1]:null}function _w(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ow(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(s.a)(Promise.resolve(t)):Object(u.a)(t)}function Ew(t,e,n){return n?function(t,e){return vw(t,e)}(t.queryParams,e.queryParams)&&Cw(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mw(t[n],e[n]))}(t.queryParams,e.queryParams)&&Aw(t.root,e.root)}function Cw(t,e){if(!Dw(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Cw(t.children[n],e.children[n]))return!1}return!0}function Aw(t,e){return xw(t,e,e.segments)}function xw(t,e,n){if(t.segments.length>n.length)return!!Dw(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Dw(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Aw(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Dw(t.segments,r)&&!!t.children.primary&&xw(t.children.primary,e,i)}}class Iw{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pw(this.queryParams)),this._queryParamMap}toString(){return Pw.serialize(this)}}class Tw{constructor(t,e){this.segments=t,this.children=e,this.parent=null,_w(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rw(this)}}class Sw{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=pw(this.parameters)),this._parameterMap}toString(){return Bw(this)}}function Dw(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class jw{}class kw{parse(t){const e=new Gw(t);return new Iw(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+Nw(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Lw(e)}=${Lw(t)}`).join("&"):`${Lw(e)}=${Lw(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const Pw=new kw;function Rw(t){return t.segments.map(t=>Bw(t)).join("/")}function Nw(t,e){if(!t.hasChildren())return Rw(t);if(e){const e=t.children.primary?Nw(t.children.primary,!1):"",n=[];return _w(t.children,(t,e)=>{e!==fw&&n.push(`${e}:${Nw(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return _w(t.children,(t,r)=>{r===fw&&(n=n.concat(e(t,r)))}),_w(t.children,(t,r)=>{r!==fw&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===fw?[Nw(t.children.primary,!1)]:[`${n}:${Nw(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Rw(t)}/${e[0]}`:`${Rw(t)}/(${e.join("//")})`}}function Fw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lw(t){return Fw(t).replace(/%3B/gi,";")}function Vw(t){return Fw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Uw(t){return decodeURIComponent(t)}function Mw(t){return Uw(t.replace(/\+/g,"%20"))}function Bw(t){return`${Vw(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Vw(t)}=${Vw(e[t])}`).join("")}`;var e}const Hw=/^[^\/()?;=#]+/;function qw(t){const e=t.match(Hw);return e?e[0]:""}const zw=/^[^=?&#]+/,Ww=/^[^?&#]+/;class Gw{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Tw([],{}):new Tw([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Tw(t,e)),n}parseSegment(){const t=qw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Sw(Uw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qw(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=qw(this.remaining);t&&(n=t,this.capture(n))}t[Uw(e)]=Uw(n)}parseQueryParam(t){const e=function(t){const e=t.match(zw);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ww);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Mw(e),i=Mw(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=qw(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=fw);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Tw([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Kw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=$w(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=$w(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Zw(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Zw(t,this._root).map(t=>t.value)}}function $w(t,e){if(t===e.value)return e;for(const n of e.children){const e=$w(t,n);if(e)return e}return null}function Zw(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Zw(t,n);if(r.length)return r.unshift(e),r}return[]}class Jw{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Yw(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Xw extends Kw{constructor(t,e){super(t),this.snapshot=e,i_(this,t)}toString(){return this.snapshot.toString()}}function Qw(t,e){const n=function(t,e){const n=new n_([],{},{},"",{},fw,e,null,t.root,-1,{});return new r_("",new Jw(n,[]))}(t,e),r=new Ty([new Sw("",{})]),i=new Ty({}),o=new Ty({}),s=new Ty({}),u=new Ty(""),a=new t_(r,i,s,u,o,fw,e,n.root);return a.snapshot=n.root,new Xw(new Jw(a,[]),n)}class t_{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(v.a)(t=>pw(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(v.a)(t=>pw(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function e_(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class n_{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pw(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pw(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class r_ extends Kw{constructor(t,e){super(e),this.url=t,i_(this,e)}toString(){return o_(this._root)}}function i_(t,e){e.value._routerState=t,e.children.forEach(e=>i_(t,e))}function o_(t){const e=t.children.length>0?` { ${t.children.map(o_).join(", ")} } `:"";return`${t.value}${e}`}function s_(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,vw(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),vw(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!vw(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),vw(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function u_(t,e){return vw(t.params,e.params)&&function(t,e){return Dw(t,e)&&t.every((t,n)=>vw(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||u_(t.parent,e.parent))}function a_(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return a_(t,e,r);return a_(t,e)})}(t,e,n);return new Jw(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return c_(e,t),t}{const n=new t_(new Ty((r=e.value).url),new Ty(r.params),new Ty(r.queryParams),new Ty(r.fragment),new Ty(r.data),r.outlet,r.component,r),i=e.children.map(e=>a_(t,e));return new Jw(n,i)}}var r}function c_(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)c_(t.children[n],e.children[n])}function l_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function h_(t){return"object"==typeof t&&null!=t&&t.outlets}function f_(t,e,n,r,i){let o={};return r&&_w(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Iw(n.root===t?e:d_(n.root,t,e),o,i)}function d_(t,e,n){const r={};return _w(t.children,(t,i)=>{r[i]=t===e?n:d_(t,e,n)}),new Tw(t.segments,r)}class p_{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&l_(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(h_);if(r&&r!==ww(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class g_{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function b_(t,e,n){if(t||(t=new Tw([],{})),0===t.segments.length&&t.hasChildren())return v_(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(h_(s))break;const u=""+s,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!__(u,a,e))return o;r+=2}else{if(!__(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Tw(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Tw(t.segments.slice(r.pathIndex),t.children),v_(e,0,i)}return r.match&&0===i.length?new Tw(t.segments,{}):r.match&&!t.hasChildren()?m_(t,e,n):r.match?v_(t,0,i):m_(t,e,n)}function v_(t,e,n){if(0===n.length)return new Tw(t.segments,{});{const r=function(t){return h_(t[0])?t[0].outlets:{[fw]:t}}(n),i={};return _w(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=b_(t.children[r],e,n))}),_w(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Tw(t.segments,i)}}function m_(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(h_(o)){const t=y_(o.outlets);return new Tw(r,t)}if(0===i&&l_(n[0])){r.push(new Sw(t.segments[e].path,n[0])),i++;continue}const s=h_(o)?o.outlets.primary:""+o,u=i<n.length-1?n[i+1]:null;s&&u&&l_(u)?(r.push(new Sw(s,w_(u))),i+=2):(r.push(new Sw(s,{})),i++)}return new Tw(r,{})}function y_(t){const e={};return _w(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=m_(new Tw([],{}),0,t))}),e}function w_(t){const e={};return _w(t,(t,n)=>e[n]=""+t),e}function __(t,e,n){return t==n.path&&vw(e,n.parameters)}class O_{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),s_(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Yw(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),_w(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Yw(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=Yw(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new lw(t.value.snapshot))}),t.children.length&&this.forwardEvent(new aw(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(s_(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),E_(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function E_(t){s_(t.value),t.children.forEach(E_)}class C_{constructor(t,e){this.routes=t,this.module=e}}function A_(t){return"function"==typeof t}function x_(t){return t instanceof Iw}const I_=Symbol("INITIAL_VALUE");function T_(){return $p(t=>function(...t){let e=void 0,n=void 0;return Object(h.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(wb.a)(t[0])&&(t=t[0]),Object(Py.a)(t,n).lift(new Ny(e))}(...t.map(t=>t.pipe(ug(1),f(I_)))).pipe(m((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==I_)return t;if(r===I_&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||x_(r))return r}return t},t)},I_),E(t=>t!==I_),Object(v.a)(t=>x_(t)?t:!0===t),ug(1)))}let S_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Lb(0,"router-outlet")},directives:function(){return[TO]},encapsulation:2}),t})();function D_(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];j_(r,k_(e,r))}}function j_(t,e){t.children&&D_(t.children,e)}function k_(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function P_(t){const e=t.children&&t.children.map(P_),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==fw&&(n.component=S_),n}function R_(t){return t.outlet||fw}function N_(t,e){const n=t.filter(t=>R_(t)===e);return n.push(...t.filter(t=>R_(t)!==e)),n}const F_={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function L_(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},F_):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||bw)(n,t,e);if(!i)return Object.assign({},F_);const o={};_w(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function V_(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>U_(t,e,n)&&R_(n)!==fw)}(t,n,r)){const i=new Tw(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&R_(o)!==fw){const n=new Tw([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[R_(o)]=n}return i}(t,e,r,new Tw(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>U_(t,e,n))}(t,n,r)){const o=new Tw(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(U_(t,n,u)&&!i[R_(u)]){const n=new Tw([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[R_(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Tw(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function U_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function M_(t,e,n,r){return!!(R_(t)===r||r!==fw&&U_(e,n,t))&&("**"===t.path||L_(e,t,n).matched)}function B_(t,e,n){return 0===e.length&&!t.children[n]}class H_{constructor(t){this.segmentGroup=t||null}}class q_{constructor(t){this.urlTree=t}}function z_(t){return new o.a(e=>e.error(new H_(t)))}function W_(t){return new o.a(e=>e.error(new q_(t)))}function G_(t){return new o.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class K_{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=V_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Tw(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,fw).pipe(Object(v.a)(t=>this.createUrlTree($_(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Vy(t=>{if(t instanceof q_)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof H_)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,fw).pipe(Object(v.a)(e=>this.createUrlTree($_(e),t.queryParams,t.fragment))).pipe(Vy(t=>{if(t instanceof H_)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Tw([],{[fw]:t}):t;return new Iw(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(v.a)(t=>new Tw([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(s.a)(r).pipe(Hy(r=>{const i=n.children[r],o=N_(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(v.a)(t=>({segment:t,outlet:r})))}),m((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?E((e,n)=>t(e,n,r)):vg.a,qy(1),n?lg(e):dg(()=>new ig))}())}expandSegment(t,e,n,r,i,o){return Object(s.a)(n).pipe(Hy(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Vy(t=>{if(t instanceof H_)return Object(u.a)(null);throw t}))),mg(t=>!!t),Vy((t,n)=>{if(t instanceof ig||"EmptyError"===t.name){if(B_(e,r,i))return Object(u.a)(new Tw([],{}));throw new H_(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return M_(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):z_(e):z_(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?W_(i):this.lineralizeSegments(n,i).pipe(Object(By.a)(n=>{const i=new Tw(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=L_(e,r,i);if(!s)return z_(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?W_(l):this.lineralizeSegments(r,l).pipe(Object(By.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(v.a)(t=>(n._loadedConfig=t,new Tw(r,{})))):Object(u.a)(new Tw(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=L_(e,n,r);if(!o)return z_(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(By.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:l}=V_(e,s,c,o),h=new Tw(a.segments,a.children);if(0===l.length&&h.hasChildren())return this.expandChildren(r,o,h).pipe(Object(v.a)(t=>new Tw(s,t)));if(0===o.length&&0===l.length)return Object(u.a)(new Tw(s,{}));const f=R_(n)===i;return this.expandSegment(r,h,o,l,f?fw:i,!0).pipe(Object(v.a)(t=>new Tw(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(u.a)(new C_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(u.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(By.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(v.a)(t=>(e._loadedConfig=t,t))):function(t){return new o.a(e=>e.error(gw(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(u.a)(new C_([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(u.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&A_(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!A_(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ow(o)});return Object(u.a)(i).pipe(T_(),Object(Gy.a)(t=>{if(!x_(t))return;const e=gw(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(v.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(u.a)(n);if(r.numberOfChildren>1||!r.children.primary)return G_(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Iw(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return _w(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return _w(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Tw(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function $_(t){const e={};for(const n of Object.keys(t.children)){const r=$_(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Tw(t.segments.concat(e.segments),e.children)}return t}(new Tw(t.segments,e))}class Z_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class J_{constructor(t,e){this.component=t,this.route=e}}function Y_(t,e,n){const r=t._root;return Q_(r,e?e._root:null,n,[r.value])}function X_(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Q_(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Yw(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Dw(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Dw(t.url,e.url)||!vw(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!u_(t,e)||!vw(t.queryParams,e.queryParams);case"paramsChange":default:return!u_(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new Z_(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Q_(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new J_(u.outlet.component,s))}else s&&tO(e,u,i),i.canActivateChecks.push(new Z_(r)),Q_(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),_w(o,(t,e)=>tO(t,n.getContext(e),i)),i}function tO(t,e,n){const r=Yw(t),i=t.value;_w(r,(t,r)=>{tO(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new J_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function eO(t,e){return null!==t&&e&&e(new cw(t)),Object(u.a)(!0)}function nO(t,e){return null!==t&&e&&e(new uw(t)),Object(u.a)(!0)}function rO(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(u.a)(!0);const i=r.map(r=>Ly(()=>{const i=X_(r,e,n);let o;if(function(t){return t&&A_(t.canActivate)}(i))o=Ow(i.canActivate(e,t));else{if(!A_(i))throw new Error("Invalid CanActivate guard");o=Ow(i(e,t))}return o.pipe(mg())}));return Object(u.a)(i).pipe(T_())}function iO(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Ly(()=>{const i=e.guards.map(i=>{const o=X_(i,e.node,n);let s;if(function(t){return t&&A_(t.canActivateChild)}(o))s=Ow(o.canActivateChild(r,t));else{if(!A_(o))throw new Error("Invalid CanActivateChild guard");s=Ow(o(r,t))}return s.pipe(mg())});return Object(u.a)(i).pipe(T_())}));return Object(u.a)(i).pipe(T_())}class oO{}function sO(t){return new o.a(e=>e.error(t))}class uO{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=V_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,fw);if(null===e)return null;const n=new n_([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},fw,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Jw(n,e),i=new r_(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=e_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=N_(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!aO(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===fw?-1:e.value.outlet===fw?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return B_(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!M_(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?ww(n).parameters:{};i=new n_(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hO(t),R_(t),t.component,t,cO(e),lO(e)+n.length,fO(t))}else{const r=L_(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new n_(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,hO(t),R_(t),t.component,t,cO(e),lO(e)+o.length,fO(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=V_(e,o,s,u.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return null===t?null:[new Jw(i,t)]}if(0===u.length&&0===c.length)return[new Jw(i,[])];const l=R_(t)===r,h=this.processSegment(u,a,c,l?fw:r);return null===h?null:[new Jw(i,h)]}}function aO(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function cO(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function lO(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function hO(t){return t.data||{}}function fO(t){return t.resolve||{}}function dO(t){return function(e){return e.pipe($p(e=>{const n=t(e);return n?Object(s.a)(n).pipe(Object(v.a)(()=>e)):Object(s.a)([e])}))}}class pO extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const gO=new r.q("ROUTES");class bO{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(v.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new C_(yw(r.injector.get(gO)).map(P_),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(s.a)(this.loader.load(t)):Ow(t()).pipe(Object(By.a)(t=>t instanceof r.v?Object(u.a)(t):Object(s.a)(this.compiler.compileModuleAsync(t))))}}class vO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mO,this.attachRef=null}}class mO{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new vO,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class yO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function wO(t){throw t}function _O(t,e,n){return e.parse("/")}function OO(t,e){return Object(u.a)(null)}let EO=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Wp.a,this.errorHandler=wO,this.malformedUriErrorHandler=_O,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:OO,afterPreactivation:OO},this.urlHandlingStrategy=new yO,this.routeReuseStrategy=new pO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(a),this.currentUrlTree=new Iw(new Tw([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bO(s,u,t=>this.triggerEvent(new ow(t)),t=>this.triggerEvent(new sw(t))),this.routerState=Qw(this.currentUrlTree,this.rootComponentType),this.transitions=new Ty({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(E(t=>0!==t.id),Object(v.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),$p(t=>{let n=!1,r=!1;return Object(u.a)(t).pipe(Object(Gy.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$p(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(u.a)(t).pipe($p(t=>{const n=this.transitions.getValue();return e.next(new Jy(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?sg.a:[t]}),$p(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe($p(t=>function(t,e,n,r,i){return new K_(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(v.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(Gy.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(By.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new uO(t,e,n,r,i,o).recognize();return null===s?sO(new oO):Object(u.a)(s)}catch(Hp){return sO(Hp)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(v.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Gy.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(Gy.a)(t=>{const n=new tw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Jy(n,this.serializeUrl(r),i,o);e.next(a);const c=Qw(r,this.rootComponentType).snapshot;return Object(u.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),sg.a}),dO(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Gy.a)(t=>{const e=new ew(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(v.a)(t=>Object.assign(Object.assign({},t),{guards:Y_(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(By.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return 0===a.length&&0===o.length?Object(u.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(By.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(u.a)(!0);const s=o.map(o=>{const s=X_(o,e,i);let u;if(function(t){return t&&A_(t.canDeactivate)}(s))u=Ow(s.canDeactivate(t,e,n,r));else{if(!A_(s))throw new Error("Invalid CanDeactivate guard");u=Ow(s(t,e,n,r))}return u.pipe(mg())});return Object(u.a)(s).pipe(T_())}(t.component,t.route,n,e,r)),mg(t=>!0!==t,!0))}(a,r,i,t).pipe(Object(By.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(Hy(e=>Object(s.a)([nO(e.route.parent,r),eO(e.route,r),iO(t,e.path,n),rO(t,e.route,n)]).pipe(c(),mg(t=>!0!==t,!0))),mg(t=>!0!==t,!0))}(r,o,t,e):Object(u.a)(n)),Object(v.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Gy.a)(t=>{if(x_(t.guardsResult)){const e=gw(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(Gy.a)(t=>{const e=new nw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),E(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Xy(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),dO(t=>{if(t.guards.canActivateChecks.length)return Object(u.a)(t).pipe(Object(Gy.a)(t=>{const e=new rw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),$p(t=>{let n=!1;return Object(u.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(By.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(u.a)(t);let o=0;return Object(s.a)(n).pipe(Hy(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(u.a)({});const o={};return Object(s.a)(i).pipe(Object(By.a)(i=>function(t,e,n,r){const i=X_(t,e,r);return Ow(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Gy.a)(t=>{o[i]=t}))),qy(1),Object(By.a)(()=>Object.keys(o).length===i.length?Object(u.a)(o):sg.a))}(t._resolve,t,e,r).pipe(Object(v.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),e_(t,n).resolve),null)))}(t.route,e,r,i)),Object(Gy.a)(()=>o++),qy(1),Object(By.a)(e=>o===n.length?Object(u.a)(t):sg.a))}))}),Object(Gy.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Xy(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Gy.a)(t=>{const e=new iw(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),dO(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(v.a)(t=>{const e=function(t,e,n){const r=a_(t,e._root,n?n._root:void 0);return new Xw(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Gy.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,a=this.routeReuseStrategy,l=t=>this.triggerEvent(t),Object(v.a)(t=>(new O_(a,t.targetRouterState,t.currentRouterState,l).activate(o),t))),Object(Gy.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Xy(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ky(i))),Vy(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=x_(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Xy(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Qy(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(cs){t.reject(cs)}}var i;return sg.a}));var i,o,a,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){D_(t),this.config=t.map(P_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return f_(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new p_(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return _w(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new p_(n,e,r)}(n);if(o.toRoot())return f_(e.root,new Tw([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new g_(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new g_(t,t===e.root,0)}const r=l_(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new g_(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?v_(s.segmentGroup,s.index,o.commands):b_(s.segmentGroup,s.index,o.commands);return f_(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=x_(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Hp){e=this.malformedUriErrorHandler(Hp,this.urlSerializer,t)}return e}isActive(t,e){if(x_(t))return Ew(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Ew(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Yy(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.M),r.Wb(jw),r.Wb(mO),r.Wb(W),r.Wb(r.r),r.Wb(r.w),r.Wb(r.i),r.Wb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),CO=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Wp.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:xO(this.skipLocationChange),replaceUrl:xO(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xO(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(EO),r.Kb(t_),r.Xb("tabindex"),r.Kb(r.D),r.Kb(r.l))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Zb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),AO=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Wp.a,this.subscription=t.events.subscribe(t=>{t instanceof Yy&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:xO(this.skipLocationChange),replaceUrl:xO(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:xO(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(EO),r.Kb(t_),r.Kb(M))},t.\u0275dir=r.Fb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Zb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Sb("href",e.href,r.qc),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function xO(t){return""===t||!!t}let IO=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Yy&&this.update()})}ngAfterContentInit(){Object(s.a)([this.links.changes,this.linksWithHrefs.changes,Object(u.a)(null)]).pipe(Object(a.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(s.a)(e).pipe(Object(a.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(EO),r.Kb(r.l),r.Kb(r.D),r.Kb(r.h),r.Kb(CO,8),r.Kb(AO,8))},t.\u0275dir=r.Fb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Db(n,CO,!0),r.Db(n,AO,!0)),2&t){let t;r.nc(t=r.ac())&&(e.links=t),r.nc(t=r.ac())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.wb]}),t})(),TO=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||fw,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new SO(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(mO),r.Kb(r.P),r.Kb(r.j),r.Xb("name"),r.Kb(r.h))},t.\u0275dir=r.Fb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class SO{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===t_?this.route:t===mO?this.childContexts:this.parent.get(t,e)}}class DO{}class jO{preload(t,e){return Object(u.a)(null)}}let kO=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new bO(e,n,e=>t.triggerEvent(new ow(e)),e=>t.triggerEvent(new sw(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(E(t=>t instanceof Yy),Hy(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(s.a)(n).pipe(Object(a.a)(),Object(v.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(By.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(EO),r.Wb(r.w),r.Wb(r.i),r.Wb(r.r),r.Wb(DO))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})(),PO=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Jy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yy&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new hw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(EO),r.Wb(mt),r.Wb(void 0))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();const RO=new r.q("ROUTER_CONFIGURATION"),NO=new r.q("ROUTER_FORROOT_GUARD"),FO=[W,{provide:jw,useClass:kw},{provide:EO,useFactory:function(t,e,n,r,i,o,s,u={},a,c){const l=new EO(null,t,e,n,r,i,o,yw(s));if(a&&(l.urlHandlingStrategy=a),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,l),u.enableTracing){const t=S();l.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l},deps:[jw,mO,W,r.r,r.w,r.i,gO,RO,[class{},new r.A],[class{},new r.A]]},mO,{provide:t_,useFactory:function(t){return t.routerState.root},deps:[EO]},{provide:r.w,useClass:r.J},kO,jO,class{preload(t,e){return e().pipe(Vy(()=>Object(u.a)(null)))}},{provide:RO,useValue:{enableTracing:!1}}];function LO(){return new r.y("Router",EO)}let VO=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[FO,HO(e),{provide:NO,useFactory:BO,deps:[[EO,new r.A,new r.I]]},{provide:RO,useValue:n||{}},{provide:M,useFactory:MO,deps:[j,[new r.p(H),new r.A],RO]},{provide:PO,useFactory:UO,deps:[EO,mt,RO]},{provide:DO,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:jO},{provide:r.y,multi:!0,useFactory:LO},[qO,{provide:r.d,multi:!0,useFactory:zO,deps:[qO]},{provide:GO,useFactory:WO,deps:[qO]},{provide:r.b,multi:!0,useExisting:GO}]]}}static forChild(e){return{ngModule:t,providers:[HO(e)]}}}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)(r.Wb(NO,8),r.Wb(EO,8))}}),t})();function UO(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new PO(t,e,n)}function MO(t,e,n={}){return n.useHash?new z(t,e):new q(t,e)}function BO(t){return"guarded"}function HO(t){return[{provide:r.a,multi:!0,useValue:t},{provide:gO,multi:!0,useValue:t}]}let qO=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Wp.a}appInitializer(){return this.injector.get(P,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(EO),r=this.injector.get(RO);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(u.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(RO),n=this.injector.get(kO),i=this.injector.get(PO),o=this.injector.get(EO),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.r))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac}),t})();function zO(t){return t.appInitializer.bind(t)}function WO(t){return t.bootstrapListener.bind(t)}const GO=new r.q("Router Initializer");let KO=(()=>{class t{constructor(t,e){this.as=t,this.router=e}canActivate(t,e){return new Promise(t=>{this.as.user.subscribe(e=>{e?t(!0):this.router.navigate(["/login"])})})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(Iy),r.Wb(EO))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),$O=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-notfound"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Pb(0,"p"),r.xc(1,"notfound works!"),r.Ob())},styles:[""]}),t})(),ZO=(()=>{class t{constructor(t){this.as=t}addNewUser(t,e,n,r){return this.as.doc("User/"+t).set({name:e,address:n,isAdmin:r})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(qg))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function JO(t,e){1&t&&(r.Pb(0,"div",16),r.xc(1,"Name is required"),r.Ob())}function YO(t,e){1&t&&(r.Pb(0,"div",16),r.xc(1,"Email is required"),r.Ob())}function XO(t,e){1&t&&(r.Pb(0,"div",16),r.xc(1,"Email format is not correct"),r.Ob())}function QO(t,e){1&t&&(r.Pb(0,"div",16),r.xc(1,"Password is required"),r.Ob())}function tE(t,e){1&t&&(r.Pb(0,"div",16),r.xc(1,"Password should be more than 6 characters or equal one"),r.Ob())}function eE(t,e){1&t&&(r.Pb(0,"div",16),r.xc(1,"Confirm password is required"),r.Ob())}function nE(t,e){1&t&&(r.Pb(0,"div",16),r.xc(1,"Passwords are not identical"),r.Ob())}function rE(t,e){1&t&&(r.Pb(0,"div",16),r.xc(1,"Address is required"),r.Ob())}function iE(t,e){if(1&t&&(r.Pb(0,"div",16),r.xc(1),r.Ob()),2&t){const t=r.bc();r.yb(1),r.yc(t.errMessage)}}let oE=(()=>{class t{constructor(t,e,n){this.as=t,this.user=e,this.router=n,this.errMessage=""}ngOnInit(){}signup(t){this.as.signup(t.value.email,t.value.password).then(e=>{this.user.addNewUser(e.user.uid,t.value.name,t.value.address,!1),this.errMessage="",this.router.navigate(["/"])}).catch(t=>this.errMessage=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Iy),r.Kb(ZO),r.Kb(EO))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-sing-up"]],decls:32,vars:10,consts:[[1,"body"],[1,"text-center"],[3,"ngSubmit"],["f","ngForm"],["ngModel","","name","name","type","text","placeholder","Name","required","",1,"form-control"],["name","ngModel"],["class","alert alert-danger",4,"ngIf"],["ngModel","","name","email","type","text","placeholder","Email","required","","email","",1,"form-control"],["email","ngModel"],["ngModel","","name","password","type","password","placeholder","Password","required","","minlength","6",1,"form-control"],["password","ngModel"],["ngModel","","name","confirm","type","password","placeholder","Confirm password","required","","minlength","6",1,"form-control"],["confirm","ngModel"],["ngModel","","name","address","type","text","placeholder","Address","required","",1,"form-control"],["address","ngModel"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-danger"]],template:function(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div",0),r.Pb(1,"h2",1),r.xc(2,"Sign up"),r.Ob(),r.Lb(3,"br"),r.Pb(4,"form",2,3),r.Zb("ngSubmit",function(){r.pc(t);const n=r.oc(5);return e.signup(n)}),r.Lb(6,"input",4,5),r.vc(8,JO,2,0,"div",6),r.Lb(9,"br"),r.Lb(10,"input",7,8),r.vc(12,YO,2,0,"div",6),r.vc(13,XO,2,0,"div",6),r.Lb(14,"br"),r.Lb(15,"input",9,10),r.vc(17,QO,2,0,"div",6),r.vc(18,tE,2,0,"div",6),r.Lb(19,"br"),r.Lb(20,"input",11,12),r.vc(22,eE,2,0,"div",6),r.vc(23,nE,2,0,"div",6),r.Lb(24,"br"),r.Lb(25,"input",13,14),r.vc(27,rE,2,0,"div",6),r.Lb(28,"br"),r.Pb(29,"button",15),r.xc(30,"Create an account"),r.Ob(),r.Ob(),r.Ob(),r.vc(31,iE,2,1,"div",6)}if(2&t){const t=r.oc(5),n=r.oc(7),i=r.oc(11),o=r.oc(16),s=r.oc(21),u=r.oc(26);r.yb(8),r.hc("ngIf",n.invalid&&n.touched),r.yb(4),r.hc("ngIf",(null==i.errors?null:i.errors.required)&&i.touched),r.yb(1),r.hc("ngIf",(null==i.errors?null:i.errors.email)&&i.touched),r.yb(4),r.hc("ngIf",(null==o.errors?null:o.errors.required)&&o.touched),r.yb(1),r.hc("ngIf",(null==o.errors?null:o.errors.minlength)&&o.touched),r.yb(4),r.hc("ngIf",(null==s.errors?null:s.errors.required)&&s.touched),r.yb(1),r.hc("ngIf",o.value!==s.value&&s.touched),r.yb(4),r.hc("ngIf",u.invalid&&u.touched),r.yb(2),r.hc("disabled",t.invalid),r.yb(2),r.hc("ngIf",e.errMessage)}},directives:[kv,Zb,Tv,Tb,$b,jv,Rv,ct,Fv,Vv],styles:[".form-control[_ngcontent-%COMP%]{width:50%}"]}),t})(),sE=(()=>{class t{constructor(t,e){this.fs=t,this.storage=e}getAllProducts(){return this.fs.collection("Product").valueChanges()}addProduct(t,e,n,r){let i=this.storage.ref("Images/"+r.name);i.put(r).then(()=>{i.getDownloadURL().subscribe(r=>{this.fs.collection("Product").add({name:t,price:e,description:n,picturePath:r})})})}getProducts(){return this.fs.collection("Product").snapshotChanges()}updateProduct(t,e,n,r){return this.fs.doc("Product/"+t).update({name:e,price:n,description:r})}deleteProduct(t){return this.fs.doc("Product/"+t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(qg),r.Wb(Cy))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),uE=(()=>{class t{constructor(t,e){this.fs=t,this.as=e}addToCart(t){return this.fs.collection(`User/${this.as.userID}/cart`).add(t)}getCart(){return this.fs.collection(`User/${this.as.userID}/cart`).snapshotChanges()}deleteCart(t){return this.fs.doc(`User/${this.as.userID}/cart/${t}`).delete()}updateCart(t,e){return this.fs.doc(`User/${this.as.userID}/cart/${t}`).update({amount:e})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(qg),r.Wb(Iy))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function aE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"button",11),r.Zb("click",function(){r.pc(t);const e=r.bc().index;return r.bc().addToCart(e)}),r.xc(1,"To cart"),r.Ob()}}function cE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div"),r.Lb(1,"input",12,13),r.Pb(3,"button",11),r.Zb("click",function(){r.pc(t);const e=r.oc(2);return r.bc(2).buy(e.value)}),r.xc(4,"Buy"),r.Ob(),r.Ob()}}function lE(t,e){if(1&t&&(r.Pb(0,"div",3),r.Pb(1,"div",4),r.Lb(2,"img",5),r.Pb(3,"div",6),r.Pb(4,"h5",7),r.xc(5),r.cc(6,"titlecase"),r.Ob(),r.Pb(7,"p",8),r.xc(8),r.Ob(),r.Pb(9,"p",8),r.xc(10),r.cc(11,"currency"),r.Ob(),r.vc(12,aE,2,0,"button",9),r.vc(13,cE,5,0,"div",10),r.Ob(),r.Ob(),r.Ob()),2&t){const t=e.$implicit,n=e.index,i=r.bc();r.yb(2),r.hc("src",t.picturePath,r.qc),r.yb(3),r.yc(r.dc(6,6,t.name)),r.yb(3),r.yc(t.description),r.yb(2),r.yc(r.ec(11,8,t.price,"RUB","symbol-narrow","1.2-2")),r.yb(2),r.hc("ngIf",i.add!==n),r.yb(1),r.hc("ngIf",i.add===n)}}let hE=(()=>{class t{constructor(t,e,n,r){this.ps=t,this.cart=e,this.as=n,this.rout=r,this.add=-1,this.products=[]}ngOnInit(){this.ps.getAllProducts().subscribe(t=>this.products=t)}addToCart(t){this.as.userID?this.add=+t:this.rout.navigate(["/login"])}buy(t){if(t>0){let e=this.products[this.add];this.cart.addToCart({name:e.name,price:e.price,amount:+t}).then(()=>this.add=-1).catch(t=>console.log(t))}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(sE),r.Kb(uE),r.Kb(Iy),r.Kb(EO))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-products"]],decls:3,vars:1,consts:[[1,"body"],[1,"row"],["class","col col-12 col-md-6 col-lg-3 p-5",4,"ngFor","ngForOf"],[1,"col","col-12","col-md-6","col-lg-3","p-5"],[1,"card",2,"width","18rem"],[1,"card-img-top",2,"width","286px","height","180px",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"],["class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"btn","btn-primary",3,"click"],["type","number","placeholder","Amount","min","0",1,"form-control"],["amount",""]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.vc(2,lE,14,13,"div",2),r.Ob(),r.Ob()),2&t&&(r.yb(2),r.hc("ngForOf",e.products))},directives:[ut,ct],pipes:[pt,gt],styles:[""]}),t})(),fE=(()=>{class t{constructor(t,e){this.fs=t,this.as=e}addToOrder(t){return this.fs.collection(`User/${this.as.userID}/order`).add(t)}getOrder(){return this.fs.collection(`User/${this.as.userID}/order`).snapshotChanges()}deleteOrder(t){return this.fs.doc(`User/${this.as.userID}/order/${t}`).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(qg),r.Wb(Iy))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function dE(t,e){if(1&t&&(r.Pb(0,"tr"),r.Pb(1,"td"),r.xc(2),r.Ob(),r.Pb(3,"td"),r.xc(4),r.cc(5,"currency"),r.Ob(),r.Pb(6,"td"),r.xc(7),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.yb(2),r.yc(t.name),r.yb(2),r.yc(r.ec(5,3,t.price,"RUB","symbol-narrow","1.2-2")),r.yb(3),r.yc(t.amount)}}function pE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"tr"),r.Pb(1,"td"),r.xc(2),r.Ob(),r.Pb(3,"td"),r.Pb(4,"table",3),r.Pb(5,"thead",4),r.Pb(6,"td"),r.xc(7,"Name"),r.Ob(),r.Pb(8,"td"),r.xc(9,"Price"),r.Ob(),r.Pb(10,"td"),r.xc(11,"Amount"),r.Ob(),r.Ob(),r.Pb(12,"tbody"),r.vc(13,dE,8,8,"tr",2),r.Ob(),r.Ob(),r.Ob(),r.Pb(14,"td"),r.xc(15),r.cc(16,"currency"),r.Ob(),r.Pb(17,"td"),r.xc(18),r.Ob(),r.Pb(19,"td"),r.Pb(20,"button",5),r.Zb("click",function(){r.pc(t);const n=e.index;return r.bc().deleteOrder(n)}),r.xc(21,"Delete"),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit,n=e.index;r.yb(2),r.yc(n+1),r.yb(11),r.hc("ngForOf",t.productList),r.yb(2),r.yc(r.ec(16,5,t.total,"RUB","symbol-narrow","1.2-2")),r.yb(3),r.yc(t.isSend?"Order is send":"Order is not send. Please, wait"),r.yb(2),r.hc("disabled",t.isSend)}}let gE=(()=>{class t{constructor(t,e){this.order=t,this.as=e,this.isAdmin=!1}ngOnInit(){this.order.getOrder().subscribe(t=>{this.orderList=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))}),this.as.getInfo().then(t=>this.isAdmin=t)}deleteOrder(t){return this.order.deleteOrder(this.orderList[t].id)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(fE),r.Kb(Iy))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-orders"]],decls:15,vars:1,consts:[[1,"table","table-striped","table-bordered","table-primary"],[1,"bg-primary","text-white"],[4,"ngFor","ngForOf"],[1,"table","table-striped","table-bordered","table-info"],[1,"bg-info","text-white"],[1,"btn","btn-secondary","text-white",2,"margin","7px",3,"disabled","click"]],template:function(t,e){1&t&&(r.Lb(0,"br"),r.Pb(1,"table",0),r.Pb(2,"thead",1),r.Pb(3,"td"),r.xc(4,"\u2116"),r.Ob(),r.Pb(5,"td"),r.xc(6,"Products list"),r.Ob(),r.Pb(7,"td"),r.xc(8,"Total"),r.Ob(),r.Pb(9,"td"),r.xc(10,"Order is send"),r.Ob(),r.Pb(11,"td"),r.xc(12,"Options"),r.Ob(),r.Ob(),r.Pb(13,"tbody"),r.vc(14,pE,22,10,"tr",2),r.Ob(),r.Ob()),2&t&&(r.yb(14),r.hc("ngForOf",e.orderList))},directives:[ut],pipes:[gt],styles:[""]}),t})(),bE=(()=>{class t{constructor(t){this.router=t}ngOnInit(){this.router.navigate(["/"])}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(EO))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-logout"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})();function vE(t,e){1&t&&(r.Pb(0,"div",9),r.xc(1,"Email is required"),r.Ob())}function mE(t,e){1&t&&(r.Pb(0,"div",9),r.xc(1,"Incorrect email format"),r.Ob())}function yE(t,e){1&t&&(r.Pb(0,"div",9),r.xc(1,"Password is required"),r.Ob())}function wE(t,e){1&t&&(r.Pb(0,"div",9),r.xc(1,"The password length should be 6 characters or more"),r.Ob())}let _E=(()=>{class t{constructor(t,e){this.as=t,this.router=e}ngOnInit(){}login(t){this.as.login(t.value.mail,t.value.password).then(t=>{this.router.navigate(["/"])}).catch(t=>console.log(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Iy),r.Kb(EO))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-login"]],decls:17,vars:5,consts:[[1,"text-center"],[3,"ngSubmit"],["f","ngForm"],["ngModel","","name","mail","type","email","required","","email","","placeholder","Email",1,"form-control"],["mail","ngModel"],["class","alert alert-danger",4,"ngIf"],["ngModel","","name","password","type","password","required","","minlength","6","placeholder","Password",1,"form-control"],["password","ngModel"],[1,"btn","btn-info",3,"disabled","click"],[1,"alert","alert-danger"]],template:function(t,e){if(1&t){const t=r.Qb();r.Pb(0,"h2",0),r.xc(1,"Log in"),r.Ob(),r.Pb(2,"form",1,2),r.Zb("ngSubmit",function(){r.pc(t);const n=r.oc(3);return e.login(n)}),r.Lb(4,"br"),r.Lb(5,"input",3,4),r.vc(7,vE,2,0,"div",5),r.vc(8,mE,2,0,"div",5),r.Lb(9,"br"),r.Lb(10,"input",6,7),r.vc(12,yE,2,0,"div",5),r.vc(13,wE,2,0,"div",5),r.Lb(14,"br"),r.Pb(15,"button",8),r.Zb("click",function(){r.pc(t);const n=r.oc(3);return e.login(n)}),r.xc(16,"Login"),r.Ob(),r.Ob()}if(2&t){const t=r.oc(3),e=r.oc(6),n=r.oc(11);r.yb(7),r.hc("ngIf",e.touched&&(null==e.errors?null:e.errors.required)),r.yb(1),r.hc("ngIf",e.touched&&(null==e.errors?null:e.errors.email)),r.yb(4),r.hc("ngIf",n.touched&&(null==n.errors?null:n.errors.required)),r.yb(1),r.hc("ngIf",n.touched&&(null==n.errors?null:n.errors.minlength)),r.yb(2),r.hc("disabled",t.invalid)}},directives:[kv,Zb,Tv,Tb,$b,jv,Rv,Fv,ct,Vv],styles:[".form-control[_ngcontent-%COMP%]{width:50%}"]}),t})();function OE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"tr"),r.Pb(1,"td"),r.xc(2),r.Ob(),r.Pb(3,"td"),r.xc(4),r.cc(5,"currency"),r.Ob(),r.Pb(6,"td"),r.Pb(7,"input",5),r.Zb("ngModelChange",function(t){return e.$implicit.amount=t}),r.Ob(),r.Ob(),r.Pb(8,"td"),r.xc(9),r.cc(10,"currency"),r.Ob(),r.Pb(11,"td"),r.Pb(12,"button",6),r.Zb("click",function(){r.pc(t);const n=e.index;return r.bc().updateCart(n)}),r.xc(13,"Save changes"),r.Ob(),r.Pb(14,"button",7),r.Zb("click",function(){r.pc(t);const n=e.index;return r.bc().deleteCart(n)}),r.xc(15,"Delete"),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit;r.yb(2),r.yc(t.name),r.yb(2),r.yc(r.ec(5,4,t.price,"RUB","symbol-narrow","1.2-2")),r.yb(3),r.hc("ngModel",t.amount),r.yb(2),r.yc(r.ec(10,9,t.price*t.amount,"RUB","symbol-narrow","1.2-2"))}}let EE=(()=>{class t{constructor(t,e){this.cart=t,this.order=e,this.cartPrice=0,this.len=0}ngOnInit(){this.cart.getCart().subscribe(t=>{this.shoppingCart=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())),this.len=this.shoppingCart.length,this.recalculate()})}deleteCart(t){return this.cart.deleteCart(this.shoppingCart[t].id)}updateCart(t){return this.cart.updateCart(this.shoppingCart[t].id,this.shoppingCart[t].amount)}recalculate(){this.cartPrice=0,this.shoppingCart.forEach(t=>{this.cartPrice+=t.amount*t.price}),this.len=this.shoppingCart.length}sendToOrder(){if(this.shoppingCart.length>0){let t={productList:this.shoppingCart,isSend:!1,total:this.cartPrice};this.order.addToOrder(t).then(()=>console.log(t)).catch(t=>console.log(t)),this.shoppingCart.forEach(t=>{this.cart.deleteCart(t.id)})}}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(uE),r.Kb(fE))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-cart"]],decls:24,vars:8,consts:[[1,"table","table-striped","table-bordered","table-primary"],[1,"bg-primary","text-white"],[4,"ngFor","ngForOf"],["colspan","3",1,"text-right"],[1,"btn","btn-primary","text-white",3,"disabled","click"],["type","number","min","0",3,"ngModel","ngModelChange"],[1,"btn","btn-success","text-white",2,"margin","7px",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"br"),r.Pb(1,"table",0),r.Pb(2,"thead",1),r.Pb(3,"td"),r.xc(4,"Product name"),r.Ob(),r.Pb(5,"td"),r.xc(6,"Product price"),r.Ob(),r.Pb(7,"td"),r.xc(8,"Product amount"),r.Ob(),r.Pb(9,"td"),r.xc(10,"Total"),r.Ob(),r.Pb(11,"td"),r.xc(12,"Options"),r.Ob(),r.Ob(),r.Pb(13,"tbody"),r.vc(14,OE,16,14,"tr",2),r.Pb(15,"tr"),r.Pb(16,"td",3),r.xc(17,"Total"),r.Ob(),r.Pb(18,"td"),r.xc(19),r.cc(20,"currency"),r.Ob(),r.Pb(21,"td"),r.Pb(22,"button",4),r.Zb("click",function(){return e.sendToOrder()}),r.xc(23,"Send to a new order"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.yb(14),r.hc("ngForOf",e.shoppingCart),r.yb(5),r.yc(r.ec(20,3,e.cartPrice,"RUB","symbol-narrow","1.2-2")),r.yb(3),r.hc("disabled",0===e.len))},directives:[ut,Yb,Tb,$b,jv],pipes:[gt],styles:[""]}),t})();const CE=["image"];function AE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"tr"),r.Pb(1,"td"),r.Pb(2,"input",12),r.Zb("ngModelChange",function(t){return e.$implicit.name=t}),r.Ob(),r.Ob(),r.Pb(3,"td"),r.Pb(4,"input",13),r.Zb("ngModelChange",function(t){return e.$implicit.price=t}),r.Ob(),r.Ob(),r.Pb(5,"td"),r.Pb(6,"input",14),r.Zb("ngModelChange",function(t){return e.$implicit.description=t}),r.Ob(),r.Ob(),r.Pb(7,"td"),r.Pb(8,"button",15),r.Zb("click",function(){r.pc(t);const n=e.index;return r.bc().updateProduct(n)}),r.xc(9,"Save changes"),r.Ob(),r.Pb(10,"button",16),r.Zb("click",function(){r.pc(t);const n=e.index;return r.bc().deleteProduct(n)}),r.xc(11,"Delete"),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit;r.yb(2),r.hc("ngModel",t.name),r.yb(2),r.hc("ngModel",t.price),r.yb(2),r.hc("ngModel",t.description)}}let xE=(()=>{class t{constructor(t,e){this.ps=t,this.cart=e}ngOnInit(){this.ps.getProducts().subscribe(t=>{this.productsArray=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data()))})}addNewProduct(t){this.ps.addProduct(t.value.name,t.value.price,t.value.description,this.image.nativeElement.files[0])}updateProduct(t){return this.ps.updateProduct(this.productsArray[t].id,this.productsArray[t].name,this.productsArray[t].price,this.productsArray[t].description)}deleteProduct(t){return this.ps.deleteProduct(this.productsArray[t].id)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(sE),r.Kb(uE))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-admin"]],viewQuery:function(t,e){if(1&t&&r.Bc(CE,!0),2&t){let t;r.nc(t=r.ac())&&(e.image=t.first)}},decls:33,vars:2,consts:[[1,"text-center"],[3,"ngSubmit"],["f","ngForm"],["type","text","name","name","ngModel","","placeholder","Put product name","required","",1,"form-control"],["type","number","name","price","ngModel","","placeholder","Put price","required","","min","0",1,"form-control"],["type","text","name","description","ngModel","","placeholder","Put description if you need it",1,"form-control"],["type","file","name","image","ngModel","","required","",1,"form-control"],["image",""],["type","submit","value","add",1,"btn","btn-success",3,"disabled"],[1,"table","table-striped","table-bordered","table-primary"],[1,"bg-primary","text-white"],[4,"ngFor","ngForOf"],["name","name",1,"form-control",3,"ngModel","ngModelChange"],["type","number","name","price","min","0",1,"form-control",3,"ngModel","ngModelChange"],["name","description",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-success","text-white",2,"margin","7px",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(t,e){if(1&t){const t=r.Qb();r.Pb(0,"div"),r.Pb(1,"h3",0),r.xc(2,"Add new product"),r.Ob(),r.Lb(3,"br"),r.Pb(4,"form",1,2),r.Zb("ngSubmit",function(){r.pc(t);const n=r.oc(5);return n.resetForm(e.addNewProduct(n))}),r.Lb(6,"input",3),r.Lb(7,"br"),r.Lb(8,"input",4),r.Lb(9,"br"),r.Lb(10,"input",5),r.Lb(11,"br"),r.Lb(12,"input",6,7),r.Lb(14,"br"),r.Pb(15,"button",8),r.xc(16,"Save"),r.Ob(),r.Ob(),r.Lb(17,"br"),r.Lb(18,"br"),r.Pb(19,"h3",0),r.xc(20,"Update/delete products"),r.Ob(),r.Pb(21,"table",9),r.Pb(22,"thead",10),r.Pb(23,"td"),r.xc(24,"Product name"),r.Ob(),r.Pb(25,"td"),r.xc(26,"Product price"),r.Ob(),r.Pb(27,"td"),r.xc(28,"Product description"),r.Ob(),r.Pb(29,"td"),r.xc(30,"Options"),r.Ob(),r.Ob(),r.Pb(31,"tbody"),r.vc(32,AE,12,3,"tr",11),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=r.oc(5);r.yb(15),r.hc("disabled",t.invalid),r.yb(17),r.hc("ngForOf",e.productsArray)}},directives:[kv,Zb,Tv,Tb,$b,jv,Rv,Yb,ut],styles:[""]}),t})();function IE(t,e){if(1&t&&(r.Pb(0,"div",7),r.Pb(1,"div",8),r.Lb(2,"img",9),r.Pb(3,"div",10),r.Pb(4,"h5",11),r.xc(5),r.cc(6,"titlecase"),r.Ob(),r.Pb(7,"p",12),r.xc(8),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.yb(2),r.hc("src",t.picturePath,r.qc),r.yb(3),r.yc(r.dc(6,3,t.name)),r.yb(3),r.yc(t.description)}}let TE=(()=>{class t{constructor(t,e,n,r){this.ps=t,this.cart=e,this.as=n,this.rout=r,this.products=[]}ngOnInit(){this.ps.getAllProducts().subscribe(t=>this.products=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(sE),r.Kb(uE),r.Kb(Iy),r.Kb(EO))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-home"]],decls:8,vars:1,consts:[["id","accordion",1,"body"],[1,"card"],["id","headingOne",1,"card-header"],[1,"mb-0","text-center"],["id","collapseOne","aria-labelledby","headingOne","data-parent","#accordion",1,"collapse","show"],[1,"row"],["class","col col-12 col-md-6 col-lg-3 p-5",4,"ngFor","ngForOf"],[1,"col","col-12","col-md-6","col-lg-3","p-5"],[1,"card",2,"width","18rem"],[1,"card-img-top",2,"width","286px","height","180px",3,"src"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Pb(1,"div",1),r.Pb(2,"div",2),r.Pb(3,"h5",3),r.xc(4," Welcome to the Ecommerce-App. We're glad to see you. Now you can look at the product list. "),r.Ob(),r.Ob(),r.Pb(5,"div",4),r.Pb(6,"div",5),r.vc(7,IE,9,5,"div",6),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.yb(7),r.hc("ngForOf",e.products))},directives:[ut],pipes:[pt],styles:[""]}),t})(),SE=(()=>{class t{constructor(t){this.fs=t}getUsers(){return this.fs.collection("User").snapshotChanges()}getOrders(t){return this.fs.collection(`User/${t}/order`).snapshotChanges()}updateOrder(t,e,n){return this.fs.doc(`User/${t}/order/${e}`).update({isSend:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(qg))},t.\u0275prov=r.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function DE(t,e){if(1&t&&(r.Pb(0,"tr"),r.Pb(1,"td"),r.xc(2),r.Ob(),r.Pb(3,"td"),r.xc(4),r.Ob(),r.Pb(5,"td"),r.xc(6),r.cc(7,"currency"),r.Ob(),r.Ob()),2&t){const t=e.$implicit;r.yb(2),r.yc(t.name),r.yb(2),r.yc(t.amount),r.yb(2),r.yc(r.ec(7,3,t.price,"RUB","symbol-narrow","1.2-2"))}}function jE(t,e){if(1&t){const t=r.Qb();r.Pb(0,"tr"),r.Pb(1,"td"),r.xc(2),r.Ob(),r.Pb(3,"td"),r.xc(4),r.Ob(),r.Pb(5,"td"),r.Pb(6,"table",3),r.Pb(7,"thead",4),r.Pb(8,"td"),r.xc(9,"Name"),r.Ob(),r.Pb(10,"td"),r.xc(11,"Amount"),r.Ob(),r.Pb(12,"td"),r.xc(13,"Price"),r.Ob(),r.Ob(),r.Pb(14,"tbody"),r.vc(15,DE,8,8,"tr",2),r.Pb(16,"tr"),r.Pb(17,"td",5),r.xc(18,"Total"),r.Ob(),r.Pb(19,"td"),r.xc(20),r.cc(21,"currency"),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Ob(),r.Pb(22,"td"),r.Pb(23,"label",6),r.Pb(24,"input",7),r.Zb("ngModelChange",function(t){return e.$implicit.isSend=t}),r.Ob(),r.xc(25," Order is ready and send "),r.Ob(),r.Ob(),r.Pb(26,"td"),r.Pb(27,"button",8),r.Zb("click",function(){r.pc(t);const n=e.index,i=r.bc().index;return r.bc().updateOrder(i,n)}),r.xc(28,"Save changes"),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=e.$implicit,n=e.index,i=r.bc().index,o=r.bc();r.yb(2),r.yc(0==i?n+1:o.orderList[i-1].length+n+1),r.yb(2),r.yc(t.userID),r.yb(11),r.hc("ngForOf",t.productList),r.yb(5),r.yc(r.ec(21,5,t.total,"RUB","symbol-narrow","1.2-2")),r.yb(4),r.hc("ngModel",t.isSend)}}function kE(t,e){if(1&t&&(r.Pb(0,"tbody"),r.vc(1,jE,29,10,"tr",2),r.Ob()),2&t){const t=e.$implicit;r.yb(1),r.hc("ngForOf",t)}}const PE=[{path:"",component:TE},{path:"products-admin",component:xE,canActivate:[KO]},{path:"cart",component:EE,canActivate:[KO]},{path:"login",component:_E},{path:"logout",component:bE},{path:"orders",component:gE,canActivate:[KO]},{path:"orders-admin",component:(()=>{class t{constructor(t){this.oas=t,this.userList=[],this.orderList=[]}ngOnInit(){this.oas.getUsers().subscribe(t=>{this.userList=t.map(t=>Object.assign({id:t.payload.doc.id},t.payload.doc.data())),this.userList.forEach(t=>{t.isAdmin&&this.userList.splice(this.userList.indexOf(t),1)}),this.orderList=new Array(this.userList.length),this.userList.forEach(t=>this.oas.getOrders(t.id).subscribe(e=>{this.orderList[this.userList.indexOf(t)]=e.map(e=>Object.assign({userID:t.id,id:e.payload.doc.id},e.payload.doc.data()))}))})}updateOrder(t,e){return this.oas.updateOrder(this.orderList[t][e].userID,this.orderList[t][e].id,this.orderList[t][e].isSend)}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(SE))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-orders-admin"]],decls:14,vars:1,consts:[[1,"table","table-striped","table-bordered","table-primary"],[1,"bg-primary","text-white"],[4,"ngFor","ngForOf"],[1,"table","table-striped","table-bordered","table-info"],[1,"bg-info","text-white"],["colspan","2",1,"text-right"],[1,"form-check-label","p-5"],["type","checkbox",1,"form-check-input",3,"ngModel","ngModelChange"],[1,"btn","btn-success","text-white",2,"margin","7px",3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"br"),r.Pb(1,"table",0),r.Pb(2,"thead",1),r.Pb(3,"td"),r.xc(4,"\u2116"),r.Ob(),r.Pb(5,"td"),r.xc(6,"User id"),r.Ob(),r.Pb(7,"td"),r.xc(8,"Order"),r.Ob(),r.Pb(9,"td"),r.xc(10,"Order is send"),r.Ob(),r.Pb(11,"td"),r.xc(12,"Update"),r.Ob(),r.Ob(),r.vc(13,kE,2,1,"tbody",2),r.Ob()),2&t&&(r.yb(13),r.hc("ngForOf",e.orderList))},directives:[ut,Ab,$b,jv],pipes:[gt],styles:[""]}),t})(),canActivate:[KO]},{path:"products",component:hE,canActivate:[KO]},{path:"signup",component:oE},{path:"**",component:$O}];let RE=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[VO.forRoot(PE)],VO]}),t})();var NE=n("n6bG");function FE(t,e,n,r){return Object(NE.a)(n)&&(r=n,n=void 0),r?FE(t,e,n).pipe(Object(v.a)(t=>Object(wb.a)(t)?r(...t):r(t))):new o.a(r=>{LE(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function LE(t,e,n,r,i){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),o=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),o=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),o=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let o=0,s=t.length;o<s;o++)LE(t[o],e,n,r,i)}r.add(o)}var VE=n("Y7HM");function UE(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class ME{call(t,e){return e.subscribe(new BE(t))}}class BE extends Sy{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=ky(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var HE=n("Lhse");function qE(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(Py.a)(t,void 0).lift(new zE(e))}class zE{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new WE(t,this.resultSelector))}}class WE extends d.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(wb.a)(t)?e.push(new KE(t)):e.push("function"==typeof t[HE.a]?new GE(t[HE.a]()):new $E(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class GE{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class KE{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[HE.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class $E extends Kp.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[HE.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(Kp.c)(this.observable,new Kp.a(this))}}function ZE(t){return e=>e.lift(new JE(t))}class JE{constructor(t){this.notifier=t}call(t,e){const n=new YE(t),r=Object(Kp.c)(this.notifier,new Kp.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class YE extends Kp.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function XE(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new QE(t,n))}}class QE{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new tC(t,this.observables,this.project))}}class tC extends Sy{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(ky(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4"),n("w1tV");const eC=["*"],nC=["dialog"];function rC(t){return null!=t}function iC(t){return(t||document.body).offsetHeight}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const oC={animation:!0,transitionTimerDelayMs:5};let sC=(()=>{class t{constructor(){this.animation=oC.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Gb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const uC=()=>{},{transitionTimerDelayMs:aC}=oC,cC=new Map,lC=(t,e,n,r)=>{let s=r.context||{};const a=cC.get(e);if(a)switch(r.runningTransition){case"continue":return sg.a;case"stop":t.run(()=>a.transition$.complete()),s=Object.assign(a.context,s),cC.delete(e)}const c=n(e,r.animation,s)||uC;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>c()),Object(u.a)(void 0).pipe(function(t){return e=>new o.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const f=new Wp.a,d=new Wp.a,p=f.pipe(function(...t){return e=>l(e,Object(u.a)(...t))}(!0));cC.set(e,{transition$:f,complete:()=>{d.next(),d.complete()},context:s});const g=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=FE(e,"transitionend").pipe(ZE(p),E(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(wb.a)(t[0]))return t[0];t=t[0]}return Object(Py.a)(t,void 0).lift(new ME)})(function(t=0,e,n){let r=-1;return Object(VE.a)(e)?r=Number(e)<1?1:Number(e):Object(h.a)(e)&&(n=e),Object(h.a)(n)||(n=i.a),new o.a(e=>{const i=Object(VE.a)(t)?t:+t-n.now();return n.schedule(UE,i,{index:0,period:r,subscriber:e})})}(g+aC).pipe(ZE(p)),n,d).pipe(ZE(p)).subscribe(()=>{cC.delete(e),t.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()};let hC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})(),fC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})(),dC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),pC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})(),gC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();var bC=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const vC=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function mC(t){const e=Array.from(t.querySelectorAll(vC)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let o={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,n,r){const[i="top",o="center"]=n.split("-"),s=r?this.offset(t,!1):this.position(t,!1),u=this.getAllStyles(e),a=parseFloat(u.marginTop),c=parseFloat(u.marginBottom),l=parseFloat(u.marginLeft),h=parseFloat(u.marginRight);let f=0,d=0;switch(i){case"top":f=s.top-(e.offsetHeight+a+c);break;case"bottom":f=s.top+s.height;break;case"left":d=s.left-(e.offsetWidth+l+h);break;case"right":d=s.left+s.width}switch(o){case"top":f=s.top;break;case"bottom":f=s.top+s.height-e.offsetHeight;break;case"left":d=s.left;break;case"right":d=s.left+s.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?d=s.left+s.width/2-e.offsetWidth/2:f=s.top+s.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(d)}px, ${Math.round(f)}px)`;const p=e.getBoundingClientRect(),g=document.documentElement,b=window.innerHeight||g.clientHeight,v=window.innerWidth||g.clientWidth;return p.left>=0&&p.top>=0&&p.right<=v&&p.bottom<=b}},new Date(1882,10,12),new Date(2174,10,25);let yC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt,Mv]]}),t})(),wC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Fb({type:t,selectors:[["",8,"navbar"]]}),t})(),_C=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})(),OC=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(sC))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(sC))},token:t,providedIn:"root"}),t})();class EC{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const CC=()=>{};let AC=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):CC}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=r+t+"px",()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(D))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(D))},token:t,providedIn:"root"}),t})(),xC=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(ug(1)).subscribe(()=>{lC(this._zone,this._el.nativeElement,(t,e)=>{e&&iC(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return lC(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(r.l),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Ab("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Cb("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class IC{close(t){}dismiss(t){}}class TC{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Wp.a,this._dismissed=new Wp.a,this._hidden=new Wp.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ZE(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ZE(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(u.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),qE(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var SC=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let DC=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Wp.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.n,this.shown=new Wp.a,this.hidden=new Wp.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=qE(lC(this._zone,t,()=>t.classList.remove("show"),e),lC(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};qE(lC(this._zone,this._elRef.nativeElement,(t,e)=>{e&&iC(t),t.classList.add("show")},t),lC(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{FE(t,"keydown").pipe(ZE(this._closed$),E(t=>t.which===bC.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(SC.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;FE(this._dialogEl.nativeElement,"mousedown").pipe(ZE(this._closed$),Object(Gy.a)(()=>e=!1),$p(()=>FE(t,"mouseup").pipe(ZE(this._closed$),ug(1))),E(({target:e})=>t===e)).subscribe(()=>{e=!0}),FE(t,"click").pipe(ZE(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(SC.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=mC(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&lC(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(D),r.Kb(r.l),r.Kb(r.z))},t.\u0275cmp=r.Eb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.tc(nC,!0),2&t){let t;r.nc(t=r.ac())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.zb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Ab("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Cb("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:eC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.gc(),r.Pb(0,"div",0,1),r.Pb(2,"div",2),r.fc(3),r.Ob(),r.Ob()),2&t&&r.Ab("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":""))},styles:["ngb-modal-window .component-host-scrollable{-ms-flex-direction:column;display:-ms-flexbox;display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),jC=(()=>{class t{constructor(t,e,n,i,o,s){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new Wp.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.n,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=FE(e,"focusin").pipe(ZE(n),Object(v.a)(t=>t.target));FE(e,"keydown").pipe(ZE(n),E(t=>t.which===bC.Tab),XE(t)).subscribe(([t,n])=>{const[r,i]=mC(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&FE(e,"click").pipe(ZE(n),XE(t),Object(v.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:rC(r.container)?this._document.querySelector(r.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),u=()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const a=new IC,c=this._getContentRef(t,r.injector||e,n,a,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,c),f=new TC(h,c,l,r.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(h),f.result.then(s,s),f.result.then(u,u),a.close=t=>{f.close(t)},a.dismiss=t=>{f.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(xC).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(DC).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{rC(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{rC(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,o){return n?n instanceof r.K?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,o):new EC([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new EC([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(""+t);return new EC([[e]])}_createFromComponent(t,e,n,i,o){const s=t.resolveComponentFactory(n),u=r.r.create({providers:[{provide:IC,useValue:i}],parent:e}),a=s.create(u),c=a.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new EC([[c]],a.hostView,a)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.g),r.Wb(r.r),r.Wb(D),r.Wb(AC),r.Wb(r.E),r.Wb(r.z))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(r.g),Object(r.Wb)(r.o),Object(r.Wb)(D),Object(r.Wb)(AC),Object(r.Wb)(r.E),Object(r.Wb)(r.z))},token:t,providedIn:"root"}),t})(),kC=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.j),r.Wb(r.r),r.Wb(jC),r.Wb(OC))},t.\u0275prov=Object(r.Gb)({factory:function(){return new t(Object(r.Wb)(r.j),Object(r.Wb)(r.o),Object(r.Wb)(jC),Object(r.Wb)(OC))},token:t,providedIn:"root"}),t})(),PC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[kC]}),t})(),RC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})(),NC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})(),FC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})(),LC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})(),VC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})(),UC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})(),MC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})(),BC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)}}),t})();new r.q("live announcer delay",{providedIn:"root",factory:function(){return 100}});let HC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[[bt]]}),t})();const qC=[hC,fC,dC,pC,gC,yC,_C,PC,RC,NC,FC,LC,VC,UC,MC,BC,HC];let zC=(()=>{class t{}return t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},imports:[qC,hC,fC,dC,pC,gC,yC,_C,PC,RC,NC,FC,LC,VC,UC,MC,BC,HC]}),t})();function WC(t,e){1&t&&(r.Pb(0,"a",16),r.xc(1,"Products change"),r.Ob())}function GC(t,e){1&t&&(r.Pb(0,"a",17),r.xc(1,"Orders change"),r.Ob())}function KC(t,e){1&t&&(r.Pb(0,"a",18),r.xc(1,"Products"),r.Ob())}function $C(t,e){1&t&&(r.Pb(0,"a",19),r.xc(1,"Cart"),r.Ob())}function ZC(t,e){1&t&&(r.Pb(0,"a",20),r.xc(1,"Orders"),r.Ob())}function JC(t,e){1&t&&(r.Pb(0,"a",21),r.xc(1,"Login"),r.Ob())}function YC(t,e){1&t&&(r.Pb(0,"a",22),r.xc(1,"Sign Up"),r.Ob())}function XC(t,e){if(1&t){const t=r.Qb();r.Pb(0,"a",23),r.Zb("click",function(){return r.pc(t),r.bc().logout()}),r.xc(1,"Logout"),r.Ob()}}let QC=(()=>{class t{constructor(t){this.as=t,this.isUser=!1,this.isOpen=!1,this.isAdmin=!1}toggleNavBar(){this.isOpen=!this.isOpen}ngOnInit(){this.as.user.subscribe(t=>{t?(this.isUser=!0,this.as.userID=t.uid,this.as.getInfo().then(t=>this.isAdmin=t)):(this.isUser=!1,this.as.userID="")})}logout(){this.as.logout(),this.isAdmin=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Kb(Iy))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-navbar"]],decls:26,vars:10,consts:[[1,"navbar","navbar-expand-lg","navbar-light",2,"background-color","skyblue"],[1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/","routerLinkActive","Active",1,"nav-link"],["class","nav-link","routerLink","/products-admin","routerLinkActive","Active",4,"ngIf"],["class","nav-link","routerLink","/orders-admin","routerLinkActive","Active",4,"ngIf"],["class","nav-link","routerLink","/products","routerLinkActive","Active",4,"ngIf"],["class","nav-link","routerLink","/cart","routerLinkActive","Active",4,"ngIf"],["class","nav-link","routerLink","/orders","routerLinkActive","Active",4,"ngIf"],["class","nav-link","routerLink","/login","routerLinkActive","Active",4,"ngIf"],["class","nav-link","routerLink","/signup","routerLinkActive","Active",4,"ngIf"],["class","nav-link","style","text-overflow: clip;","routerLink","/logout","routerLinkActive","Active",3,"click",4,"ngIf"],["routerLink","/products-admin","routerLinkActive","Active",1,"nav-link"],["routerLink","/orders-admin","routerLinkActive","Active",1,"nav-link"],["routerLink","/products","routerLinkActive","Active",1,"nav-link"],["routerLink","/cart","routerLinkActive","Active",1,"nav-link"],["routerLink","/orders","routerLinkActive","Active",1,"nav-link"],["routerLink","/login","routerLinkActive","Active",1,"nav-link"],["routerLink","/signup","routerLinkActive","Active",1,"nav-link"],["routerLink","/logout","routerLinkActive","Active",1,"nav-link",2,"text-overflow","clip",3,"click"]],template:function(t,e){1&t&&(r.Pb(0,"nav",0),r.Pb(1,"a",1),r.xc(2,"E-commerce App"),r.Ob(),r.Pb(3,"button",2),r.Zb("click",function(){return e.toggleNavBar()}),r.Lb(4,"span",3),r.Ob(),r.Pb(5,"div",4),r.Pb(6,"ul",5),r.Pb(7,"li",6),r.Pb(8,"a",7),r.xc(9,"Home"),r.Ob(),r.Ob(),r.Pb(10,"li",6),r.vc(11,WC,2,0,"a",8),r.Ob(),r.Pb(12,"li",6),r.vc(13,GC,2,0,"a",9),r.Ob(),r.Pb(14,"li",6),r.vc(15,KC,2,0,"a",10),r.Ob(),r.Pb(16,"li",6),r.vc(17,$C,2,0,"a",11),r.Ob(),r.Pb(18,"li",6),r.vc(19,ZC,2,0,"a",12),r.Ob(),r.Pb(20,"li",6),r.vc(21,JC,2,0,"a",13),r.Ob(),r.Pb(22,"li",6),r.vc(23,YC,2,0,"a",14),r.Ob(),r.Pb(24,"li",6),r.vc(25,XC,2,0,"a",15),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.yb(5),r.Cb("show",e.isOpen),r.yb(6),r.hc("ngIf",e.isAdmin),r.yb(2),r.hc("ngIf",e.isAdmin),r.yb(2),r.hc("ngIf",e.isUser&&!e.isAdmin),r.yb(2),r.hc("ngIf",e.isUser&&!e.isAdmin),r.yb(2),r.hc("ngIf",e.isUser&&!e.isAdmin),r.yb(2),r.hc("ngIf",!e.isUser),r.yb(2),r.hc("ngIf",!e.isUser),r.yb(2),r.hc("ngIf",e.isUser))},directives:[wC,AO,IO,ct],styles:[""]}),t})(),tA=(()=>{class t{constructor(){this.title="Ecommerce-app"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"class"]],template:function(t,e){1&t&&(r.Pb(0,"div",0),r.Lb(1,"app-navbar"),r.Ob(),r.Pb(2,"div",0),r.Lb(3,"router-outlet"),r.Ob())},directives:[QC,TO],styles:[""]}),t})(),eA=(()=>{class t{}return t.\u0275mod=r.Ib({type:t,bootstrap:[tA]}),t.\u0275inj=r.Hb({factory:function(e){return new(e||t)},providers:[qg],imports:[[yb,RE,zC,Mv,I.a.initializeApp({apiKey:"AIzaSyAqpRIL3TOqxtu6SXo-OI-pahQ07g5U3lc",authDomain:"ecommerceapp-79ef9.firebaseapp.com",projectId:"ecommerceapp-79ef9",storageBucket:"ecommerceapp-79ef9.appspot.com",messagingSenderId:"775638600593",appId:"1:775638600593:web:524ce78cf8a55fa0f36830"}),zg,Tg,xy]]}),t})();Object(r.S)(),vb().bootstrapModule(eA).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);